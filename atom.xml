<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Magical Bean</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://wsx1128.xyz/"/>
  <updated>2019-10-09T12:52:28.485Z</updated>
  <id>http://wsx1128.xyz/</id>
  
  <author>
    <name>äº”å…‰å›</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Regular Expressions --- the course of algorithm</title>
    <link href="http://wsx1128.xyz/2019/10/09/Regular-Expressions-the-course-of-algorithm/"/>
    <id>http://wsx1128.xyz/2019/10/09/Regular-Expressions-the-course-of-algorithm/</id>
    <published>2019-10-09T11:11:42.000Z</published>
    <updated>2019-10-09T12:52:28.485Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Regular-Expressions"><a href="#Regular-Expressions" class="headerlink" title="Regular Expressions"></a>Regular Expressions</h2><h3 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h3><p>åœ¨æ–‡æœ¬ä¸­æŸ¥æ‰¾å­å­—ç¬¦ä¸²åªæ˜¯å¯»æ‰¾ä¸€ä¸ªå•ä¸€çš„å­—ç¬¦ä¸²ï¼Œä½†ç»å¸¸çš„æˆ‘ä»¬å¯èƒ½ä¸çŸ¥é“è¿™ä¸ªå­—ç¬¦ä¸²çš„å®Œæ•´ä¿¡æ¯ï¼Œæˆ–æ˜¯å¯»æ‰¾çš„æ˜¯å»åˆæŸç§æ¨¡å¼çš„ä¸€äº›å­—ç¬¦ä¸²ï¼Œå³æ‰€è°“ æ¨¡å¼åŒ¹é…ï¼ˆPattern Matchingï¼‰ã€‚</p><p>æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular Expressionsï¼‰ å°±æ˜¯ç”¨æ¥æè¿°æ¨¡å¼çš„ï¼Œè¡¨ç¤ºç¬¦åˆæŸç§æ¨¡å¼çš„å­—ç¬¦ä¸²çš„é›†åˆï¼ˆå¯èƒ½æ˜¯æ— é™çš„ï¼‰ï¼Œå®ƒæœ‰ä¸‹é¢å‡ ç§åŸºæœ¬æ“ä½œï¼š</p><p><img src="/2019/10/09/Regular-Expressions-the-course-of-algorithm/1.png" alt=""></p><p>å°±æ˜¯æ™®é€šçš„æ­£åˆ™è¡¨è¾¾å¼é‡Œé¢çš„æ“ä½œã€‚</p><p>è¿æ¥ã€æˆ–ã€é—­åŒ…å’Œæ‹¬å·ï¼Œéƒ½ä¸éš¾ç†è§£ã€‚å…¶ä¸­é—­åŒ…è¡¨ç¤ºè‹¥å¹²ä¸ªè‡ªèº«è¿æ¥ï¼Œå¯ä»¥æ˜¯é›¶ä¸ªã€‚</p><p>ç„¶åä»–ä¸€èˆ¬æœ‰ä»¥ä¸‹è¿™äº›ç¼©ç•¥æ–¹å¼</p><p><img src="/2019/10/09/Regular-Expressions-the-course-of-algorithm/2.png" alt=""></p><p>å…³äºå®Œæ•´çš„æ­£åˆ™è¡¨è¾¾å¼ å¯ä»¥å»çœ‹çœ‹</p><p><a href="https://www.jb51.net/tools/regexsc.htm" target="_blank" rel="noopener">æ­£åˆ™è¡¨è¾¾å¼é€ŸæŸ¥è¡¨</a></p><p><a href="https://blog.csdn.net/carechere/article/details/52315728" target="_blank" rel="noopener">åŸºæœ¬ä¸Šå¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼</a></p><p>å› ä¸ºä¹‹å‰æ¥è§¦è¿‡æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰€ä»¥è¿™ä¸ªåœ°æ–¹ä¹Ÿå°±ä¸å†å¤šä½™èµ˜è¿°äº†ã€‚</p><h3 id="REs-And-NFAs"><a href="#REs-And-NFAs" class="headerlink" title="REs And NFAs"></a>REs And NFAs</h3><p>å…¶å®ï¼Œæ­£åˆ™è¡¨è¾¾å¼å’Œç¡®å®šå‹æœ‰ç©·è‡ªåŠ¨æœºé—´å­˜åœ¨ç€äºŒå…ƒæ€§ï¼ˆdualityï¼‰ï¼Œå³ Kleene å®šç†æ‰€è¯´ï¼šå¯¹ä»»æ„ DFA å­˜åœ¨ç€æè¿°åŒæ ·å­—ç¬¦ä¸²é›†åˆçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯¹ä»»æ„æ­£åˆ™è¡¨è¾¾å¼å­˜åœ¨ç€è¯†åˆ«åŒæ ·å­—ç¬¦ä¸²é›†åˆçš„ DFAã€‚</p><p>å°±åƒä¹‹å‰å­¦ä¹ KMPçš„æ—¶å€™æ„é€ çš„DFAï¼Œè¿™é‡Œå…¶å®ä¹Ÿå¯ä»¥æ„é€ ä¸€ä¸ªDFAï¼Œå°±åƒè¿™æ ·<br><img src="/2019/10/09/Regular-Expressions-the-course-of-algorithm/3.png" alt=""></p><p>å½“ç„¶åº”ç”¨åœ¨KMPä¸Šé¢çš„DFAæ˜¯çº¿æ€§æ—¶é—´çš„æ€§èƒ½ä¿è¯ï¼Œä½†æ˜¯è¿™ä¸ªåŠæ³•å¹¶ä¸å¯è¡Œï¼Œå› ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹åº”çš„DFAçš„çŠ¶æ€æ•°ç›®å¯èƒ½æ˜¯æŒ‡æ•°çº§çš„ã€‚</p><p>äºæ˜¯ï¼Œå°±æ¥äº†è§£ä¸€ä¸‹ éç¡®å®šå‹æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ŒçŠ¶æ€ä¹‹é—´çš„è½¬ç§»å¹¶ä¸æ˜¯ç¡®å®šçš„ã€‚</p><ul><li><p>æ­£åˆ™è¡¨è¾¾å¼ç”¨æ‹¬å·æ‹¬èµ·ã€‚</p></li><li><p>æ­£åˆ™æ¯ä¸ªç¬¦å·å¯¹åº” NFA ä¸€ä¸ªçŠ¶æ€ï¼Œå†åŠ ä¸ªæ¥å—çŠ¶æ€ã€‚</p></li><li><p>æ¥å—ç©ºä¸²ğœ–ï¼Œä¸æ‰«æä¸‹ä¸ªå­—ç¬¦è€Œç›´æ¥æ”¹å˜çŠ¶æ€ï¼ˆä¸‹å›¾çº¢çº¿ï¼‰ï¼Œä¸ç¡®å®šæ€§æ‰€åœ¨ã€‚</p></li><li><p>æ‰«æå­—ç¬¦ï¼ŒåŒ¹é…è½¬ç§»åˆ°ä¸€ä¸‹ä¸ªçŠ¶æ€ï¼ˆä¸‹å›¾é»‘çº¿ï¼‰ã€‚</p></li><li><p>åœ¨æ‰«æå®Œå…¨éƒ¨æ–‡æœ¬å­—ç¬¦åï¼Œå¦‚æœæœ‰ ä»»ä¸€ è½¬ç§»åºåˆ—åˆ°è¾¾æ¥å—çŠ¶æ€ï¼Œåˆ™åŒ¹é…æˆåŠŸã€‚</p></li></ul><p><img src="/2019/10/09/Regular-Expressions-the-course-of-algorithm/4.png" alt=""></p><h3 id="NFA-construction"><a href="#NFA-construction" class="headerlink" title="NFA-construction"></a>NFA-construction</h3><p>é¦–å…ˆå…ˆè®²ä¸€ä¸‹å®ƒçš„æ„é€ è¿‡ç¨‹</p><p>æœ€å…ˆå¼€å§‹çš„çŠ¶æ€ï¼Œæœ€åä¸€ä¸ªä½ç½®è¡¨ç¤ºå®ŒæˆåŒ¹é…<br><img src="/2019/10/09/Regular-Expressions-the-course-of-algorithm/5.png" alt=""></p><p>æ‰€æœ‰å­—ç¬¦ç›´æ¥æŒ‡å‘ä¸‹ä¸€ä¸ª<br><img src="/2019/10/09/Regular-Expressions-the-course-of-algorithm/6.png" alt=""></p><p>æ‹¬å·æˆ–è€…ç©ºçš„ï¼Œå°±ç›´æ¥å¾€ä¸‹é¢æŒ‡å°±è¡Œäº†<br><img src="/2019/10/09/Regular-Expressions-the-course-of-algorithm/7.png" alt=""></p><p>é—­åŒ…ï¼Œæ¯”è¾ƒå·§å¦™<br><img src="/2019/10/09/Regular-Expressions-the-course-of-algorithm/8.png" alt=""></p><p>ä¸è¿‡åˆ†ä¸¤ç§æƒ…å†µï¼Œä¾‹å­é‡Œé¢çš„å°±æ˜¯ç¬¬ä¸€ç§æƒ…å†µ<br><img src="/2019/10/09/Regular-Expressions-the-course-of-algorithm/9.png" alt=""></p><p>ç¬¦å· â€˜|â€™<br><img src="/2019/10/09/Regular-Expressions-the-course-of-algorithm/10.png" alt=""></p><p>æœ€åå†æ¥ä¸¤ä¸ªç©ºè½¬ç§»<br><img src="/2019/10/09/Regular-Expressions-the-course-of-algorithm/11.png" alt=""></p><p>å½“ç„¶ï¼Œåœ¨å®Œæˆä¸Šé¢çš„æ„é€ çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å€ŸåŠ©æ•°æ®ç»“æ„æ ˆï¼Œç¢°åˆ°å·¦æ‹¬å·æˆ–è€…â€˜|â€™çš„æ—¶å€™å°±ç›´æ¥å°†å…¶çš„ç¼–å·å‹åˆ°æ ˆå†…ï¼Œç¢°åˆ°å³æ‹¬å·å°±å¼¹å‡ºæ ˆé¡¶ï¼Œå¦‚æœå¯¹äºçš„æ˜¯å…¶ä»–ä¸œè¥¿ï¼Œå°±ç›´æ¥æ ¹æ®ä¸Šé¢çš„å›¾æ¥é¡ºåº”ç»“æœï¼Œå…·ä½“çœ‹ä»£ç ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œå°±æ˜¯ç›´æ¥ç”¨æœ‰å‘å›¾æ¥è¿›è¡Œè¡¨ç¤ºã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> Digraph <span class="title">buildNFA</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Digraph g = <span class="keyword">new</span> Digraph(M + <span class="number">1</span>); <span class="comment">// é¡¶ç‚¹æ•°åŠ 1</span></span><br><span class="line">    Stack&lt;Integer&gt; ops = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> lp = i;</span><br><span class="line">        <span class="keyword">if</span> (re[i] == <span class="string">'('</span> || re[i] == <span class="string">'|'</span>) ops.push(i);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (re[i] == <span class="string">')'</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> or = ops.pop();</span><br><span class="line">            <span class="keyword">if</span> (re[or] == <span class="string">'|'</span>) &#123;</span><br><span class="line">                lp = ops.pop();</span><br><span class="line">                g.addEdge(lp, or + <span class="number">1</span>);</span><br><span class="line">                g.addEdge(or + <span class="number">1</span>, lp);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> lp = or;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; M - <span class="number">1</span> &amp;&amp; re[i + <span class="number">1</span>] == <span class="string">'*'</span>) &#123;</span><br><span class="line">            g.addEdge(lp, i + <span class="number">1</span>);</span><br><span class="line">            g.addEdge(i + <span class="number">1</span>, lp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (re[i] == <span class="string">'('</span> || re[i] == <span class="string">'*'</span> || re[i] == <span class="string">')'</span>)</span><br><span class="line">            g.addEdge(i, i + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> g;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="NFA-simulation"><a href="#NFA-simulation" class="headerlink" title="NFA-simulation"></a>NFA-simulation</h3><p>é¦–å…ˆæˆ‘ä»¬è¿™æ ·æ¥è¡¨ç¤º NFAï¼šç”¨æ•´æ•° 0 åˆ° Mï¼ˆæ­£åˆ™é•¿åº¦ï¼‰æ¥æ ‡å·çŠ¶æ€ï¼ˆåƒä¸Šå›¾ï¼‰ï¼Œç”¨æ•°ç»„ re æ¥å­˜å‚¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨æœ‰å‘å›¾æ¥å­˜å‚¨ç©ºè½¬ç§»</p><p>è‡³äºæ€ä¹ˆæ¨¡æ‹Ÿ NFA è¾“å…¥æ–‡æœ¬è¿è¡Œï¼Œæ„Ÿè§‰ç±»ä¼¼å¹¿æœï¼Œç»´æŠ¤æ¯ä¸€æ­¥æ‰€æœ‰å¯èƒ½èµ°åˆ°çš„çŠ¶æ€ï¼Œä¸‹ä¸€æ­¥å†æ‹“å±•è¿™äº›çŠ¶æ€ï¼Œè¦æ˜¯æ–‡æœ¬æµç»“æŸé‚£æ­¥çš„çŠ¶æ€é‡ŒåŒ…å«æ¥å—çŠ¶æ€ï¼Œå°±è¡¨ç¤ºåŒ¹é…æˆåŠŸã€‚ä¾‹å›¾ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NFA</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">char</span>[] re;    <span class="comment">// match transitions</span></span><br><span class="line">    <span class="keyword">private</span> Digraph G;    <span class="comment">// epsilon transition digraph</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> M;        <span class="comment">// number of states</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NFA</span><span class="params">(String regexp)</span> </span>&#123;</span><br><span class="line">        M = regexp.length();</span><br><span class="line">        re = regexp.toCharArray();    </span><br><span class="line">        G = buildEpsilonTransitionDigraph();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">recognizes</span><span class="params">(String txt)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// states reachable from start by epsilon transitions</span></span><br><span class="line">        Bag&lt;Integer&gt; pc = <span class="keyword">new</span> Bag&lt;Integer&gt;();</span><br><span class="line">        DirectedDFS dfs = <span class="keyword">new</span> DirectedDFS(G, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; G.V(); v++)</span><br><span class="line">            <span class="keyword">if</span> (dfs.marked(v)) pc.add(v);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; txt.length(); i++) &#123;</span><br><span class="line">            <span class="comment">// states reachable after scanning past txt.charAt(i)</span></span><br><span class="line">            Bag&lt;Integer&gt; match = <span class="keyword">new</span> Bag&lt;Integer&gt;();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> v : pc) &#123;</span><br><span class="line">                <span class="keyword">if</span> (v == M) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="comment">// åŒ¹é…æ—¶ç›´æ¥åŠ ä¸Šä¸‹ä¸€ä¸ªçŠ¶æ€</span></span><br><span class="line">                <span class="keyword">if</span> ((re[v] == txt.charAt(i)) || re[v] == <span class="string">'.'</span>)</span><br><span class="line">                    match.add(v + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//æœ€åçš„ç»“æœå°±æ˜¯ match é‡æ–°å¤åˆ¶äº†ä¸€éä¸Šè¿°çš„å…¨éƒ¨</span></span><br><span class="line">            dfs = <span class="keyword">new</span> DirectedDFS(G, match);    <span class="comment">// æ‹“å±•ä¸Šä¸€æ­¥çš„æ‰€æœ‰çŠ¶æ€</span></span><br><span class="line">            pc = <span class="keyword">new</span> Bag&lt;Integer&gt;();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; G.V(); v++)</span><br><span class="line">                <span class="keyword">if</span> (dfs.marked(v)) pc.add(v);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// accept if can end in state M</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v : pc)</span><br><span class="line">            <span class="keyword">if</span> (v == M) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å›¾æ–‡ å¤§éƒ¨åˆ†å€Ÿé‰´ <a href="https://www.cnblogs.com/mingyueanyao/p/9495243.html" target="_blank" rel="noopener">åšå®¢</a></p><p>è‹¥ä¾µæƒï¼Œå¿…åˆ ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="java" scheme="http://wsx1128.xyz/tags/java/"/>
    
      <category term="æ™®æ—æ–¯é¡¿ç®—æ³•è¯¾" scheme="http://wsx1128.xyz/tags/%E6%99%AE%E6%9E%97%E6%96%AF%E9%A1%BF%E7%AE%97%E6%B3%95%E8%AF%BE/"/>
    
  </entry>
  
  <entry>
    <title>BoggleSolver</title>
    <link href="http://wsx1128.xyz/2019/09/28/BoggleSolver/"/>
    <id>http://wsx1128.xyz/2019/09/28/BoggleSolver/</id>
    <published>2019-09-28T13:44:37.000Z</published>
    <updated>2019-10-09T12:50:55.537Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a><a href="https://coursera.cs.princeton.edu/algs4/assignments/boggle/specification.php" target="_blank" rel="noopener">é¢˜ç›®</a></h3><p><img src="/2019/09/28/BoggleSolver/1.png" alt="1"><br><img src="/2019/09/28/BoggleSolver/2.png" alt="2"><br><img src="/2019/09/28/BoggleSolver/3.png" alt="3"><br><img src="/2019/09/28/BoggleSolver/4.png" alt="4"><br><img src="/2019/09/28/BoggleSolver/5.png" alt="5"></p><h3 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h3><p>è¿™é“é¢˜çš„æ„æ€å°±æ˜¯ ç»™ä½ ä¸€ä¸ªå››ä¹˜ä»¥å››çš„æ–¹å—ï¼Œç„¶åå†è¿™ä¸ªæ–¹å—é‡Œé¢éå†æ‰€æœ‰èƒ½åˆ°çš„ä½ç½®ï¼Œå…«ä¸ªæ–¹å‘ï¼Œæ¯ä¸ªä½ç½®åªèƒ½èµ°ä¸€æ¬¡ï¼Œæ–¹å—ä¸Šé¢å„æœ‰ä¸€ä¸ªå­—æ¯ï¼Œèµ°è¿‡æ¯ä¸€ä¸ªå­—æ¯ä¹‹åæ„æˆä¸€ä¸ªå•è¯ï¼Œç„¶åçœ‹è¿™ä¸ªå•è¯æœ€ååœ¨ä¸åœ¨å­—å…¸ä¸­ï¼Œä¸”èƒ½å¾—åˆ°å¤šå°‘åˆ†ï¼Ÿ</p><p><img src="https://coursera.cs.princeton.edu/algs4/assignments/boggle/pins.png" alt=""></p><p>æœ€å…ˆå¼€å§‹çš„æƒ³æ³•ï¼Œæ˜¯ç”¨ä¸€ä¸ªbfsï¼Œç„¶åå°†æ¯ä¸€ä¸ªéå†æ¯ä¸€ä¸ªå•è¯ï¼Œç„¶åå†è®²æ¯ä¸€ä¸ªå•è¯æ”¾å…¥åˆ°å…¶ä¸­è¿›è¡Œåˆ¤æ–­ï¼Œè¿™æ ·çš„è¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šç‰¹åˆ«é«˜ï¼Œæ²¡ä¸€ä¸ªå•è¯éƒ½è¦éå†å…¨éƒ¨ä½ç½®ï¼Œå¹¶ä¸” ä¸€äº›å•è¯æ²¡æœ‰çš„å‰ç¼€ï¼Œ<strong>æ¯”å¦‚ï¼Œæ²¡æœ‰Y å¼€å¤´çš„å•è¯çš„è¯ï¼Œé‚£ä¹ˆæˆ‘åœ¨ä»Yè¿™é‡Œå¼€å§‹èµ°çš„è¯ï¼Œä¼šæµªè´¹ç‰¹åˆ«å¤šçš„ç²¾åŠ›ã€‚</strong></p><p>æ‰€ä»¥ï¼Œçœ‹äº†ä¸€ä¸‹è§£æï¼Œæ˜¯ç›´æ¥ç”¨å­—å…¸æ ‘å»å­˜å‚¨ï¼Œç„¶åéå†ä½ç½®ï¼Œå°±ç›¸å½“äºéå†å­—å…¸æ ‘ä¸€æ ·ã€‚</p><p>æ‰¾æ—¶é—´å¾—é‡æ–°å†™ä¸€ä¸‹ã€‚è‡ªå·±åšçš„å¾ˆä¸å¯¹çš„åœ°æ–¹å°±åœ¨äºï¼Œè‡ªå·±ç”¨çš„bfsï¼Œæ³¨æ„çš„æ˜¯è¿™ä¸ªçŠ¶æ€å¹¶ä¸æ˜¯å¾ªåºæ¸è¿›çš„å˜åŒ–ï¼Œè€Œæ˜¯æ¯ä¸€ä¸ªçŠ¶æ€éƒ½ä¸ä¸€æ ·ï¼Œå¦‚æœè¦ç”¨bfsçš„è¯ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªçŠ¶æ€éƒ½è¦å­˜è¿›å»å¤§é‡çš„ä¸œè¥¿é‡ç½®ï¼Œæ‰€ä»¥ï¼Œè¿™å°±æ˜¯ä¸å‡†ç¡®çš„åœ°æ–¹ã€‚</p><h3 id="è´´ä»£ç "><a href="#è´´ä»£ç " class="headerlink" title="è´´ä»£ç "></a>è´´ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.Bag;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.Stack;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BoggleSolver</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">//è‡ªå·±å»ºç«‹çš„ å­—å…¸æ ‘ï¼Œè¿™æ ·æ–¹ä¾¿åé¢dfsæŸ¥è¯¢çš„æ—¶å€™çš„å‰ªæã€‚</span></span><br><span class="line">    <span class="keyword">private</span> Node root;</span><br><span class="line">    <span class="keyword">private</span> BoggleBoard board;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> col,row;</span><br><span class="line">    <span class="keyword">private</span> HashSet&lt;String&gt; allwords;</span><br><span class="line">    <span class="keyword">private</span> Bag&lt;Integer&gt;[] adj;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span>[] vis;</span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; dice;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">private</span> Node[] next = <span class="keyword">new</span> Node[<span class="number">26</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BoggleSolver</span><span class="params">(String[] dictionary)</span> </span>&#123;</span><br><span class="line">        root = <span class="keyword">new</span> Node();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; dictionary.length; i++) &#123;</span><br><span class="line">            put(dictionary[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        root = put(root, word, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿™é‡Œå°±æ˜¯ç›´æ¥æ„é€ å‡ºä¸€ä¸ªå­—å…¸æ ‘ï¼Œé€šè¿‡è¿™ä¸ªå­—å…¸æ ‘æ¥å­˜å‚¨æ‰€æœ‰å­—ç¬¦ï¼Œå¹¶ä¸”å‰ªædfsã€‚</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">put</span><span class="params">(Node x, String word, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) x = <span class="keyword">new</span> Node();</span><br><span class="line">        <span class="keyword">if</span> (d == word.length()) &#123;</span><br><span class="line">            x.val = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> c = word.charAt(d) - <span class="string">'A'</span>;</span><br><span class="line">        x.next[c] = put(x.next[c], word, d + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        Node x = get(root, word, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> x.val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">get</span><span class="params">(Node x, String word, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (d == word.length()) <span class="keyword">return</span> x;</span><br><span class="line">        <span class="keyword">int</span> c = word.charAt(d) - <span class="string">'A'</span>;</span><br><span class="line">        <span class="keyword">return</span> get(x.next[c], word, d + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i &gt;= <span class="number">0</span> &amp;&amp; i &lt; row &amp;&amp; j &gt;= <span class="number">0</span> &amp;&amp; j &lt; col;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;String&gt; <span class="title">getAllValidWords</span><span class="params">(BoggleBoard board)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.board = board;</span><br><span class="line">        allwords = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        row = board.rows();</span><br><span class="line">        col = board.cols();</span><br><span class="line">        <span class="comment">//è¿™ä¸ªåœ°æ–¹çš„å†™æ³•éœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚</span></span><br><span class="line">        adj = (Bag&lt;Integer&gt;[]) <span class="keyword">new</span> Bag[row * col];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">                <span class="keyword">int</span> v = i * col + j;</span><br><span class="line">                adj[v] = <span class="keyword">new</span> Bag&lt;Integer&gt;();</span><br><span class="line">                <span class="comment">//è¿™é‡Œå°±ç›¸å½“äºå›¾è®ºé‡Œé¢çš„å»ºç«‹è¾¹ï¼Œç›´æ¥ç»™åé¢dfsæä¾›æ¡ä»¶</span></span><br><span class="line">                <span class="keyword">if</span> (check(i - <span class="number">1</span>, j)) adj[v].add((i - <span class="number">1</span>) * col + j);</span><br><span class="line">                <span class="keyword">if</span> (check(i + <span class="number">1</span>, j)) adj[v].add((i + <span class="number">1</span>) * col + j);</span><br><span class="line">                <span class="keyword">if</span> (check(i, j - <span class="number">1</span>)) adj[v].add(i * col + j - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (check(i, j + <span class="number">1</span>)) adj[v].add(i * col + j + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (check(i + <span class="number">1</span>, j - <span class="number">1</span>)) adj[v].add((i + <span class="number">1</span>) * col + j - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (check(i + <span class="number">1</span>, j + <span class="number">1</span>)) adj[v].add((i + <span class="number">1</span>) * col + j + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (check(i - <span class="number">1</span>, j - <span class="number">1</span>)) adj[v].add((i - <span class="number">1</span>) * col + j - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (check(i - <span class="number">1</span>, j + <span class="number">1</span>)) adj[v].add((i - <span class="number">1</span>) * col + j + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ¥ä¸‹æ¥å°±åˆ°äº† dfsæœå›¾çš„æ—¶å€™</span></span><br><span class="line">        <span class="comment">//æœ€å…ˆå¼€å§‹æˆ‘ä¸ªäººçš„æƒ³æ³•æ˜¯åœ¨è¿™ä¸ªåœ°æ–¹ç”¨bfsæ¥è¿›è¡Œï¼Œå½“æ—¶å‘ç°åˆ°åé¢å­˜åœ¨å¾ˆå¤šçš„é—®é¢˜ï¼Œæ¯”å¦‚æ—¶é—´å¤æ‚åº¦æ˜¯ç‰¹åˆ«é«˜çš„ã€‚</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row * col; i++) &#123;</span><br><span class="line">            vis = <span class="keyword">new</span> <span class="keyword">boolean</span>[row * col];</span><br><span class="line">            dice = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">            vis[i] = <span class="keyword">true</span>;</span><br><span class="line">            dice.push(i);</span><br><span class="line">            <span class="comment">//è¿™ä¸ªåœ°æ–¹éœ€è¦ç•™æ„çš„æ˜¯ rootåœ¨è¿™é‡Œå¹¶æ²¡æœ‰å…¶ä»–çš„å«ä¹‰</span></span><br><span class="line">            <span class="keyword">char</span> c = getLetter(i);</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'Q'</span>) dfs(i, root.next[<span class="string">'Q'</span> - <span class="string">'A'</span>].next[<span class="string">'U'</span> - <span class="string">'A'</span>], <span class="string">"QU"</span>, dice);</span><br><span class="line">            <span class="keyword">else</span> dfs(i, root.next[c - <span class="string">'A'</span>], c + <span class="string">""</span>, dice);</span><br><span class="line">            <span class="comment">//ç”±äºè¿™ä¸ªåœ°æ–¹å‰é¢å°±ç›´æ¥é‡æ–°å®šä¹‰äº†ï¼Œæ‰€ä»¥å°±ä¸éœ€è¦é‡‡ç”¨æ¸…ç©ºæ“ä½œäº†ã€‚</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> allwords;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">char</span> <span class="title">getLetter</span><span class="params">(<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> board.getLetter(v / col , v % col);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> v, Node x, String prefix, Stack&lt;Integer&gt;dices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (prefix.length() &gt; <span class="number">2</span> &amp;&amp; x != <span class="keyword">null</span> &amp;&amp; x.val == <span class="number">1</span>) &#123;</span><br><span class="line">            allwords.add(prefix);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> w : adj[v]) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = getLetter(w);</span><br><span class="line">            <span class="keyword">if</span> (!vis[w] &amp;&amp; x != <span class="keyword">null</span> &amp;&amp; x.next[c - <span class="string">'A'</span>] != <span class="keyword">null</span>) &#123;</span><br><span class="line">                dice.push(w);</span><br><span class="line">                vis[w] = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (c == <span class="string">'Q'</span>) &#123;</span><br><span class="line">                    dfs(w, x.next[<span class="string">'Q'</span> - <span class="string">'A'</span>].next[<span class="string">'U'</span> - <span class="string">'A'</span>], prefix + <span class="string">"QU"</span>, dice);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> dfs(w, x.next[c - <span class="string">'A'</span>], prefix + c, dice);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">int</span> d = dice.pop();</span><br><span class="line">                vis[d] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">scoreOf</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (get(word) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> len = word.length();</span><br><span class="line">            <span class="keyword">if</span> (len &lt;= <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(len == <span class="number">3</span> || len == <span class="number">4</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (len == <span class="number">5</span>) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (len == <span class="number">6</span>) <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (len == <span class="number">7</span>) <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">11</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œè¿™æ¬¡çš„ä½œä¸šåé¢è¿˜æœ‰åç»­ï¼Œåç»­çš„åœ°æ–¹å°±æ˜¯ ç›´æ¥æ„æˆä¸€ä¸ªæ¡†æ¶è¿›è¡Œå†™ï¼Œç›´æ¥å°†è¿™ä¸ªæ¸¸æˆå…·è±¡åŒ–ï¼Œç­‰è‡ªå·±ç†Ÿæ‚‰äº†ä¹‹åï¼Œå†å°†ä»£ç è´´å‡ºæ¥ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="java" scheme="http://wsx1128.xyz/tags/java/"/>
    
      <category term="æ™®æ—æ–¯é¡¿ç®—æ³•å¤§ä½œä¸š" scheme="http://wsx1128.xyz/tags/%E6%99%AE%E6%9E%97%E6%96%AF%E9%A1%BF%E7%AE%97%E6%B3%95%E5%A4%A7%E4%BD%9C%E4%B8%9A/"/>
    
  </entry>
  
  <entry>
    <title>Substring Search --- kmp</title>
    <link href="http://wsx1128.xyz/2019/09/20/Substring-Search-kmp/"/>
    <id>http://wsx1128.xyz/2019/09/20/Substring-Search-kmp/</id>
    <published>2019-09-20T02:34:17.000Z</published>
    <updated>2019-09-23T03:34:32.758Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Substring-Search"><a href="#Substring-Search" class="headerlink" title="Substring Search"></a>Substring Search</h2><p>è¿™é‡Œä¸»è¦è®²çš„æ˜¯<strong>kmpç®—æ³•</strong>ã€‚</p><h3 id="java-from-the-course-of-algorithm"><a href="#java-from-the-course-of-algorithm" class="headerlink" title="java from the course of algorithm"></a>java from the course of algorithm</h3><h4 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h4><p>åœ¨é•¿åº¦ä¸º N çš„æ–‡æœ¬é‡Œå¯»æ‰¾é•¿åº¦ä¸º M çš„æ¨¡å¼ï¼ˆå­ä¸²ï¼‰ï¼Œå…¸å‹æƒ…å†µæ˜¯ N &gt;&gt; Mã€‚</p><p><img src="https://images2018.cnblogs.com/blog/886021/201808/886021-20180801230900919-1725939841.png" alt=""></p><p>è¿™é‡Œå°±éœ€è¦æ‰©å±•ä¸¤ç§åšæ³•ï¼Œæš´åŠ›ä¸kmpç®—æ³•äº†ã€‚</p><h4 id="Brute-Force"><a href="#Brute-Force" class="headerlink" title="Brute Force"></a>Brute Force</h4><p>é¦–å…ˆå…ˆæ¥çœ‹ä¸€ä¸‹æš´åŠ›æŸ¥æ‰¾ã€‚</p><p><img src="https://images2018.cnblogs.com/blog/886021/201808/886021-20180801230913345-679738515.png" alt=""></p><p>å°±æš´åŠ›åœ°ä¸¤ä¸ªå¾ªç¯ï¼ŒæŸ¥æ‰¾æ–‡æœ¬çš„æ¯ä¸ªä½ç½®ï¼Œæœ€åæƒ…å†µä¸‹éœ€è¦è¿‘ä¼¼<strong>MN</strong>æ¬¡å­—ç¬¦æ¯”è¾ƒ</p><p><img src="https://images2018.cnblogs.com/blog/886021/201808/886021-20180801230928182-823845050.png" alt=""></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(String pat, String txt)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> M = pat.length();</span><br><span class="line">    <span class="keyword">int</span> N = txt.length();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= N - M; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; M; j++)</span><br><span class="line">            <span class="keyword">if</span> (txt.charAt(i + j) != pat.charAt(j))</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (j == M) <span class="keyword">return</span> i;    <span class="comment">// index in txt where pattern starts</span></span><br><span class="line">        <span class="keyword">return</span> N;    <span class="comment">// not found</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æš´åŠ›ç®—æ³•å¤§å¤šæ•°æƒ…å†µä¸‹ä¼šè·‘çš„ç‰¹åˆ«æ…¢ï¼Œå› ä¸ºå»ºç«‹åœ¨çº¯æš´åŠ›çš„åšæ³•ï¼Œä¼šå­˜åœ¨å¾ˆå¤šå›é€€çš„æƒ…å†µï¼Œäºæ˜¯å°±ä¼šè·‘çš„å¾ˆæ…¢ã€‚</p><p>æ‰€ä»¥æš´åŠ›ç®—æ³•å¹¶ä¸æ˜¯æ€»èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å¸Œæœ›æœ‰çº¿æ€§æ—¶é—´çº§åˆ«çš„æ€§èƒ½ä¿è¯ï¼Œå¸Œæœ›é¿å…åœ¨æ–‡æœ¬æµä¸­å›é€€ã€‚</p><h4 id="Knuth-Morris-Pratt"><a href="#Knuth-Morris-Pratt" class="headerlink" title="Knuth-Morris-Pratt"></a>Knuth-Morris-Pratt</h4><p>KMPç®—æ³•å°±å¯ä»¥è§£å†³ä¸Šé¢æ‰€è¯´çš„é—®é¢˜ï¼Œä¸ç”¨å›é€€ï¼Œæœ€å¤šä¹Ÿå°±è®¿é—®ä¸€æ¬¡å°±å¯ä»¥è§£å†³é—®é¢˜</p><p>é¦–å…ˆå…ˆè¦äº†è§£ä¸€ä¸ªåè¯</p><p><strong>Deterministic Finite State Automaton</strong></p><p>ç¡®å®šå‹æœ‰ç©·ï¼ˆçŠ¶æ€ï¼‰è‡ªåŠ¨æœºï¼ˆDFAï¼‰ï¼Œæ˜¯ä¸€ä¸ªæŠ½è±¡çš„å­—ç¬¦ä¸²æŸ¥æ‰¾æœºå™¨ã€‚</p><ul><li><p>çŠ¶æ€æ•°ç›®æ˜¯æœ‰ç©·çš„ï¼ˆåŒ…æ‹¬åˆå§‹çŠ¶æ€å’Œç»ˆç»“çŠ¶æ€ï¼‰ã€‚</p></li><li><p>æ¯ä¸ªçŠ¶æ€å¯¹æ¯ä¸ªå­—ç¬¦æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªè½¬ç§»ã€‚</p></li><li><p>è½¬ç§»åˆ°ç»ˆç»“çŠ¶æ€åˆ™æ¥å—è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå³å«æœ‰æˆ‘ä»¬å¯»æ‰¾çš„å­ä¸²ï¼ˆæ¨¡å¼ï¼‰ã€‚</p></li></ul><p>å…¶ä¸­ dfa[i][j] è¡¨ç¤ºçŠ¶æ€ j é‡åˆ°å­—ç¬¦ i ä¼šè½¬ç§»åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œå¹¶ä¸åŒ…æ‹¬ç»ˆç»“çŠ¶æ€ã€‚</p><p>ç°åœ¨æŸ¥æ‰¾å­ä¸²å°±å¾ˆç®€å•å•¦ï¼Œä¸€å¼€å§‹åœ¨åˆå§‹çŠ¶æ€ï¼Œæ–‡æœ¬æµè¯»åˆ°å“ªä¸ªå­—ç¬¦å°±å¾€å“ªæ¡è·¯èµ°ï¼Œè¦æ˜¯èµ°åˆ°äº†ç»ˆç»“çŠ¶æ€ï¼Œä¹Ÿå°±è¡¨ç¤ºæ‰¾åˆ°äº†å­ä¸²ã€‚åƒæˆ‘ä»¬è¿™æ ·æ„é€ çš„ DFAï¼Œèµ°åˆ°çŠ¶æ€å‡ ï¼Œå°±è¯´æ˜å·²ç»åŒ¹é…äº†å¤šå°‘ä¸ªå­—ç¬¦å…¶å®ï¼Œæ‰€ä»¥èµ°åˆ°ç»ˆç»“çŠ¶æ€å°±è¡¨ç¤ºå…¨éƒ¨åŒ¹é…ã€‚</p><p>å°±åƒè¿™æ ·</p><p><img src="https://images2018.cnblogs.com/blog/886021/201808/886021-20180806171432655-228466052.png" alt=""></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">seach</span> <span class="params">(String txt)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j,N = txt.length();</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; N &amp;&amp; j &lt; M; i++) </span><br><span class="line">        j = dfa[txt.chaAt(i)][j];</span><br><span class="line">    <span class="keyword">if</span> (j == M) <span class="keyword">return</span> i - M;</span><br><span class="line">    <span class="comment">//è¿™ç§æƒ…å†µå°±æ˜¯æ²¡æœ‰æ‰¾åˆ°</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> N;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šçš„åŒ¹é…è¿‡ç¨‹ç‰¹åˆ«è½»æ¾ï¼Œé‡è¦çš„å°±æ˜¯ä¸‹é¢æ„é€ dfaè¿™ä¸ªæ•°ç»„çš„è¿‡ç¨‹ã€‚</p><h4 id="Construct-DFA"><a href="#Construct-DFA" class="headerlink" title="Construct DFA"></a>Construct DFA</h4><ol><li>åŒ¹é…æƒ…å†µ</li></ol><p>åŒ¹é…çš„æ—¶å€™è½¬ç§»å°±ç‰¹åˆ«å¥½åŠï¼Œç›´æ¥è¿›è¡Œåˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€å°±å¯ä»¥äº†ã€‚</p><p><img src="https://images2018.cnblogs.com/blog/886021/201808/886021-20180806171446315-1202770884.png" alt=""></p><ol><li>ä¸åŒ¹é…çš„æƒ…å†µ</li></ol><p>å…³é”®åœ¨ä¸åŒ¹é…æ—¶è¯¥å¦‚ä½•è½¬ç§»ã€‚</p><p>å‡è®¾åœ¨çŠ¶æ€ j æ—¶è¯»åˆ°çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ c ä¸ç­‰äºè¦æ‰¾çš„å­ä¸²çš„ç¬¬ j + 1 ä¸ªå­—ç¬¦ï¼ˆpat.charAt(j)ï¼Œä» 0 æ ‡å·ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ä»æ–‡æœ¬æµä¸­æœ€è¿‘è¯»å‡ºçš„ j - 1 ä¸ªå­—ç¬¦å³ä¸º pat[1..j - 1] + cï¼Œå°±æ˜¯æš´åŠ›ç®—æ³•è¦é‡æ–°æ‰«æçš„éƒ¨åˆ†ã€‚</p><p>å½“å‰é¦–å­—æ¯åˆ°çŠ¶æ€ j å‡ºç°äº†ä¸åŒ¹é…ï¼ŒæŒ‰æš´åŠ›ç®—æ³•è¯¥ä¸¢å¼ƒå®ƒä»ä¸‹ä¸€ä¸ªå­—æ¯å†å¼€å§‹ï¼Œå³ pat[1]ï¼Œå†ä¸€è·¯é‡æ–°æ‰«æåˆ° cã€‚æ‰€ä»¥ï¼Œç°åœ¨çŠ¶æ€ j é‡åˆ° c è¯¥æ€ä¹ˆè½¬ç§»ï¼Œå®é™…ä¸Šå’Œå­—ç¬¦ä¸² pat[1.. j - 1] + c åœ¨ DFA ä¸­æ‰€åˆ°çŠ¶æ€ç¢°åˆ° c çš„è½¬ç§»ç›®æ ‡ä¸€æ ·æ‰å¯¹ã€‚äºæ˜¯æˆ‘ä»¬è¿™ä¹ˆè®¡ç®— dfa[c][j]ï¼šåœ¨ DFA ä¸Šæ¨¡æ‹Ÿ pat[1.. j - 1]ï¼Œç„¶åç›´æ¥å–å­—ç¬¦ c çš„è½¬ç§»ã€‚</p><p>ä¸‹é¢ä¸¾ä¸ªä¾‹å­ è®¡ç®—çŠ¶æ€5çš„æ—¶å€™ å¦‚ä½•å»è€ƒè™‘å­—ç¬¦A å’Œ å­—ç¬¦Bçš„è½¬ç§»</p><p><img src="https://images2018.cnblogs.com/blog/886021/201808/886021-20180806171501965-420417384.png" alt=""></p><p>å…·ä½“å¯ä»¥çœ‹ä¸‹é¢çš„ä»£ç ï¼Œå› ä¸ºè¿™é‡Œå­˜åœ¨ä¸€ä¸ª restart state ç›´æ¥ç”¨ xæ¥è¡¨ç¤ºï¼Œå› ä¸ºè¿™é‡Œçš„çŠ¶æ€æœ‰çš„æ—¶å€™å¯ä»¥ç›´æ¥è½¬ç§»åˆå§‹çŠ¶æ€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">KMP</span> <span class="params">(String pat)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.pat = pat;</span><br><span class="line">    M = pat.length();</span><br><span class="line">    dfa = <span class="keyword">new</span> <span class="keyword">int</span> [R][M];</span><br><span class="line">    <span class="comment">//è®¾ç½®åˆå§‹çŠ¶æ€</span></span><br><span class="line">    <span class="comment">//è¿™é‡Œçš„ç‰ˆæœ¬å°±æ˜¯æ„é€ æœ‰é™ç±»å‹çš„è‡ªåŠ¨æœºï¼Œå¸®åŠ©è®°å½•çŠ¶æ€è¿ç§»</span></span><br><span class="line">    dfa[pat.chaAt(<span class="number">0</span>)][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>, j = <span class="number">1</span>; j &lt; M; j++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; R; c++)</span><br><span class="line">            dfa[c][j] = dfa[c][x];</span><br><span class="line">        dfa[pat.charAt(j)][j] = j + <span class="number">1</span>;</span><br><span class="line">        x = dfa[pat.charAt(j)][x];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸è¿‡è¿™ä¸ªç®—æ³•çš„å¤æ‚åº¦ ä¼˜åŒ–ä¹‹å ä¹Ÿè¾¾åˆ°äº† (o(M) + o(N)) * å­—æ¯è¡¨</p><p>äºæ˜¯ C++ ç‰ˆæœ¬é‡Œé¢ä¼šå†æ¬¡è¿›è¡Œä¼˜åŒ–</p><p>æ³¨ï¼š  è¿™é‡Œè¿˜æœ‰ä¸¤å¼ ç®—æ³•<br><strong>Boyer-Moore</strong> ä¸ <strong>Rabin-Karp</strong></p><p>è¿™ä¸ª<a href="https://www.cnblogs.com/mingyueanyao/p/9404556.html" target="_blank" rel="noopener">åšå®¢</a>ä¸­æœ‰è¯¦ç»†çš„è®²è§£ï¼Œå°±ä¸å†é‡å¤è®°å½•äº†ã€‚</p><h3 id="C-from-some-template-in-acm"><a href="#C-from-some-template-in-acm" class="headerlink" title="C++ from some template in acm"></a>C++ from some template in acm</h3><p>å½“ä¸Šé¢çš„æœ‰é™å‹è‡ªåŠ¨æœºä¼˜åŒ–çš„ç‰ˆæœ¬ï¼Œæœ€åå¯¼è‡´çš„ç»“æœå°±æ˜¯ æ¯ä¸€éƒ½å¾—éå†ä¸€éå­—æ¯è¡¨ æ‰€ä»¥æœ‰æ²¡æœ‰å…¶ä»–åŠæ³•æ¥è¿›è¡Œä¼˜åŒ–å‘¢</p><p>æ‰€ä»¥å°±æœ‰äº† æ”¹è¿›çš„kmpç®—æ³•<br>åˆ©ç”¨ æ¨¡å¼ä¸²ä¸­çš„ æœ€é•¿å‰ç¼€ä¸æœ€é•¿åç¼€çš„å…³ç³»æ¥æ„é€ nextæ•°ç»„</p><p>å°±åƒè¿™ä¸ªæ ·å­</p><p><img src="https://img-blog.csdn.net/2018100519473444?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3OTY5NDMz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>äºæ˜¯è¿™é‡Œå°±å…ˆè®²è§£ä¸€ä¸‹ </p><h4 id="æ„é€ nextæ•°ç»„çš„è¿‡ç¨‹"><a href="#æ„é€ nextæ•°ç»„çš„è¿‡ç¨‹" class="headerlink" title="æ„é€ nextæ•°ç»„çš„è¿‡ç¨‹"></a>æ„é€ nextæ•°ç»„çš„è¿‡ç¨‹</h4><p>æˆ‘ä»¬è§„å®šä»»ä½•ä¸€ä¸ªä¸²ï¼Œnext[1]=0ã€‚(ä¸ç”¨next[0]ï¼Œä¸ä¸²çš„æ‰€æœ‰å¯¹åº”)ï¼Œä»æ˜¯ä¸€å¼ åŠ¨å›¾æå®šé—®é¢˜ï¼š</p><p><img src="https://img-blog.csdn.net/20181005223221225?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3OTY5NDMz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>é€šè¿‡æŠŠnextå€¼â€œçœ‹â€å‡ºæ¥ï¼Œæˆ‘ä»¬å†æ¥åˆ†ænextå€¼ï¼Œè¿™å°±å¾ˆå®¹æ˜“å¾—åˆ°è¶…çº§æœ‰åçš„å…¬å¼äº†ï¼Œè¿™ä¸ªå¼å­å¯¹åé¢çš„ç®—æ³•ç†è§£å¾ˆé‡è¦ï¼æ‰€ä»¥å…ˆè¦çœ‹æ‡‚è¿™ä¸ªå¼å­ï¼Œå¦‚æœä¸Šé¢çš„å†…å®¹é€šä¸‹æ¥äº†ï¼Œè¿™ä¸ªåº”è¯¥å¾ˆå®¹æ˜“çœ‹æ‡‚äº†ï¼š</p><p><img src="https://img-blog.csdn.net/20181005224812581?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3OTY5NDMz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>é¦–å…ˆæ˜¯æ„é€ nextæ•°ç»„çš„è¿‡ç¨‹ã€‚</p><h4 id="ä»£ç å¦‚ä¸‹ï¼š"><a href="#ä»£ç å¦‚ä¸‹ï¼š" class="headerlink" title="ä»£ç å¦‚ä¸‹ï¼š"></a>ä»£ç å¦‚ä¸‹ï¼š</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getNext</span><span class="params">(<span class="built_in">string</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> lenp = p.size();</span><br><span class="line">    next[<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; lenp - <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (j == <span class="number">-1</span> || p[j] == p[i]) &#123;</span><br><span class="line">            next[++i] = ++j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> j = next[j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ è¿™æ ·å†™nextæ•°ç»„æ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ å¦‚æœæœ‰ä¸€ç§æƒ…å†µp[next[j]] == p[j] å½“å‡ºç°è¿™æ ·çš„æƒ…å†µè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿç›´æ¥çœ‹å›¾ã€‚</p><p>æ¯”å¦‚ï¼Œå¦‚æœç”¨ä¹‹å‰çš„next æ•°ç»„æ–¹æ³•æ±‚æ¨¡å¼ä¸²â€œababâ€çš„next æ•°ç»„ï¼Œå¯å¾—å…¶next æ•°ç»„ä¸º-1 0 0 1ï¼ˆ0 0 1 2æ•´ä½“å³ç§»ä¸€ä½ï¼Œåˆå€¼èµ‹ä¸º-1ï¼‰ï¼Œå½“å®ƒè·Ÿä¸‹å›¾ä¸­çš„æ–‡æœ¬ä¸²å»åŒ¹é…çš„æ—¶å€™ï¼Œå‘ç°bè·Ÿcå¤±é…ï¼Œäºæ˜¯æ¨¡å¼ä¸²å³ç§»j - next[j] = 3 - 1 =2ä½ã€‚</p><p><img src="http://hi.csdn.net/attachment/201106/14/8394323_1308075859Zfue.jpg" alt=""></p><p>å³ç§»2ä½åï¼Œbåˆè·Ÿcå¤±é…ã€‚äº‹å®ä¸Šï¼Œå› ä¸ºåœ¨ä¸Šä¸€æ­¥çš„åŒ¹é…ä¸­ï¼Œå·²ç»å¾—çŸ¥p[3] = bï¼Œä¸s[3] = cå¤±é…ï¼Œè€Œå³ç§»ä¸¤ä½ä¹‹åï¼Œè®©p[ next[3] ] = p[1] = b å†è·Ÿs[3]åŒ¹é…æ—¶ï¼Œå¿…ç„¶å¤±é…ã€‚é—®é¢˜å‡ºåœ¨å“ªå‘¢ï¼Ÿ</p><p><img src="http://hi.csdn.net/attachment/201106/14/8394323_13080758591kyV.jpg" alt=""></p><p>é—®é¢˜å‡ºåœ¨ä¸è¯¥å‡ºç°p[j] = p[ next[j] ]ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿç†ç”±æ˜¯ï¼šå½“p[j] != s[i] æ—¶ï¼Œä¸‹æ¬¡åŒ¹é…å¿…ç„¶æ˜¯p[ next [j]] è·Ÿs[i]åŒ¹é…ï¼Œå¦‚æœp[j] = p[ next[j] ]ï¼Œå¿…ç„¶å¯¼è‡´åä¸€æ­¥åŒ¹é…å¤±è´¥ï¼ˆå› ä¸ºp[j]å·²ç»è·Ÿs[i]å¤±é…ï¼Œç„¶åä½ è¿˜ç”¨è·Ÿp[j]ç­‰åŒçš„å€¼p[next[j]]å»è·Ÿs[i]åŒ¹é…ï¼Œå¾ˆæ˜¾ç„¶ï¼Œå¿…ç„¶å¤±é…ï¼‰ï¼Œæ‰€ä»¥ä¸èƒ½å…è®¸p[j] = p[ next[j ]]ã€‚å¦‚æœå‡ºç°äº†p[j] = p[ next[j] ]å’‹åŠå‘¢ï¼Ÿå¦‚æœå‡ºç°äº†ï¼Œåˆ™éœ€è¦å†æ¬¡é€’å½’ï¼Œå³ä»¤next[j] = next[ next[j] ]ã€‚</p><p>æ‰€ä»¥å°±éœ€è¦æ›´æ”¹ä¸€ä¸‹ ä¸‹é¢çš„ä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getNext</span><span class="params">(<span class="built_in">string</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> lenp = p.size();</span><br><span class="line">    next[<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; lenp - <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (j == <span class="number">-1</span> || p[j] == p[i]) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//é‡ç‚¹å°±åœ¨ä¸‹é¢è¿™ä¸ªåœ°æ–¹</span></span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">            <span class="keyword">if</span> (p[i] != p[j]) next[i] = j;</span><br><span class="line">            <span class="comment">//è¿™ä¸ªåœ°æ–¹å°±æ”¾å…¥å…¶ç»§ç»­è¿›å…¥é€’å½’ã€‚</span></span><br><span class="line">            <span class="keyword">else</span> next[i] = next[j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> j = next[j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åé¢å°±åªå‰©ä¸‹ä¸€å¼€å§‹åŒ¹é…è¿‡ç¨‹äº†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kmp</span> <span class="params">(<span class="built_in">string</span> s,<span class="built_in">string</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>,j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> slen = s.size();</span><br><span class="line">    <span class="keyword">int</span> plen = p.size();</span><br><span class="line">    <span class="keyword">while</span> (i &lt; slen &amp;&amp; j &lt; plen) &#123;</span><br><span class="line">        <span class="keyword">if</span> (j == <span class="number">-1</span> || s[i] = p[j]) &#123;</span><br><span class="line">            i ++ ;</span><br><span class="line">            j ++ ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> j = next[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (j == plen) <span class="keyword">return</span> i - j;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åé¢è¿˜æœ‰ä¸¤ç§æ‹“å±•ç±»å‹çš„ç®—æ³•<br>BMç®—æ³• ä¸ sundayç®—æ³•<br>è¿™ä¸¤ç§ç®—æ³• æœ‰æ—¶é—´çš„æƒ…å†µä¸‹å†æ¥æ€»ç»“</p><p>è¿™é‡Œç›´æ¥è´´å‡ºç½‘å€<br><a href="https://blog.csdn.net/v_july_v/article/details/7041827" target="_blank" rel="noopener">åšå®¢</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="java" scheme="http://wsx1128.xyz/tags/java/"/>
    
      <category term="å­—ç¬¦ä¸²" scheme="http://wsx1128.xyz/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    
      <category term="kmp" scheme="http://wsx1128.xyz/tags/kmp/"/>
    
  </entry>
  
  <entry>
    <title>Tries --- the course of algorithm</title>
    <link href="http://wsx1128.xyz/2019/09/17/Tries-the-course-of-algorithm/"/>
    <id>http://wsx1128.xyz/2019/09/17/Tries-the-course-of-algorithm/</id>
    <published>2019-09-17T10:56:00.000Z</published>
    <updated>2019-09-17T11:59:05.235Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å•è¯æŸ¥æ‰¾æ ‘-å­—å…¸æ ‘"><a href="#å•è¯æŸ¥æ‰¾æ ‘-å­—å…¸æ ‘" class="headerlink" title="å•è¯æŸ¥æ‰¾æ ‘(å­—å…¸æ ‘)"></a>å•è¯æŸ¥æ‰¾æ ‘(å­—å…¸æ ‘)</h2><p>é¦–å…ˆå…ˆè´´å‡º è¦å®ç°çš„api:</p><p><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180729171733111-1117062077.png" alt=""></p><h3 id="R-way-Tries"><a href="#R-way-Tries" class="headerlink" title="R-way Tries"></a>R-way Tries</h3><p>è¿™é‡Œå®ç°çš„è¦ç‚¹å°±æ˜¯åœ¨æ¯ä¸€ä¸ªnodeç±»é‡Œé¢åŠ å…¥ä¸€ä¸ªæ•°ç»„å»è®°å½•æ¯ä¸€ä¸ªå­—ç¬¦å¯èƒ½å­˜åœ¨çš„node æ„æ€å°±æ˜¯ 256ä¸ª ç®—ä¸Šæ‰€æœ‰ASCIIé‡Œé¢çš„</p><p>è¿™é‡Œå°±ä¸è´´å‡ºå…·ä½“å‡½æ•°è¡¨ç¤ºåŠŸèƒ½çš„ç¤ºæ„å›¾äº†ã€‚</p><h4 id="Tries-Java-implementaion"><a href="#Tries-Java-implementaion" class="headerlink" title="Tries: Java implementaion"></a>Tries: Java implementaion</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TriesST</span>&lt;<span class="title">Value</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> R = <span class="number">256</span>;</span><br><span class="line">    <span class="keyword">private</span> Node root = <span class="keyword">new</span> Node();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> Object value;</span><br><span class="line">        <span class="keyword">private</span> Node[] next = <span class="keyword">new</span> Node[R]; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span> <span class="params">(String key, Value val)</span> </span>&#123;</span><br><span class="line">        root = put(root, key, val, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">put</span><span class="params">(Node x, String key, Value val, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) x = <span class="keyword">new</span> Node();</span><br><span class="line">        <span class="keyword">if</span> (d == key.length()) &#123;</span><br><span class="line">            x.val = val;</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">char</span> c = key.charAt(d);</span><br><span class="line">        x.next[c] = put(x.next[c], key, val, d + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span> <span class="params">(String key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> get(key) != <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Value <span class="title">get</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">        Node x = get(root, key, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">return</span> (Value)x.val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">get</span><span class="params">(Node x, String key, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (d == key.length()) <span class="keyword">return</span> x;</span><br><span class="line">        <span class="keyword">char</span> c = key.charAt(d);</span><br><span class="line">        <span class="keyword">return</span> get(x.next[c], key, d + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€»çš„æ¥è¯´ï¼Œä¸Šé¢è¿™ä¸ªç®—æ³•å¯ä»¥å¾ˆå¿«åŒ¹é…åˆ°å­—ç¬¦ä¸²ï¼Œä½†æ˜¯ç‰¹åˆ«éƒèŠ¬ç©ºé—´ï¼Œå› ä¸ºå…¶æœ‰å¾ˆå¤šè¯¯ç”¨çš„ç©ºèŠ‚ç‚¹ï¼Œå¹¶ä¸”ç©ºé“¾æ¥ä¹Ÿå¤ªå¤šäº†ã€‚</p><h4 id="Tries-deletion"><a href="#Tries-deletion" class="headerlink" title="Tries: deletion"></a>Tries: deletion</h4><p>åˆ é™¤å•è¯æŸ¥æ‰¾æ ‘ä¸­çš„æŸä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œé¦–å…ˆè¦æ‰¾åˆ°å®ƒï¼Œç„¶åæŠŠæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ç½®ç©ºï¼Œå†é€’å½’åˆ é™¤æ²¡æœ‰éç©ºé“¾æ¥çš„ç©ºå€¼èŠ‚ç‚¹ã€‚ä¾‹å­ï¼š</p><p><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180729171843615-47757674.png" alt=""></p><p>è¿™é‡Œæ²¡æœ‰ä¾‹å­ï¼Œå°±ç›´æ¥ç»™å‡ºç›¸åº”çš„å›¾äº†ã€‚</p><h3 id="Ternary-Search-Tries"><a href="#Ternary-Search-Tries" class="headerlink" title="Ternary Search Tries"></a>Ternary Search Tries</h3><p>è¿™é‡Œæœ‰ç‚¹å€Ÿé‰´å¿«æ’çš„æ€æƒ³ï¼Œå°†æ¯ä¸€ä¸ªèŠ‚ç‚¹åˆ†æˆä¸‰ä¸ªé“¾æ¥ï¼Œå¤§äºï¼Œå°äºï¼Œç­‰äº<br>ä¸‰å‘å•è¯æŸ¥æ‰¾æ ‘ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180730211441659-95166443.png" alt=""></p><p>è¿™é‡Œä¹Ÿä¸å†è¯¦ç»†è®²è§£å…¶æ’å…¥ï¼Œæ„é€ ï¼Œåˆ é™¤çš„è¿‡ç¨‹äº†ï¼Œç±»ä¼¼äºå‰é¢ã€‚</p><h4 id="TST-Java-implementation"><a href="#TST-Java-implementation" class="headerlink" title="TST: Java implementation"></a>TST: Java implementation</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TST</span>&lt;<span class="title">Value</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Node root;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> Value val;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">char</span> c;</span><br><span class="line">        <span class="keyword">private</span> Node left, mid, right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(String key, Value val)</span> </span>&#123;</span><br><span class="line">        root = put(root, key, val, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">put</span><span class="params">(Node x, String key, Value val, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> c = key.charAt(d);</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) &#123;</span><br><span class="line">            x = <span class="keyword">new</span> Node();</span><br><span class="line">            x.c = c;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (c &lt; x.c) x.left = put(x.left, key, val, d);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (c &gt; x.c) x.right = put(x.right, key, val, d);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (d &lt; key.length() - <span class="number">1</span>) x.mid = put(x.mid, key, val, d + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> x.val = val;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> get(key) != <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Value <span class="title">get</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">        Node x = get(root, key, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">return</span> x.val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">get</span><span class="params">(Node x, String key, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">char</span> c = key.charAt(d);</span><br><span class="line">        <span class="keyword">if</span> (c &lt; x.c) <span class="keyword">return</span> get(x.left, key, d);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (c &gt; x.c) <span class="keyword">return</span> get(x.right, key, d);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (d &lt; key.length() - <span class="number">1</span>) <span class="keyword">return</span> get(x.mid, key, d + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TSTçš„å¤æ‚åº¦å…¶å®æœ‰ç‚¹æ—¶å€™æ˜¯å’Œçº¢é»‘æ˜¯ç›¸å½“ï¼ŒæŸ¥æ‰¾çš„æ•ˆç‡æœ‰çš„æ—¶å€™æ˜¯è·Ÿå“ˆå¸Œçš„ç¬¦å·è¡¨ä¹Ÿå·®ä¸å¤šï¼Œæ‰€ä»¥å¯èƒ½é€šè¿‡ç›¸åº”çš„å¹³è¡¡æ“ä½œæ¥ä¿æŒå…¶çš„æ€§èƒ½ã€‚</p><p><strong>ä¸è¿‡æœ‰çš„æ—¶å€™è¿˜å¯ä»¥å°†å…¶ä¸R-way tries ç»“åˆèµ·æ¥</strong></p><p><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180731115403647-1725352123.png" alt=""></p><p>ä¸Šé¢è™½ç„¶ç©ºé—´ä¸Šé¢ä¼šå¤šèŠ±ä¸€ç‚¹ï¼Œä½†æ˜¯æŸ¥æ‰¾æ€§èƒ½ä¼šå¤§å¤§æå‡ã€‚</p><h3 id="Character-based-Operations"><a href="#Character-based-Operations" class="headerlink" title="Character-based Operations"></a>Character-based Operations</h3><h4 id="Keys"><a href="#Keys" class="headerlink" title="Keys"></a>Keys</h4><p><img src="https://images2018.cnblogs.com/blog/886021/201808/886021-20180801101623633-226094687.png" alt=""></p><p>è¿”å›å…¶çš„æ‰€æœ‰çš„å­˜å‚¨çš„å­—ç¬¦ä¸² å°±åƒä¸­åºéå†è¿™æ£µæ ‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterable&lt;String&gt; <span class="title">keys</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> Queue&lt;String&gt;();</span><br><span class="line">    collect(root, <span class="string">""</span>, queue);</span><br><span class="line">    <span class="keyword">return</span> queue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// prefix: sequence of characters on path from root to x</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">collect</span><span class="params">(Node x, String prefix, Queue&lt;String&gt; q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//åªæœ‰åœ¨æ»¡è¶³äº†è¿™ä¸ªæ¡ä»¶æ‰ä¼šå…¥é˜Ÿã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (x. val != <span class="keyword">null</span>) q.enqueue(prefix);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c = <span class="number">0</span>; c &lt; R; c++)</span><br><span class="line">        collect(x.next[c], prefix + c, q);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Prefix"><a href="#Prefix" class="headerlink" title="Prefix"></a>Prefix</h4><p><img src="https://images2018.cnblogs.com/blog/886021/201808/886021-20180801101645088-790496881.png" alt=""></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Iterable&lt;String&gt; <span class="title">keyWithPrefix</span><span class="params">(String prefix)</span> </span>&#123;</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> Queue&lt;String&gt;();</span><br><span class="line">    <span class="comment">// x: root of subtrie for all strings</span></span><br><span class="line">    <span class="comment">// beginning with given prefix</span></span><br><span class="line">    Node x = get(root, prefix, <span class="number">0</span>);</span><br><span class="line">    collect(x, prefix, queue);</span><br><span class="line">    <span class="keyword">return</span> queue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Longest-Prefix"><a href="#Longest-Prefix" class="headerlink" title="Longest Prefix"></a>Longest Prefix</h4><p><img src="https://images2018.cnblogs.com/blog/886021/201808/886021-20180801101657607-1814743932.png" alt=""></p><p><img src="https://images2018.cnblogs.com/blog/886021/201808/886021-20180801101711263-980961056.png" alt=""></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">longestPrefixOf</span><span class="params">(String query)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> length = search(root, query, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> query.substring(<span class="number">0</span>, length);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(Node x, String query, <span class="keyword">int</span> d, <span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="keyword">null</span>) <span class="keyword">return</span> length;</span><br><span class="line">    <span class="keyword">if</span> (x.val != <span class="keyword">null</span>) length = d;</span><br><span class="line">    <span class="keyword">if</span> ( d == query.length()) <span class="keyword">return</span> length;</span><br><span class="line">    <span class="keyword">char</span> c = query.charAt(d);</span><br><span class="line">    <span class="keyword">return</span> search(x.next[c], query, d + <span class="number">1</span>, length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åé¢ç»§ç»­æåˆ°äº† å‰ç¼€æ ‘ä¸åç¼€æ ‘ã€‚</p><p>å‚è€ƒè¯¥<a href="https://www.cnblogs.com/mingyueanyao/p/9386004.html" target="_blank" rel="noopener">åšå®¢</a></p><p><strong>ä¾µåˆ </strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="java" scheme="http://wsx1128.xyz/tags/java/"/>
    
      <category term="å­—ç¬¦ä¸²" scheme="http://wsx1128.xyz/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    
  </entry>
  
  <entry>
    <title>Radix Sort --- the course of algorithm</title>
    <link href="http://wsx1128.xyz/2019/09/17/Radix-Sort-the-course-of-algorithm/"/>
    <id>http://wsx1128.xyz/2019/09/17/Radix-Sort-the-course-of-algorithm/</id>
    <published>2019-09-17T07:09:25.000Z</published>
    <updated>2019-09-17T08:09:50.581Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="åŸºæ•°æ’åº"><a href="#åŸºæ•°æ’åº" class="headerlink" title="åŸºæ•°æ’åº"></a>åŸºæ•°æ’åº</h2><p><a href="https://www.coursera.org/learn/algorithms-part2/supplement/v5gBy/lecture-slides" target="_blank" rel="noopener">è¯¾ç¨‹åœ°å€</a></p><h3 id="String-in-java"><a href="#String-in-java" class="headerlink" title="String in java"></a>String in java</h3><h4 id="Char-Data-Type"><a href="#Char-Data-Type" class="headerlink" title="Char Data Type"></a>Char Data Type</h4><p>C è¯­è¨€ä¸­çš„å­—ç¬¦æ•°æ®ç±»å‹å ä¸€ä¸ªå­—èŠ‚ï¼ˆ8 æ¯”ç‰¹ï¼‰ï¼Œæœ€å¤šåªèƒ½è¡¨ç¤º 256 ä¸ªå­—ç¬¦ã€‚æ”¯æŒ 7 ä½çš„æ ‡å‡† ASCII(American Standard Code for Information Interchangeï¼Œç¾å›½æ ‡å‡†ä¿¡æ¯äº¤æ¢ç¼–ç )ï¼Œæœ€é«˜ä½ç”¨äºå¥‡å¶æ ¡éªŒã€‚æˆ–æ˜¯æ‹“å±•çš„ ASCIIï¼Œæœ€é«˜ä½ç”¨æ¥ç¡®å®šé™„åŠ çš„ 128 ä¸ªç‰¹æ®Šçš„å­—ç¬¦ã€‚</p><p>è€Œjavaä¸­çš„å­—ç¬¦æ•°æ®ç±»å‹å ä¸¤ä¸ªå­—èŠ‚ï¼Œæ”¯æŒ16ä½çš„Unicodeç¼–ç ã€‚</p><h4 id="String-Data-Type"><a href="#String-Data-Type" class="headerlink" title="String Data Type"></a>String Data Type</h4><p>java String api</p><p><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180721162521004-905655523.png" alt="api"></p><p>æ¥ä¸‹æ¥å°±æ˜¯javaä¸­ä¸¤ç§å­—ç¬¦ä¸²ç±»å‹çš„æ¯”è¾ƒï¼Œä¸€ç§æ˜¯Stringï¼Œå¦å¤–ä¸€ç§å°±æ˜¯StringBuilder è¿™ä¸¤ç§ä¹‹é—´çš„åŒºåˆ«å°±åœ¨äº ä¸€ä¸ªæ˜¯å†…éƒ¨å¯å˜ï¼Œå¦å¤–ä¸€ç§å°±æ˜¯å†…éƒ¨ä¸å¯å˜ã€‚</p><p>ç„¶è€Œ è¿˜æœ‰ä¸€ç§StringBuffer è¿™ç§ä¸å‰é¢åè€…çš„ç›¸æ¯”å°±æ˜¯çº¿ç¨‹å®‰å…¨ä¸å¦çš„åŒºåˆ«äº†ã€‚</p><h3 id="Key-indexed-counting"><a href="#Key-indexed-counting" class="headerlink" title="Key-indexed counting"></a>Key-indexed counting</h3><p>å› ä¸ºä¸€èˆ¬å­—ç¬¦ä¸²ä¸­åŸºäºæ’åºçš„æ¯”è¾ƒ åŸºæœ¬ä¸Šè‡³å°‘éƒ½æ˜¯éœ€è¦NlgNçš„æ¯”è¾ƒï¼Œç„¶åæœ‰ä¸€ç§åŸºæ•°æ¯”è¾ƒçš„åŠæ³•è¯ç”Ÿï¼Œç§°ä½œ<strong>é”®ç´¢å¼•è®¡æ•°æ¯”è¾ƒæ³•</strong></p><p>è®¾æƒ³æœ‰ä¸ªæ•°ç»„ a = {d, a, c, f, f, b, d, b, f, b, e, a} è¦æ’åºï¼ŒçŸ¥é“æ€»å…±æœ‰ 6 ä¸ªä¸åŒçš„å­—æ¯ï¼Œè¦å…ˆç»Ÿè®¡å®ƒä»¬å‡ºç°çš„é¢‘æ•°ã€‚</p><p>å­—æ¯ a çš„é”®ä¸º 0 ï¼ˆa[i] - â€˜aâ€™ï¼‰ï¼Œå‡ºç°çš„æ¬¡æ•°åœ¨ count æ•°ç»„ä¸­çš„ç´¢å¼•ä¸ºé”®å€¼åŠ ä¸€ã€‚</p><p><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180721174333877-1881107237.png" alt=""></p><p><strong>java implements</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> R = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">int</span> N = a.length;</span><br><span class="line"><span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span>[R + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    count[a[i] - <span class="string">'a'</span> + <span class="number">1</span>]++;</span><br><span class="line"></span><br><span class="line"><span class="comment">//éå†ä¸€écountæ•°ç»„</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; R; i++)</span><br><span class="line">    count[i + <span class="number">1</span>] += count[i];</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç°åœ¨ count æ•°ç»„ä¸­ä¿å­˜çš„å³å¯¹åº”å­—æ¯åœ¨æ’å¥½åºçš„æ•°ç»„ä¸­å¼€å§‹çš„ç´¢å¼•å€¼ï¼Œåƒä¸¤ä¸ª d åº”è¯¥æ”¾åœ¨ a[6] å’Œ a[7]ã€‚</span></span><br><span class="line"><span class="keyword">char</span>[] aux = <span class="keyword">new</span> <span class="keyword">char</span>[N];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    aux[count[a[i] - <span class="string">'a'</span>]++] = a[i];</span><br></pre></td></tr></table></figure><p>è¾…åŠ©æ•°ç»„ aux å€ŸåŠ© count æ•°ç»„æ‰¾åˆ°äº†æ¯ä¸ª a[i] çš„ä½ç½®ã€‚æ³¨æ„ count æ•°ç»„åœ¨è¿™ä¸€æ­¥ä¸­è¿˜ä¼šæ”¹å˜ï¼Œæ¯æ¬¡è¦åŠ ä¸€ï¼Œä¸‹æ¬¡ç›¸åŒçš„ a[i] å°±ä¼šæ”¾åœ¨ä¸‹ä¸€ä¸ªä½ç½®ã€‚æ‰€ä»¥è¿™ä¸ªç®—æ³•ä¹Ÿæ˜¯ç¨³å®šçš„ï¼ˆstableï¼‰ï¼Œç›¸åŒå…ƒç´ é—´çš„ç›¸å¯¹é¡ºåºä¸ä¼šæ”¹å˜ã€‚</p><p><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180721174344508-415087789.png" alt=""></p><p>æœ€åæŠŠ aux æ•°ç»„ä¸€ä¸ªä¸ªèµ‹å€¼å›åŸæ•°ç»„ï¼Œå³å®Œæˆäº†æ’åºã€‚</p><p>é”®ç´¢å¼•è®¡æ•°æ³•æ’åºåªéœ€è¦å‡ ä¸ªä¸€é‡å¾ªç¯ï¼Œä¸éœ€è¦æ¯”è¾ƒï¼Œåªè¦ R åœ¨ N çš„ä¸€ä¸ªå¸¸æ•°å› å­èŒƒå›´å†…ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªçº¿æ€§æ—¶é—´çº§åˆ«çš„æ’åºæ–¹æ³•ã€‚</p><h3 id="LSD-Radix-Sort"><a href="#LSD-Radix-Sort" class="headerlink" title="LSD Radix Sort"></a>LSD Radix Sort</h3><p>ä½ä½ä¼˜å…ˆæ’åºï¼Œå°±æ˜¯å°†ç­‰é•¿çš„å­—ç¬¦ä¸²è¿›è¡Œæ’åºï¼Œå¿…é¡»æ˜¯ç­‰é•¿çš„å­—ç¬¦ä¸²è¿›è¡Œæ’åºï¼Œéœ€è¦åšçš„æ˜¯ä»å³å‘å·¦è¿›è¡Œæ’åº</p><p><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180723155344760-2032525065.png" alt=""></p><p>è¿™ä¸ªæ’åºæ˜¯ç¨³å®šçš„ï¼Œç›¸åŒé”®ä¹‹é—´çš„ç›¸å¯¹é¡ºåºæ˜¯ä¸ä¼šæ”¹å˜çš„ï¼Œæ„æ€å°±æ˜¯åœ¨iå‰é¢çš„ï¼Œåœ¨i + 1æ’å®Œå­—åï¼Œä¾ç„¶è¿˜æ˜¯åœ¨iå‰é¢ï¼Œå¦‚æœæ˜¯ç›¸åŒé”®çš„æƒ…å†µä¸‹ã€‚</p><h4 id="LSD-Java-Implementation"><a href="#LSD-Java-Implementation" class="headerlink" title="LSD: Java Implementation"></a>LSD: Java Implementation</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LSD</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String []a,<span class="keyword">int</span> w)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> R = <span class="number">256</span>;</span><br><span class="line">        <span class="keyword">int</span> N = a.length;</span><br><span class="line">        String[] aux = <span class="keyword">new</span> String[N];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä»åå¾€å‰é¢ä¾æ¬¡è¿›è¡Œæ’åº</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> d = w - <span class="number">1</span>; d &gt;= <span class="number">0</span>; d--) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span> [R + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">                count[a[i].charAt(d) + <span class="number">1</span>] ++;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; R; r++) </span><br><span class="line">                count[r + <span class="number">1</span>] += count[r];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">                aux[count[a[i].charAt(d)]++] = a[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">                a[i] = aux[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¯¹äºå…¸å‹çš„åº”ç”¨,R(åŸºæ•°)è¿œå°äºN(æ€»æ•°),å¯¹å®šé•¿(W)çš„å­—ç¬¦ä¸²æ’åºçš„æ—¶é—´æ˜¯MNçº§åˆ«ã€‚</strong></p><h3 id="MSD-Radix-Sort"><a href="#MSD-Radix-Sort" class="headerlink" title="MSD Radix Sort"></a>MSD Radix Sort</h3><p>é«˜ä½æ’åºï¼Œæœ‰åˆ«äºä½ä½æ’åºçš„æ˜¯ï¼Œå…¶å¯ä»¥å¯¹ä¸ç­‰é•¿çš„å­—ç¬¦ä¸²è¿›è¡Œæ’åºï¼Œä»å·¦å‘å³è¿›è¡Œä¸€ä½ä¸€ä½çš„æ‰«æï¼Œç„¶åå†é€’å½’çš„å¯¹å­å­—ç¬¦ä¸²è¿›è¡ŒåŸºæ•°æ’åºã€‚</p><p>å°±åƒè¿™æ ·ï¼š<br><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180723172529187-913394612.png" alt=""></p><p>å› ä¸ºæ¶‰åŠåˆ°é€’å½’ï¼Œæ‰€ä»¥å¿…é¡»å¾—è®¾ç½®ä¸€ä¸‹é€’å½’å‡ºå£ï¼Œç”¨ä¸€ä¸‹å‡½æ•°ç›´æ¥è®¾ç½®é€’å½’å‡ºå£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">charAt</span><span class="params">(String s, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (d &lt; s.length) <span class="keyword">return</span> s.charAt(d);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="MSD-Java-Implementation"><a href="#MSD-Java-Implementation" class="headerlink" title="MSD: Java Implementation"></a>MSD: Java Implementation</h4><p>ç”±äºä¸Šé¢å¤šäº†ä¸€ä¸ªé”®ï¼Œæ‰€ä»¥ç°åœ¨countçš„æ•°ç»„å¤§å°å¿…é¡»æ˜¯R + 2</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] a)</span> </span>&#123;</span><br><span class="line">    aux = <span class="keyword">new</span> String[a.length];</span><br><span class="line">    sort(a, aux, <span class="number">0</span>, a.length - <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] a, String[] aux, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (hi &lt;= lo) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span>[R + <span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = lo; i &lt;= hi; i++)</span><br><span class="line">        count[charAt(a[i], d) + <span class="number">2</span>]++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; R + <span class="number">1</span>; r++)</span><br><span class="line">        count[r + <span class="number">1</span>] += count[r];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = lo; i &lt;= h; i++)</span><br><span class="line">        aux[count[charAt(a[i], d) + <span class="number">1</span>]++] = a[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = lo; i &lt;= hi; i++)</span><br><span class="line">        a[i] = aux[i -lo];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// sort R subarrays recursively</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; R; r++)</span><br><span class="line">        sort(a, aux, lo + count[r], lo + count[r + <span class="number">1</span>] - <span class="number">1</span>, d + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦å¤–ç”¨äºè¾…åŠ©çš„æ•°ç»„auxå¯ä»¥é‡å¤ä½¿ç”¨ï¼Œä½†æ˜¯æ¯ä¸€æ¬¡éƒ½éœ€è¦æ–°çš„countæ•°ç»„ï¼Œä¸ä»…è€—è´¹ç©ºé—´ï¼Œè¿˜éœ€è¦æ—¶é—´å»åˆå§‹åŒ–ï¼Œæ‰€ä»¥å¯¹äºå°å‹çš„å­æ•°ç»„ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æ’å…¥æ’åºç›´æ¥è¿›è¡Œæ”¹å–„</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = lo; i &lt;= hi; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &gt; lo &amp;&amp; less(a[j], a[j - <span class="number">1</span>], d); j--)</span><br><span class="line">            exch(a, j, j -<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">less</span><span class="params">(String v, String w, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> v.substring(d).compareTo(w.substring(d)) &lt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>MSDç®—æ³•çš„æ€§èƒ½å–å†³äºè¦è¾“å…¥çš„æ•°æ®ï¼Œæœ€åçš„æƒ…å†µä¸‹éœ€è¦æ£€æŸ¥çš„æ‰€æœ‰çš„å­—ç¬¦ï¼Œå’ŒLSDä¸€æ ·éƒ½æ˜¯çº¿æ€§çš„æ—¶é—´çº§åˆ«ã€‚<br><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180723204033182-1142104535.png" alt=""></p><h3 id="3-way-Radix-Quicksort"><a href="#3-way-Radix-Quicksort" class="headerlink" title="3-way Radix Quicksort"></a>3-way Radix Quicksort</h3><p>ä¸‰ç›¸åˆ‡åˆ†çš„æ€æƒ³å…¶å®å¾ˆç®€å•ï¼ŒåŸºäºMSDçš„æ€æƒ³ï¼ŒåŠ å…¥äº†å¿«æ’ï¼Œå°†ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„é¦–å­—æ¯ï¼Œè¿›è¡Œåˆ‡åˆ†ï¼Œåˆ†æˆå¤§äºï¼Œå°äºï¼Œç­‰äºè¯¥å­—æ¯çš„ç»„åˆï¼Œç„¶åå†åˆ†åˆ«è¿›å…¥åˆ°å­å­—ç¬¦ä¸²ä¸­è¿›è¡Œé€’å½’ä½¿ç”¨ã€‚</p><p><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180724163107802-1133643500.png" alt=""></p><h4 id="3-way-String-Quicksort-Java-Implementation"><a href="#3-way-String-Quicksort-Java-Implementation" class="headerlink" title="3-way String Quicksort: Java Implementation"></a>3-way String Quicksort: Java Implementation</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] a)</span> </span>&#123;</span><br><span class="line">    sort(a, <span class="number">0</span>, a.length - <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String []a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (lo &gt;= hi) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> lt = lo, gt = hi;</span><br><span class="line">    <span class="keyword">int</span> v = charAt(a[lo], d);</span><br><span class="line">    <span class="keyword">int</span> i = lo + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= gt) &#123;</span><br><span class="line">        <span class="keyword">int</span> t = charAt(a[i], d);</span><br><span class="line">        <span class="keyword">if</span> (t &lt; v) exch(a, lt++, i++);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (t &gt; v) exch(a,i,gt--);</span><br><span class="line">        <span class="keyword">else</span> i++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿™é‡Œæ˜¯å†æ¬¡æ¯”è¾ƒå‰é¢çš„æ•°ç»„è¿›è¡Œä¸‰ç›¸åˆ‡åˆ†ã€‚</span></span><br><span class="line">    sort(a, lo, lt - <span class="number">1</span>, d);</span><br><span class="line">    <span class="comment">//è¿™é‡Œçš„æ„æ€ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥å¯ä»¥å¼€å§‹é€’å½’ç¬¬äºŒä¸ªå­—æ¯äº†</span></span><br><span class="line">    <span class="keyword">if</span> (v &gt;= <span class="number">0</span>) sort(a, lt, gt, d + <span class="number">1</span>); </span><br><span class="line">    sort(a, gt + <span class="number">1</span>, hi, d);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Suffix-Arrays"><a href="#Suffix-Arrays" class="headerlink" title="Suffix Arrays"></a>Suffix Arrays</h3><p>å­—ç¬¦ä¸²åç¼€æ•°ç»„ æœ‰å¾ˆå¤šåº”ç”¨ï¼Œæ¯”å¦‚å…³é”®è¯æŸ¥æ‰¾ï¼Œæœ€é•¿é‡å¤å­å­—ç¬¦ç­‰ç­‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String[] suffixes(String s) &#123;</span><br><span class="line">    <span class="keyword">int</span> N = s.length();</span><br><span class="line">    String[] suffixes = <span class="keyword">new</span> String[N];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        suffixes[i] = s.substring(i, N);</span><br><span class="line">    <span class="keyword">return</span> suffixes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºåç¼€æ•°ç»„è¿›è¡Œæ’åºï¼Œå°±å¯ä»¥æŠŠç›¸åŒçš„å­—ç¬¦ä¸²ç»™å®‰æ’åˆ°ä¸€èµ·äº†ï¼Œè¿™æ ·çš„è¯æŸ¥æ‰¾å…³é”®è¯ä¹Ÿå°±å¿«äº†å¾ˆå¤šã€‚</p><p><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180727212115060-421776584.png" alt=""></p><p>å°±åƒè¿™æ ·ï¼Œæœ€é•¿é‡å¤å­å­—ç¬¦ä¸²ä¹Ÿå·®ä¸å¤š<br><img src="https://images2018.cnblogs.com/blog/886021/201807/886021-20180727212127781-214870736.png" alt=""></p><h4 id="LRS-Java-Implementation"><a href="#LRS-Java-Implementation" class="headerlink" title="LRS: Java Implementation"></a>LRS: Java Implementation</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">lrs</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = s.length();</span><br><span class="line"></span><br><span class="line">    String[] suffixes = <span class="keyword">new</span> String[N];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        suffixes[i] =s.substring(i, N);</span><br><span class="line"></span><br><span class="line">    Arrays.sort(suffixes);</span><br><span class="line"></span><br><span class="line">    String lrs = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// compute longest common prefix</span></span><br><span class="line">        <span class="comment">// between adjacent suffixes insorted order</span></span><br><span class="line">        <span class="keyword">int</span> len = lcp(suffixes[i], suffixes[i + <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (len &gt; lrs.length())</span><br><span class="line">           lrs = suffixes[i].substring(<span class="number">0</span>, len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> lrs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸è¿‡æœ€åçš„æƒ…å†µ,åº”è¯¥ä¼šè¾¾åˆ° n$^{2}$ã€‚<br>å› ä¸ºè¾“å…¥å­—ç¬¦ä¸²é‡å¤æ—¶ï¼Œéœ€è¦å¾ˆå¤šæ¬¡æ¯”è¾ƒæ‰èƒ½å®Œæˆæ’åºï¼Œæ‰€ä»¥è¿™é‡Œä»‹ç»äº†å¦å¤–ä¸€ç§ç®—æ³• Manber-Myer MSD ç®—æ³•</p><p>æœ‰å…´è¶£çš„è¯ å¯ä»¥è‡ªå·±å»æŸ¥ä¸€æŸ¥ è¿™é‡Œå°±ä¸åœ¨å¤šè¯´äº†ã€‚</p><p>æœ¬ç¯‡æ–‡ç« å€Ÿé‰´è¯¥<a href="https://www.cnblogs.com/mingyueanyao/p/9347094.html" target="_blank" rel="noopener">åšå®¢</a></p><p>è‹¥ä¾µåˆ ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="java" scheme="http://wsx1128.xyz/tags/java/"/>
    
      <category term="å­—ç¬¦ä¸²" scheme="http://wsx1128.xyz/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    
  </entry>
  
  <entry>
    <title>BaseballElimination</title>
    <link href="http://wsx1128.xyz/2019/09/14/BaseballElimination/"/>
    <id>http://wsx1128.xyz/2019/09/14/BaseballElimination/</id>
    <published>2019-09-14T10:44:03.000Z</published>
    <updated>2019-09-14T18:06:04.197Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="é¢˜ç›®é“¾æ¥"><a href="#é¢˜ç›®é“¾æ¥" class="headerlink" title="é¢˜ç›®é“¾æ¥"></a><a href="https://coursera.cs.princeton.edu/algs4/assignments/baseball/specification.php" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a></h3><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p><img src="/2019/09/14/BaseballElimination/1.png" alt="1"><br><img src="/2019/09/14/BaseballElimination/2.png" alt="2"><br><img src="/2019/09/14/BaseballElimination/3.png" alt="3"><br><img src="/2019/09/14/BaseballElimination/4.png" alt="4"><br><img src="/2019/09/14/BaseballElimination/5.png" alt="5"></p><h3 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h3><h4 id="é¢˜ç›®æ„æ€"><a href="#é¢˜ç›®æ„æ€" class="headerlink" title="é¢˜ç›®æ„æ€"></a>é¢˜ç›®æ„æ€</h4><p>ç»™ä½ næ”¯é˜Ÿä¼ï¼Œç„¶åæ¯ä¸€ä¸ªé˜Ÿä¼æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œèµ¢å¾—æ¯”èµ›ï¼Œè¾“çš„æ¯”èµ›ï¼Œä»¥åŠè¿˜æœ‰å¤šå°‘åœºæ¯”èµ›æ²¡æ‰“ï¼Œç„¶åå†ç»™ä¸€ä¸ªæ‰€æœ‰å‰©ä½™æ¯”èµ›çš„ç¤ºæ„å›¾ï¼Œæ¥è¡¨ç¤ºå‰©ä½™æ¯”èµ›è°ä¸è°å»æ‰“ã€‚è·èƒœæ¡ä»¶æ˜¯ åªæœ‰ä¸€æ”¯é˜Ÿä¼èƒœåˆ©ï¼Œå…¶ä½™çš„å…¨éƒ¨ç›´æ¥è¢«æ·˜æ±°ã€‚</p><p>ç°åœ¨éœ€è¦åšçš„æ˜¯è¯„ä¼°å…¶ä¸­çš„ä¸€æ”¯é˜Ÿä¼æ˜¯å¦è¢«æ·˜æ±°ã€‚</p><p><strong>æ·˜æ±°æ–¹å¼æœ‰ä¸¤ç§</strong></p><ul><li><p>ç¬¬ä¸€ç§ï¼Œè¯„ä¼°é˜Ÿä¼çš„æœ€å¤§è·èƒœæ•°ï¼Œï¼ˆç®—ä¸Šå…¶è¿˜æ²¡æœ‰æ‰“çš„æ¯”èµ›å…¨éƒ¨èµ¢ï¼‰ï¼Œè¿˜æ˜¯æ²¡æœ‰æŸäº›é˜Ÿä¼å·²ç»è·å–çš„èƒœåˆ©æ¯”èµ›æ•°å¤šï¼Œé‚£ä¹ˆåˆ™å¯ä»¥è¯´è¿™ä¸ªé˜Ÿä¼å·²ç»è¢«æ·˜æ±°äº†ã€‚</p></li><li><p>ç¬¬äºŒç§ï¼Œéœ€è¦å»ºç«‹ä¸€ä¸ªæœ€å¤§æµçš„å›¾ï¼Œç„¶åé€šè¿‡æœ€å¤§æµçš„å›¾ï¼Œæ¥åˆ¤æ–­æ˜¯å¦å·²ç»åœ¨æ•°å­¦ä¸Šè¢«æ·˜æ±°äº†ã€‚</p></li></ul><h4 id="æœ€å¤§æµçš„å»ºç«‹æ–¹æ³•"><a href="#æœ€å¤§æµçš„å»ºç«‹æ–¹æ³•" class="headerlink" title="æœ€å¤§æµçš„å»ºç«‹æ–¹æ³•"></a>æœ€å¤§æµçš„å»ºç«‹æ–¹æ³•</h4><p>è¿™é‡Œä¸€å…±éœ€è¦å»ºç«‹ 2 + n - 1 + $C_{2}^{n - 1}\textrm{}$ ä¸ªèŠ‚ï¼Œåˆ†åˆ«æ˜¯æºç‚¹ä¸æ±‡ç‚¹ï¼ŒåŠ ä¸Šé˜Ÿä¼èŠ‚ç‚¹ä¸æ¯”èµ›èŠ‚ç‚¹ï¼Œå°±åƒä¸‹é¢è¿™ä¸€å¼ å›¾</p><p><img src="https://coursera.cs.princeton.edu/algs4/assignments/baseball/baseball.png" alt=""></p><pre><code>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¯„åˆ¤æ–¹å¼ï¼Œå¦‚æœä»Sç‚¹å‡ºå‘çš„è¾¹é‡Œæµé‡éƒ½ç­‰äºå®¹é‡çš„è¯ï¼Œé‚£ä¹ˆ æ­¤æ—¶çš„flow ä¸€å®šç­‰åŒäº æœ€å¤§æµï¼Œè¯´æ˜å…¶ä»–é˜Ÿä¼ç”¨äº†ä¹ç‰›äºŒè™ä¹‹åŠ›æ‰€åšåˆ°çš„æœ€å¥½çš„ç»“æœä¹Ÿå°±æ˜¯ä¸è¯„ä¼°é˜Ÿä¼æ‰“æˆå¹³æ‰‹ã€‚è€Œå¦‚æœflowå¤§äºæœ€å¤§æµï¼Œåˆ™è¯´æ˜ï¼Œæœ‰ä¸€äº›ä»så‡ºå‘çš„è¾¹å¹¶æ²¡æœ‰è¾¾åˆ°å®¹é‡ï¼Œå†è¿˜æœ‰æ¯”èµ›æ²¡æœ‰æ‰“å®Œçš„æ—¶å€™ï¼Œå°±å·²ç»æœ‰é˜Ÿä¼åˆ†æ•°è·Ÿè¯„ä¼°é˜Ÿä¼çš„åˆ†æ•°ä¸€æ ·äº†ï¼Œåˆ™è¯´æ˜è¯„ä¼°é˜Ÿä¼å·²ç»è¢«æ·˜æ±°äº†ã€‚</code></pre><h3 id="ä»£ç å¦‚ä¸‹"><a href="#ä»£ç å¦‚ä¸‹" class="headerlink" title="ä»£ç å¦‚ä¸‹"></a>ä»£ç å¦‚ä¸‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Programming_Assignment_8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.FlowEdge;</span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.FlowNetwork;</span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.FordFulkerson;</span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.In;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BaseballElimination</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> flows;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span>[] win;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span>[] lose;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span>[] left;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span>[][] remain;</span><br><span class="line">    <span class="keyword">private</span> String[] teams;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> teamnum;</span><br><span class="line">    <span class="keyword">private</span> HashMap&lt;Integer,Integer&gt;pos;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> HashMap&lt;String, Integer&gt; map;</span><br><span class="line">    <span class="keyword">private</span> HashSet&lt;String&gt; set;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> allv;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> gameTeams;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BaseballElimination</span><span class="params">(String filename)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (filename == <span class="keyword">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Wrong file name..."</span>);</span><br><span class="line">        In in = <span class="keyword">new</span> In(filename);</span><br><span class="line">        teamnum = Integer.parseInt(in.readLine());</span><br><span class="line">        teams = <span class="keyword">new</span> String[teamnum];</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();</span><br><span class="line">        win = <span class="keyword">new</span> <span class="keyword">int</span>[teamnum];</span><br><span class="line">        lose = <span class="keyword">new</span> <span class="keyword">int</span> [teamnum];</span><br><span class="line">        left = <span class="keyword">new</span> <span class="keyword">int</span>[teamnum];</span><br><span class="line">        remain = <span class="keyword">new</span> <span class="keyword">int</span>[teamnum][teamnum];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> tot = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (in.hasNextLine()) &#123;</span><br><span class="line">            String readline = in.readLine().trim();</span><br><span class="line">            String []token = readline.split(<span class="string">" +"</span>);</span><br><span class="line">            map.put(token[<span class="number">0</span>], tot);</span><br><span class="line"></span><br><span class="line">            teams[tot] = token[<span class="number">0</span>];</span><br><span class="line">            win[tot] = Integer.parseInt(token[<span class="number">1</span>]);</span><br><span class="line">            lose[tot] = Integer.parseInt(token[<span class="number">2</span>]);</span><br><span class="line">            left[tot] = Integer.parseInt(token[<span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; teamnum; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == tot) remain[tot][i] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span> remain[tot][i] = Integer.parseInt(token[<span class="number">4</span> + i]);</span><br><span class="line">            &#125;</span><br><span class="line">            tot++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numberOfTeams</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> teamnum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;String&gt; <span class="title">teams</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> map.keySet();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">wins</span><span class="params">(String team)</span> </span>&#123;</span><br><span class="line">        valid(team);</span><br><span class="line">        Integer id = map.get(team);</span><br><span class="line">        <span class="keyword">return</span> win[id];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">losses</span><span class="params">(String team)</span> </span>&#123;</span><br><span class="line">        valid(team);</span><br><span class="line">        Integer id = map.get(team);</span><br><span class="line">        <span class="keyword">return</span> lose[id];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">remaining</span><span class="params">(String team)</span> </span>&#123;</span><br><span class="line">        valid(team);</span><br><span class="line">        Integer id = map.get(team);</span><br><span class="line">        <span class="keyword">return</span> left[id];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">against</span><span class="params">(String team1, String team2)</span> </span>&#123;</span><br><span class="line">        valid(team1);</span><br><span class="line">        valid(team2);</span><br><span class="line">        Integer id1 = map.get(team1);</span><br><span class="line">        Integer id2 = map.get(team2);</span><br><span class="line">        <span class="keyword">return</span> remain[id1][id2];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> FlowNetwork <span class="title">buildFlowNetwrok</span><span class="params">(String team)</span> </span>&#123;</span><br><span class="line">        valid(team);</span><br><span class="line">        Integer id = map.get(team);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> most = win[id] + left[id];</span><br><span class="line"></span><br><span class="line">        gameTeams = (teamnum - <span class="number">1</span>) * (teamnum - <span class="number">2</span>) / <span class="number">2</span>;</span><br><span class="line">        allv = gameTeams + teamnum - <span class="number">1</span> + <span class="number">2</span>;</span><br><span class="line">        flows = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        pos = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> s = <span class="number">0</span>, t = allv - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> gameIndex = <span class="number">1</span>; <span class="comment">//æ¯”èµ›ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> indexi = gameTeams;<span class="comment">// çƒé˜ŸèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> indexj = indexi;</span><br><span class="line">        <span class="keyword">double</span> max = Double.POSITIVE_INFINITY;</span><br><span class="line"></span><br><span class="line">        FlowNetwork flowNetwork = <span class="keyword">new</span> FlowNetwork(allv);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; teamnum; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (id == i) <span class="keyword">continue</span>;</span><br><span class="line">            indexi++;</span><br><span class="line">            indexj = indexi;</span><br><span class="line">            <span class="keyword">if</span>(win[i] &gt; most) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; teamnum; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j == id) <span class="keyword">continue</span>;</span><br><span class="line">                indexj++;</span><br><span class="line">                flows += remain[i][j];</span><br><span class="line">                flowNetwork.addEdge(<span class="keyword">new</span> FlowEdge(s,gameIndex,remain[i][j]));</span><br><span class="line">                flowNetwork.addEdge(<span class="keyword">new</span> FlowEdge(gameIndex,indexi,max));</span><br><span class="line">                flowNetwork.addEdge(<span class="keyword">new</span> FlowEdge(gameIndex,indexj,max));</span><br><span class="line">                gameIndex++;</span><br><span class="line">            &#125;</span><br><span class="line">            pos.put(indexi,i);</span><br><span class="line"></span><br><span class="line">            flowNetwork.addEdge(<span class="keyword">new</span> FlowEdge(indexi,t,most - win[i]));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> flowNetwork;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">valid</span><span class="params">(String team)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (team == <span class="keyword">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Wrong teams"</span>);</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(team)) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Not in the team"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEliminated</span><span class="params">(String team)</span> </span>&#123;</span><br><span class="line">       valid(team);</span><br><span class="line">       FlowNetwork flowNetwork = buildFlowNetwrok(team);</span><br><span class="line">       <span class="keyword">int</span> id = map.get(team);</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> (flowNetwork == <span class="keyword">null</span>) &#123;</span><br><span class="line">           set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; teamnum; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (id == i) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span> (win[id] + left[id] &lt; win[i]) &#123;</span><br><span class="line">                    set.add(teams[i]);</span><br><span class="line">                &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       FordFulkerson fordFulkerson = <span class="keyword">new</span> FordFulkerson(flowNetwork,<span class="number">0</span>,allv - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> (flows &gt; fordFulkerson.value()) &#123;</span><br><span class="line">           set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = gameTeams + <span class="number">1</span>; i &lt; allv - <span class="number">1</span> ;i++) &#123;</span><br><span class="line">               <span class="comment">//å…¶å®è¿™ä¸ªåœ°æ–¹æ˜¯ä¸€ç›´å¼„ä¸æ¸…æ¥šè¿™ä¸ªå‡½æ•°ï¼Œä¸»è¦æ˜¯å¼„ä¸æ¸… ä¸ºä»€ä¹ˆè¿™ä¸ªç‚¹åœ¨æœ€å°å‰²ä¸Šé¢ å°±å¯ä»¥è¯æ˜å‡º æ¥è‡ªsç‚¹çš„è¾¹ æµé‡ä¸ç­‰äºå®¹é‡</span></span><br><span class="line">               <span class="comment">//æŸ¥é˜…äº†ç›¸å…³èµ„æ–™ï¼Œæœ€åå‘ç°ï¼Œå…¶å® è¿™é‡Œincut å°±ç›¸å½“äºå‰²è¾¹ç›´æ¥å°†æ•´å¼ å›¾ä¸€åˆ†ä¸º2ï¼Œè¿™é‡Œæ˜¯é è¿‘æºç‚¹sçš„</span></span><br><span class="line">               <span class="comment">//æ¢è¨€ä¹‹ï¼Œå°±æ˜¯åœ¨è·‘å®Œæœ€åä¸€éå¯»æ‰¾å¢å¹¿è·¯çš„æ—¶å€™ï¼Œæ˜¯å¦ä¼šæœ‰åœ¨å…¶å‰©ä½™çš„è·¯å¾„ä¸Šï¼Œæ„æ€å°±æ˜¯ å½“æˆ‘æŸ¥çœ‹é˜Ÿä¼çš„ç‚¹çš„æ—¶å€™ï¼Œåªè¦æ²¡æœ‰å‰©ä½™çš„æµé‡ï¼Œå°±ä¸€å®šä¸ä¼šéå†åˆ°è¿™ä¸ªç‚¹ä¸Š</span></span><br><span class="line">               <span class="keyword">if</span> (fordFulkerson.inCut(i)) &#123;</span><br><span class="line">                   <span class="keyword">int</span> Id = pos.get(i);</span><br><span class="line">                   set.add(teams[Id]);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;String&gt; <span class="title">certificateOfElimination</span><span class="params">(String team)</span>  </span>&#123;</span><br><span class="line">        valid(team);</span><br><span class="line">        <span class="keyword">if</span> (isEliminated(team)) <span class="keyword">return</span> set;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ä¸Šé¢æ‰€è¯´çš„ä½ç½®ï¼Œincut è¿™é‡Œå°±æ˜¯æ ‡è®°æ˜¯å¦æœ‰ä½ç½®è¿˜æœ‰å‰©ä½™ï¼Œå½“æœ€åä¸€æ¬¡åœ¨æ‰¾å¢å¹¿è·¯çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™äº›ä½ç½®å°±æ˜¯æ²¡æœ‰æ»¡çš„ä½ç½®</strong></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è§‰å¾—è¿™æ¬¡å¤§ä½œä¸šåšçš„ç‰¹åˆ«è¯¡å¼‚ï¼Œä¸»è¦æ˜¯é¢˜ç›®å¥½äº†å¥½ä¹…æ—¶é—´æ‰ç†è§£å…¶çœŸæ­£çš„æ„æ€ï¼Œè¿˜æœ‰å¯èƒ½æ˜¯å¯¹äºæœ€å¤§æµçš„æ¦‚å¿µç†è§£çš„è¿˜æ˜¯ä¸å¤Ÿé€å½»ï¼Œè¿™å°±æ˜¯æˆ‘ä¸ªäººçš„é—®é¢˜ï¼Œæ¥ä¸‹æ¥æ‰€éœ€è¦åšçš„å°±æ˜¯ ä¸‹ä¸€æ¬¡çš„å¤§ä½œä¸šï¼Œä»¥åŠå¥½å¥½ç†è§£ä¸€ä¸‹ æœ€å¤§æµ æœ€å°å‰²å®šç†ä¹‹é—´çš„å˜åŒ–ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="java" scheme="http://wsx1128.xyz/tags/java/"/>
    
      <category term="æ™®æ—æ–¯é¡¿ç®—æ³•è¯¾" scheme="http://wsx1128.xyz/tags/%E6%99%AE%E6%9E%97%E6%96%AF%E9%A1%BF%E7%AE%97%E6%B3%95%E8%AF%BE/"/>
    
  </entry>
  
  <entry>
    <title>SeamCarver</title>
    <link href="http://wsx1128.xyz/2019/09/10/SeamCarver/"/>
    <id>http://wsx1128.xyz/2019/09/10/SeamCarver/</id>
    <published>2019-09-10T13:20:06.000Z</published>
    <updated>2019-09-10T13:41:41.157Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p><a href="https://coursera.cs.princeton.edu/algs4/assignments/seam/specification.php" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a></p><p><strong>é¢˜ç›®è¯¦å›¾</strong><br><img src="/2019/09/10/SeamCarver/1.png" alt="1"><br><img src="/2019/09/10/SeamCarver/2.png" alt="2"><br><img src="/2019/09/10/SeamCarver/3.png" alt="3"><br><img src="/2019/09/10/SeamCarver/4.png" alt="4"><br><img src="/2019/09/10/SeamCarver/5.png" alt="5"><br><img src="/2019/09/10/SeamCarver/6.png" alt="6"></p><h3 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h3><p>è¿™é“é¢˜æ˜¯æˆ‘è¿™å‡ æ¬¡åšè¿™ä¸ªjavaå¤§ä½œä¸šé‡Œé¢ï¼Œè¿˜ç‰¹åˆ«æœ‰æ„æ€çš„ä¸€æ¬¡ä½œä¸šï¼Œä¸»è¦æ˜¯è¿™æ¬¡ä»‹ç»çš„è¿™ä¸ªç®—æ³•ç‰¹åˆ«æµå¼Šï¼Œæ„Ÿè§‰ç‰¹åˆ«å¸¸è§ï¼Œå°±æ˜¯å‘ç°äº2007å¹´çš„ç®—æ³•ï¼Œå¹¶ä¸”åº”ç”¨äº Photoshopå†…æ ¸çš„ç®—æ³•ï¼Œç”¨äºå›¾ç‰‡çš„æ‹‰ä¼¸ä¸ç¼©æ”¾ã€‚</p><p>å…ˆå¼€å§‹æ˜¯ä½œä¸ºæœ€çŸ­è·¯é‡Œé¢çš„ç®—æ³•å‡ºç°ï¼Œæ„Ÿè§‰ç‰¹åˆ«çš„æ‡µé€¼ï¼Œå› ä¸ºå®Œå…¨ä¸çŸ¥é“è¯¥æ€ä¹ˆä¸‹æ‰‹ï¼Œä¸è¿‡åé¢å°±å¥½å¾ˆå¤šäº†ï¼Œæ„æ€å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªç‰¹å®šçš„å…¬å¼ï¼Œå°†æ¯ä¸€ä¸ªåƒç´ ç‚¹ä¸å‘¨å›´8ä¸ªæ–¹å‘çš„ç‚¹çš„å·®å¼‚ç›¸è”ç³»ï¼Œä½œä¸ºæ•´ä¸ªåƒç´ ç‚¹çš„æƒå€¼ï¼Œç„¶åä»ä¸åŒäºæ‹‰ä¼¸çš„æ–¹å‘ï¼Œä»é¡¶éƒ¨åˆ°åº•éƒ¨æ‰¾ä¸€æ¡åƒç´ ç‚¹æƒå€¼æœ€å°çš„è·¯çº¿ï¼Œç„¶åå°†è¿™æ¡è·¯çº¿è¿›è¡Œåˆ é™¤ï¼Œæœ€åä¾¿å¾—åˆ°ç»“æœã€‚</p><p>ç„¶åæ‰¾æœ€çŸ­è·¯çš„åŠæ³•ï¼Œè¿™é‡Œä½¿ç”¨çš„å°±æ˜¯ å¯¹æ¯ä¸€ä¸ªç‚¹ï¼Œè‡³ä¸Šè€Œä¸‹çš„æ¾å¼›ï¼Œæœ€ç»ˆå¾—åˆ°ç»“æœï¼Œè¿™æ¬¡ä½œä¸šåªæ˜¯çœ‹ç€æœ‰ç‚¹å“äººï¼Œä½†æ˜¯å…¶å®è¿˜æ˜¯ç‰¹åˆ«ç®€å•çš„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.Picture;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SeamCarver</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿™é‡Œå›¾åƒä¼šå‘ç”Ÿæ”¹å˜ï¼Œæ‰€ä»¥è¿™é‡Œä¸èƒ½ç›´æ¥å†™å®šä¹‰æˆä¸å˜é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> width;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> height;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> [][] picture;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> [][] energy;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// create a seam carver object based on the given picture</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SeamCarver</span><span class="params">(Picture picture)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (picture == <span class="keyword">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">        <span class="keyword">this</span>.height = picture.height();</span><br><span class="line">        <span class="keyword">this</span>.width = picture.width();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.picture = <span class="keyword">new</span> <span class="keyword">int</span> [width][height];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.width; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="keyword">this</span>.height; j++) &#123;</span><br><span class="line">                <span class="keyword">this</span>.picture[i][j] = picture.getRGB(i, j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        renewenergy();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">validateindex</span><span class="params">(<span class="keyword">int</span> col, <span class="keyword">int</span> row)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (row &lt; <span class="number">0</span> || row &gt;= height || col &lt; <span class="number">0</span> || col &gt;= width) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Wrong index"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">renewenergy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        energy = <span class="keyword">new</span> <span class="keyword">double</span>[width][height];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; width; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; height; j++) &#123;</span><br><span class="line">                calculatenergy(i, j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">calculatenergy</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        validateindex(x, y);</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">0</span> || y == <span class="number">0</span> || x == width - <span class="number">1</span> || y == height - <span class="number">1</span>) &#123;</span><br><span class="line">            energy[x][y] = <span class="number">1000.0</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> rgbUp = picture[x][y - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> rgbDown = picture[x][y + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> rgbLeft = picture[x - <span class="number">1</span>][y];</span><br><span class="line">        <span class="keyword">int</span> rgbRight = picture[x + <span class="number">1</span>][y];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> rx = Math.pow(((rgbLeft &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>) - ((rgbRight &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>), <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">double</span> gx = Math.pow(((rgbLeft &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>) - ((rgbRight &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>), <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">double</span> bx = Math.pow(((rgbLeft &gt;&gt; <span class="number">0</span>) &amp; <span class="number">0xFF</span>) - ((rgbRight &gt;&gt; <span class="number">0</span>) &amp; <span class="number">0xFF</span>), <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> ry = Math.pow(((rgbUp &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>) - ((rgbDown &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>), <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">double</span> gy = Math.pow(((rgbUp &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>) - ((rgbDown &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>), <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">double</span> by = Math.pow(((rgbUp &gt;&gt; <span class="number">0</span>) &amp; <span class="number">0xFF</span>) - ((rgbDown &gt;&gt; <span class="number">0</span>) &amp; <span class="number">0xFF</span>), <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        energy[x][y] =  Math.sqrt(rx + gx + bx + ry + gy + by);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Picture <span class="title">picture</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Picture tmp = <span class="keyword">new</span> Picture(width, height);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; width; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; height; j++) &#123;</span><br><span class="line">                tmp.setRGB(i, j, picture[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">width</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> width;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">height</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> height;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">energy</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        validateindex(x, y);</span><br><span class="line">        <span class="keyword">return</span> energy[x][y];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">transform</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp = height;</span><br><span class="line">        height = width;</span><br><span class="line">        width = temp;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> [][] en = <span class="keyword">new</span> <span class="keyword">double</span>[width][height];</span><br><span class="line">        <span class="keyword">int</span> [][] p = <span class="keyword">new</span> <span class="keyword">int</span>[width][height];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; width; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; height; j++) &#123;</span><br><span class="line">                en[i][j] = energy[j][i];</span><br><span class="line">                p[i][j] = picture[j][i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        energy = en;</span><br><span class="line">        picture = p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] findHorizontalSeam() &#123;</span><br><span class="line">        transform();</span><br><span class="line">        <span class="keyword">int</span> [] res = findVerticalSeam();</span><br><span class="line">        transform();</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">relaxVertical</span><span class="params">(<span class="keyword">double</span>[][] disTo, <span class="keyword">int</span>[][]edgeTo, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        validateindex(x, y);</span><br><span class="line">        <span class="keyword">if</span> (disTo[x][y + <span class="number">1</span>] &gt; disTo[x][y] + energy[x][y + <span class="number">1</span>]) &#123;</span><br><span class="line">            disTo[x][y + <span class="number">1</span>] = disTo[x][y] + energy[x][y + <span class="number">1</span>];</span><br><span class="line">            edgeTo[x][y + <span class="number">1</span>] = x;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (x &gt; <span class="number">0</span> &amp;&amp; disTo[x - <span class="number">1</span>][y + <span class="number">1</span>] &gt; disTo[x][y] + energy[x - <span class="number">1</span>][y + <span class="number">1</span>]) &#123;</span><br><span class="line">            disTo[x - <span class="number">1</span>][y + <span class="number">1</span>] = disTo[x][y] + energy[x - <span class="number">1</span>][y + <span class="number">1</span>];</span><br><span class="line">            edgeTo[x - <span class="number">1</span>][y + <span class="number">1</span>] = x;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (x &lt; width - <span class="number">1</span> &amp;&amp; disTo[x + <span class="number">1</span>][y + <span class="number">1</span>] &gt; disTo[x][y] + energy[x + <span class="number">1</span>][y + <span class="number">1</span>]) &#123;</span><br><span class="line">            disTo[x + <span class="number">1</span>][y + <span class="number">1</span>] = disTo[x][y] + energy[x + <span class="number">1</span>][y + <span class="number">1</span>];</span><br><span class="line">            edgeTo[x + <span class="number">1</span>][y + <span class="number">1</span>] = x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] findVerticalSeam() &#123;</span><br><span class="line">        <span class="keyword">int</span> [] seam = <span class="keyword">new</span> <span class="keyword">int</span>[height];</span><br><span class="line">        <span class="keyword">double</span> [][] disTo = <span class="keyword">new</span> <span class="keyword">double</span> [width][height];</span><br><span class="line">        <span class="keyword">int</span> [][] edgeTo = <span class="keyword">new</span> <span class="keyword">int</span> [width][height];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; width; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; height; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j == <span class="number">0</span>) disTo[i][j] = energy[i][j];</span><br><span class="line">                <span class="keyword">else</span> disTo[i][j] = Double.POSITIVE_INFINITY;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¿™é‡Œçš„é¡ºåºé”™äº†ï¼Œå› ä¸º è¿™é‡Œæ¯”è¾ƒç‰¹æ®Šçš„æ˜¯çŸ©é˜µçš„å­˜æ³•ï¼Œæ‰€ä»¥å¿…é¡»å°†å¾ªç¯ç¿»è¿‡æ¥è¿›è¡Œå­˜å–</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; height - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; width; i++) &#123;</span><br><span class="line">                relaxVertical(disTo, edgeTo, i, j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> min = Double.POSITIVE_INFINITY;</span><br><span class="line">        <span class="keyword">int</span> index = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; width; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (min &gt; disTo[i][height - <span class="number">1</span>]) &#123;</span><br><span class="line">                min = disTo[i][height - <span class="number">1</span>];</span><br><span class="line">                index = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        seam[height - <span class="number">1</span>] = index;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = height - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            index = edgeTo[index][i + <span class="number">1</span>];</span><br><span class="line">            seam[i] = index;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> seam;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// remove horizontal seam from current picture</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeHorizontalSeam</span><span class="params">(<span class="keyword">int</span>[] seam)</span> </span>&#123;</span><br><span class="line">        transform();</span><br><span class="line">        removeVerticalSeam(seam);</span><br><span class="line">        transform();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span>[] seam)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (width &lt;= <span class="number">1</span> || seam == <span class="keyword">null</span> || seam.length != height) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; height; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (seam[i] &lt; <span class="number">0</span> || seam[i] &gt; width - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; Math.abs(seam[i - <span class="number">1</span>] - seam[i]) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// remove vertical seam from current picture</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeVerticalSeam</span><span class="params">(<span class="keyword">int</span>[] seam)</span> </span>&#123;</span><br><span class="line">        check(seam);</span><br><span class="line">        <span class="keyword">int</span> min = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; height; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (seam[i] &gt; max) max = seam[i];</span><br><span class="line">            <span class="keyword">if</span> (seam[i] &lt; min) min = seam[i];</span><br><span class="line">            <span class="comment">//è¿™ä¸ªåœ°æ–¹å¯ä»¥ç›´æ¥è¯¥ä½ç½®ä¸Šå°†æ¯ä¸€ä¸ªä½ç½®çš„å…ƒç´ è¿›è¡Œå˜åŒ–</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = seam[i]; j &lt; width - <span class="number">1</span>; j++) &#123;</span><br><span class="line">                picture[j][i] = picture[j + <span class="number">1</span>][i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        width = width - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (min &gt; <span class="number">0</span>) min--;</span><br><span class="line">        <span class="keyword">if</span> (max &gt; width - <span class="number">1</span>) max = width - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; height; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = min; i &lt;= max; i++) &#123;</span><br><span class="line">                calculatenergy(i, j);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = max + <span class="number">1</span>; i &lt; width - <span class="number">1</span>; i++) &#123;</span><br><span class="line">                energy[i][j] = energy[i + <span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸è¿‡è¿™é‡Œéœ€è¦è‡ªå·±é‡æ¸©ä¸€ä¸‹ ä¸Šä¸€å‘¨çš„ä½œä¸š å°±æ˜¯å›¾çš„apiè¿™äº›éƒ¨åˆ†ï¼Œæœ‰çš„åªæ˜¯ä¼šç”¨c++è·‘ï¼Œç”¨Javaæ€»æ˜¯æ„Ÿè§‰æœ‰ç‚¹åŠ›ä¸ä»å¿ƒï¼Œå¸Œæœ›åé¢å°½å¿«ç†Ÿæ‚‰èµ·æ¥ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="java" scheme="http://wsx1128.xyz/tags/java/"/>
    
      <category term="æ™®æ—æ–¯é¡¿ç®—æ³•å¤§ä½œä¸š" scheme="http://wsx1128.xyz/tags/%E6%99%AE%E6%9E%97%E6%96%AF%E9%A1%BF%E7%AE%97%E6%B3%95%E5%A4%A7%E4%BD%9C%E4%B8%9A/"/>
    
  </entry>
  
  <entry>
    <title>WordNet</title>
    <link href="http://wsx1128.xyz/2019/09/10/WordNet/"/>
    <id>http://wsx1128.xyz/2019/09/10/WordNet/</id>
    <published>2019-09-10T13:19:31.000Z</published>
    <updated>2019-09-14T17:56:55.055Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://coursera.cs.princeton.edu/algs4/assignments/wordnet/specification.php" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a></p><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p><img src="/2019/09/10/WordNet/1.png" alt="é¢˜ç›®å›¾"><br><img src="/2019/09/10/WordNet/2.png" alt="é¢˜ç›®å›¾"><br><img src="/2019/09/10/WordNet/3.png" alt="é¢˜ç›®å›¾"><br><img src="/2019/09/10/WordNet/4.png" alt="é¢˜ç›®å›¾"><br><img src="/2019/09/10/WordNet/5.png" alt="é¢˜ç›®å›¾"><br><img src="/2019/09/10/WordNet/6.png" alt="é¢˜ç›®å›¾"><br><img src="/2019/09/10/WordNet/7.png" alt="é¢˜ç›®å›¾"><br><img src="/2019/09/10/WordNet/8.png" alt="é¢˜ç›®å›¾"></p><p>æˆ‘ä¸ªäººè§‰å¾—è¿™ä¸€æ¬¡å¤§ä½œä¸šå¾—é‡æ–°åšä¸€éï¼Œå› ä¸ºå¯¹äºè¿™æ¬¡çš„å¤§ä½œä¸šæœ‰ä¸€äº›åœ°æ–¹ï¼Œæ€»è¿˜æ˜¯å¼„ä¸æ¸…æ¥šï¼Œæœ€å…³é”®çš„å°±æ˜¯è¿™æ¬¡çš„å›¾é‡Œé¢æœ‰ä¸€äº›apiéœ€è¦èŠ±æ—¶é—´å»å¼„æ¸…æ¥š</p><p>æ‰€ä»¥è¿™é‡Œå°±ä¸è´´è®²è§£äº†ï¼Œæ—¶é—´è¿‡å»å¤ªä¹…äº†ï¼Œåè€Œè‡ªå·±ä¹Ÿæå¿˜äº†ï¼Œæ‰€ä»¥è¿™é‡Œç›´æ¥è´´å‡ºä»£ç </p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p><strong>SAP.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Programming_Assignment_6;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.Digraph;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SAP</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> length;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ancestor;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Digraph copyG;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] distTo1;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] distTo2;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span>[] marked1;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span>[] marked2;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Stack&lt;Integer&gt; stack1;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Stack&lt;Integer&gt; stack2;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// constructor takes a digraph (not necessarily a DAG)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SAP</span><span class="params">(Digraph G)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (G == <span class="keyword">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"argument to G"</span>);</span><br><span class="line">        copyG = <span class="keyword">new</span> Digraph(G);</span><br><span class="line">        distTo1 = <span class="keyword">new</span> <span class="keyword">int</span> [G.V()];</span><br><span class="line">        distTo2 = <span class="keyword">new</span> <span class="keyword">int</span> [G.V()];</span><br><span class="line">        marked1 = <span class="keyword">new</span> <span class="keyword">boolean</span>[G.V()];</span><br><span class="line">        marked2 = <span class="keyword">new</span> <span class="keyword">boolean</span>[G.V()];</span><br><span class="line">        stack1 = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        stack2 = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkVertex</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> v = marked1.length;</span><br><span class="line">        <span class="keyword">if</span> (x &lt; <span class="number">0</span> || x &gt;= v) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkVertices</span><span class="params">(Iterable&lt;Integer&gt; x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">        <span class="keyword">int</span> v = marked1.length;</span><br><span class="line">        <span class="keyword">for</span> (Integer vv :x) &#123;</span><br><span class="line">            <span class="keyword">if</span> (vv == <span class="keyword">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">            <span class="keyword">if</span> (vv &lt; <span class="number">0</span> || vv &gt;= v) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (!stack1.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> v = stack1.pop();</span><br><span class="line">            marked1[v] = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!stack2.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> v = stack2.pop();</span><br><span class="line">            marked2[v] = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// length of shortest ancestral path between v and w; -1 if no such path</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">length</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> w)</span> </span>&#123;</span><br><span class="line">        checkVertex(v);</span><br><span class="line">        checkVertex(w);</span><br><span class="line">        compute(v, w);</span><br><span class="line">        <span class="keyword">return</span> length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">compute</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> w)</span> </span>&#123;</span><br><span class="line">        length = -<span class="number">1</span>;</span><br><span class="line">        ancestor = -<span class="number">1</span>;</span><br><span class="line">        distTo1[v] = <span class="number">0</span>;</span><br><span class="line">        distTo2[w] = <span class="number">0</span>;</span><br><span class="line">        marked1[v] = <span class="keyword">true</span>;</span><br><span class="line">        marked2[w] = <span class="keyword">true</span>;</span><br><span class="line">        stack1.push(v);</span><br><span class="line">        stack2.push(w);</span><br><span class="line">        Queue&lt;Integer&gt; q1 = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        Queue&lt;Integer&gt; q2 = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        q1.add(v);</span><br><span class="line">        q2.add(w);</span><br><span class="line">        bfs(q1, q2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">compute</span><span class="params">(Iterable&lt;Integer&gt; v, Iterable&lt;Integer&gt; w)</span> </span>&#123;</span><br><span class="line">        length = -<span class="number">1</span>;</span><br><span class="line">        ancestor = -<span class="number">1</span>;</span><br><span class="line">        Queue&lt;Integer&gt; q1 = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        Queue&lt;Integer&gt; q2 = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x :v) &#123;</span><br><span class="line">            marked1[x] = <span class="keyword">true</span>;</span><br><span class="line">            stack1.push(x);</span><br><span class="line">            distTo1[x] = <span class="number">0</span>;</span><br><span class="line">            q1.add(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x: w) &#123;</span><br><span class="line">            marked2[x] = <span class="keyword">true</span>;</span><br><span class="line">            stack2.push(x);</span><br><span class="line">            distTo2[x] = <span class="number">0</span>;</span><br><span class="line">            q2.add(x);</span><br><span class="line">        &#125;</span><br><span class="line">        bfs(q1, q2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(Queue&lt;Integer&gt; q1, Queue&lt;Integer&gt; q2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (!q1.isEmpty() || !q2.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!q1.isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">int</span> v = q1.remove();</span><br><span class="line">                <span class="keyword">if</span> (marked2[v]) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (distTo1[v] + distTo2[v] &lt; length || length == -<span class="number">1</span>) &#123;</span><br><span class="line">                        ancestor = v;</span><br><span class="line">                        length = distTo1[v] + distTo2[v];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (distTo1[v] &lt; length || length == -<span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> w: copyG.adj(v)) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (!marked1[w]) &#123;</span><br><span class="line">                            distTo1[w] = distTo1[v] + <span class="number">1</span>;</span><br><span class="line">                            marked1[w] = <span class="keyword">true</span>;</span><br><span class="line">                            stack1.push(w);</span><br><span class="line">                            q1.add(w);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!q2.isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">int</span> v = q2.remove();</span><br><span class="line">                <span class="keyword">if</span> (marked1[v]) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (distTo1[v] + distTo2[v] &lt; length || length == -<span class="number">1</span>) &#123;</span><br><span class="line">                        ancestor = v;</span><br><span class="line">                        length = distTo1[v] + distTo2[v];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (distTo2[v] &lt; length || length == -<span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> w:copyG.adj(v)) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (!marked2[w]) &#123;</span><br><span class="line">                            distTo2[w] = distTo2[v] + <span class="number">1</span>;</span><br><span class="line">                            marked2[w] = <span class="keyword">true</span>;</span><br><span class="line">                            stack2.push(w);</span><br><span class="line">                            q2.add(w);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// a common ancestor of v and w that participates in a shortest ancestral path; -1 if no such path</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ancestor</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> w)</span> </span>&#123;</span><br><span class="line">        checkVertex(v);</span><br><span class="line">        checkVertex(w);</span><br><span class="line">        compute(v, w);</span><br><span class="line">        <span class="keyword">return</span> ancestor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// length of shortest ancestral path between any vertex in v and any vertex in w; -1 if no such path</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">length</span><span class="params">(Iterable&lt;Integer&gt; v, Iterable&lt;Integer&gt; w)</span> </span>&#123;</span><br><span class="line">        checkVertices(v);</span><br><span class="line">        checkVertices(w);</span><br><span class="line">        compute(v, w);</span><br><span class="line">        <span class="keyword">return</span> length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// a common ancestor that participates in shortest ancestral path; -1 if no such path</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ancestor</span><span class="params">(Iterable&lt;Integer&gt; v, Iterable&lt;Integer&gt; w)</span> </span>&#123;</span><br><span class="line">        checkVertices(v);</span><br><span class="line">        checkVertices(w);</span><br><span class="line">        compute(v, w);</span><br><span class="line">        <span class="keyword">return</span> ancestor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Wordnet.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> Programming_Assignment_6;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.Digraph;</span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.In;</span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.Topological;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WordNet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, TreeSet&lt;Integer&gt; &gt; synSets;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer, String&gt; ssynsets;</span><br><span class="line">    <span class="keyword">private</span> Digraph hyperNyms;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> idSum;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> outSum;</span><br><span class="line">    <span class="keyword">private</span> SAP sap;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// constructor takes the name of the two input files</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WordNet</span><span class="params">(String synsets, String hypernyms)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (synsets == <span class="keyword">null</span> || hypernyms == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"arguments to WordNet() is null"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        readsynset(synsets);</span><br><span class="line">        readhypernyms(hypernyms);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readsynset</span><span class="params">(String synsets)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        synSets = <span class="keyword">new</span> TreeMap&lt;String, TreeSet&lt;Integer&gt; &gt;();</span><br><span class="line">        <span class="keyword">this</span>.ssynsets = <span class="keyword">new</span> TreeMap&lt;Integer, String&gt;();</span><br><span class="line">        In synset = <span class="keyword">new</span> In(synsets);</span><br><span class="line">        idSum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (synset.hasNextLine()) &#123;</span><br><span class="line"></span><br><span class="line">            idSum++;</span><br><span class="line">            String str = synset.readLine();</span><br><span class="line">            String[] field = str.split(<span class="string">","</span>);</span><br><span class="line">            <span class="keyword">int</span> id = Integer.parseInt(field[<span class="number">0</span>]);</span><br><span class="line">            <span class="keyword">this</span>.ssynsets.put(id, field[<span class="number">1</span>]);</span><br><span class="line">            String[] nons = field[<span class="number">1</span>].split(<span class="string">" "</span>);</span><br><span class="line">            <span class="keyword">for</span> (String tmp : nons) &#123;</span><br><span class="line">                <span class="keyword">if</span> (synSets.containsKey(tmp)) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (synSets.containsKey(tmp)) &#123;</span><br><span class="line">                        synSets.get(tmp).add(id);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    TreeSet&lt;Integer&gt; ids = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">                    ids.add(id);</span><br><span class="line">                    synSets.put(tmp, ids);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readhypernyms</span><span class="params">(String hypernyms)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        hyperNyms = <span class="keyword">new</span> Digraph(idSum);</span><br><span class="line">        In hypernym = <span class="keyword">new</span> In(hypernyms);</span><br><span class="line">        <span class="keyword">boolean</span>[] outToal = <span class="keyword">new</span> <span class="keyword">boolean</span>[idSum];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (hypernym.hasNextLine()) &#123;</span><br><span class="line">            String str = hypernym.readLine();</span><br><span class="line">            String[] field = str.split(<span class="string">","</span>);</span><br><span class="line">            <span class="keyword">int</span> v = Integer.parseInt(field[<span class="number">0</span>]);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; field.length; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> w = Integer.parseInt(field[i]);</span><br><span class="line">                hyperNyms.addEdge(v, w);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!outToal[v] &amp;&amp; field.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                outSum++;</span><br><span class="line">            &#125;</span><br><span class="line">            outToal[v] = <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        isRootRAG();</span><br><span class="line">        sap = <span class="keyword">new</span> SAP(hyperNyms);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">isRootRAG</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (idSum - outSum != <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"more than one root"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Topological TO = <span class="keyword">new</span> Topological(hyperNyms);</span><br><span class="line">        <span class="keyword">if</span> (!TO.hasOrder()) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"is not a Root RAG"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// returns all WordNet nouns</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;String&gt; <span class="title">nouns</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> synSets.keySet();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// is the word a WordNet noun?</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isNoun</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (word == <span class="keyword">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"word is null"</span>);</span><br><span class="line">        <span class="keyword">return</span> synSets.containsKey(word);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">distance</span><span class="params">(String nounA, String nounB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nounA == <span class="keyword">null</span> || nounB == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"nounA or nounB is null"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!isNoun(nounA) || !isNoun(nounB)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"the two noun is not exist"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        TreeSet&lt;Integer&gt; setA = synSets.get(nounA);</span><br><span class="line">        TreeSet&lt;Integer&gt; setB = synSets.get(nounB);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (setA.size() == <span class="number">1</span> &amp;&amp; setB.size() == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> sap.length(setA.last(), setB.last());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> sap.length(setA, setB);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// a synset (second field of synsets.txt) that is the common ancestor of nounA and nounB</span></span><br><span class="line">    <span class="comment">// in a shortest ancestral path (defined below)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sap</span><span class="params">(String nounA, String nounB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nounA == <span class="keyword">null</span> || nounB == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!isNoun(nounA) || !isNoun(nounB)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">        &#125;</span><br><span class="line">        TreeSet&lt;Integer&gt; setA = synSets.get(nounA);</span><br><span class="line">        TreeSet&lt;Integer&gt; setB = synSets.get(nounB);</span><br><span class="line">        <span class="keyword">int</span> ID;</span><br><span class="line">        <span class="keyword">if</span> (setA.size() == <span class="number">1</span> &amp;&amp; setB.size() == <span class="number">1</span>) &#123;</span><br><span class="line">            ID = sap.ancestor(setA.last(), setB.last());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> ID = sap.ancestor(setA, setB);</span><br><span class="line">        <span class="keyword">return</span> ssynsets.get(ID);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Outcast.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> Programming_Assignment_6;</span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.In;</span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.StdOut;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Outcast</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> WordNet wordnet;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Outcast</span><span class="params">(WordNet wordnet)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (wordnet == <span class="keyword">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"wrong wordnet"</span>);</span><br><span class="line">        <span class="keyword">this</span>.wordnet = wordnet;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">outcast</span><span class="params">(String[] nouns)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nouns == <span class="keyword">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"this nouns is null"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> Maxn = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> index = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nouns.length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; nouns.length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == j) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">int</span> tmp = wordnet.distance(nouns[i], nouns[j]);</span><br><span class="line">                <span class="keyword">if</span> (tmp == -<span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">                sum += tmp;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (sum &gt; Maxn) &#123;</span><br><span class="line">                Maxn = sum;</span><br><span class="line">                index = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (index == -<span class="number">1</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"error"</span>);</span><br><span class="line">        <span class="keyword">return</span> nouns[index];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        WordNet wordnet = <span class="keyword">new</span> WordNet(args[<span class="number">0</span>], args[<span class="number">1</span>]);</span><br><span class="line">        Outcast outcast = <span class="keyword">new</span> Outcast(wordnet);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> t = <span class="number">2</span>; t &lt; args.length; t++) &#123;</span><br><span class="line">            In in = <span class="keyword">new</span> In(args[t]);</span><br><span class="line">            String[] nouns = in.readAllStrings();</span><br><span class="line">            StdOut.println(args[t] + <span class="string">": "</span> + outcast.outcast(nouns));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="java" scheme="http://wsx1128.xyz/tags/java/"/>
    
      <category term="æ™®æ—æ–¯é¡¿ç®—æ³•è¯¾" scheme="http://wsx1128.xyz/tags/%E6%99%AE%E6%9E%97%E6%96%AF%E9%A1%BF%E7%AE%97%E6%B3%95%E8%AF%BE/"/>
    
  </entry>
  
  <entry>
    <title>PATç”²çº§é¢˜ç›®è§£æåŠè€ƒè¯•æ€»ç»“</title>
    <link href="http://wsx1128.xyz/2019/08/30/PAT%E7%94%B2%E7%BA%A7%E9%A2%98%E7%9B%AE%E6%80%BB%E7%BB%93%E5%8F%8A%E8%A7%A3%E6%9E%90/"/>
    <id>http://wsx1128.xyz/2019/08/30/PATç”²çº§é¢˜ç›®æ€»ç»“åŠè§£æ/</id>
    <published>2019-08-30T08:39:31.000Z</published>
    <updated>2019-09-10T13:19:11.848Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="é¦–å…ˆè¿™é‡Œè´´å‡º-æ‰€æœ‰é¢˜ç›®çš„è§£æã€‚"><a href="#é¦–å…ˆè¿™é‡Œè´´å‡º-æ‰€æœ‰é¢˜ç›®çš„è§£æã€‚" class="headerlink" title="é¦–å…ˆè¿™é‡Œè´´å‡º æ‰€æœ‰é¢˜ç›®çš„è§£æã€‚"></a>é¦–å…ˆè¿™é‡Œè´´å‡º æ‰€æœ‰é¢˜ç›®çš„è§£æã€‚</h2><p><a href="https://github.com/CrazyFnOption/PAT_A" target="_blank" rel="noopener">ç”²çº§é¢˜ç›®è§£æ</a></p><p>æœ¬æ¥æœ€å…ˆå¼€å§‹æƒ³çš„æ˜¯ ä¸€é“é¢˜ä¸€é“é¢˜çš„æ€»ç»“ï¼Œä½†æ˜¯åˆ°åé¢å‘ç°å¥½åƒçœŸçš„æ²¡æœ‰è¿™ä¸ªæ—¶é—´ï¼ˆä¸»è¦è¿˜æ˜¯è‡ªå·±æ‡’ï¼Œå®æ„¿æŠŠè¿™ä¸ªæ—¶é—´ç”¨æ¥åˆ·å‰§ï¼‰</p><p><strong>è¿™é‡Œä¸èƒ½ç›´æ¥æ’å…¥pdfï¼Œæ‰€ä»¥åªèƒ½è½¬åŒ–ä¸ºå›¾ç‰‡ä¸€ç‚¹ä¸€ç‚¹çš„çœ‹å’¯</strong></p><p><img src="/2019/08/30/PATç”²çº§é¢˜ç›®æ€»ç»“åŠè§£æ/1.png" alt="1"></p><p><img src="/2019/08/30/PATç”²çº§é¢˜ç›®æ€»ç»“åŠè§£æ/2.png" alt="2"></p><p><img src="/2019/08/30/PATç”²çº§é¢˜ç›®æ€»ç»“åŠè§£æ/3.png" alt="3"></p><p><img src="/2019/08/30/PATç”²çº§é¢˜ç›®æ€»ç»“åŠè§£æ/4.png" alt="4"></p><p><img src="/2019/08/30/PATç”²çº§é¢˜ç›®æ€»ç»“åŠè§£æ/5.png" alt="5"></p><p><img src="/2019/08/30/PATç”²çº§é¢˜ç›®æ€»ç»“åŠè§£æ/6.png" alt="6"></p><p><img src="/2019/08/30/PATç”²çº§é¢˜ç›®æ€»ç»“åŠè§£æ/7.png" alt="7"></p><h2 id="è€ƒæ—¶çŠ¶å†µ"><a href="#è€ƒæ—¶çŠ¶å†µ" class="headerlink" title="è€ƒæ—¶çŠ¶å†µ"></a>è€ƒæ—¶çŠ¶å†µ</h2><pre><code>åŒéæ–°å¤§ä¸‰ï¼Œacmé“ç‰Œé€‰æ‰‹ï¼Œç¬¬ä¸€æ¬¡è€ƒç”²çº§ 92/100 ä½†æ˜¯è§‰å¾—æ’åæœ‰ç‚¹å¼± å°†è¿‘300åäº† å‰é¢æ»¡åˆ†å¤§ä½¬ è¿™ä¹ˆæµå¼Šçš„å—ï¼Ÿç¬¬ä¸€é“é¢˜çš„æ—¶å€™å¡äº†åŠä¸ªå°æ—¶ï¼Œç”¨äº†å„ç§å‰ªæï¼ŒæŠŠæ‰€æœ‰æ²¡æœ‰è¿›ä½çš„æƒ…å†µå…¨éƒ¨å‰”é™¤æ‰äº†ï¼Œä¹Ÿæ³¨æ„åˆ°äº†æ’åºï¼Œåˆ°æœ€åéƒ½å¼€å§‹æ€€ç–‘è‡ªå·±gcdæ˜¯ä¸æ˜¯å†™é”™äº†ï¼Œäºæ˜¯æœæ–­æ”¾å¼ƒï¼Œå¼€å§‹å†™ç¬¬äºŒé“é¢˜ã€‚å†™ç¬¬äºŒé“é¢˜çš„æ—¶å€™ï¼Œç”±äºè¯»è‹±æ–‡è¯»çš„å¾ˆå¿«ï¼Œç„¶åå¼€å§‹å†™ï¼Œæœ€å…ˆå¼€å§‹ æˆ‘æ˜¯åˆ†ä¸‰ç§æƒ…å†µ mod 3 ï¼Œ3ç§æƒ…å†µå»å†™ï¼Œç„¶åè€ƒè™‘åˆ°å„ç§æƒ…å†µå»ç»ˆæ­¢ï¼Œç„¶åå†™å®Œå»æµ‹è¯•æ ·ä¾‹ï¼Œç›´æ¥å†…å­˜å´©äº†ï¼Œä¼°è®¡è¶…é™äº†ï¼Œç„¶åè¿™ä¸ªæ—¶å€™ æˆ‘æ—è¾¹çš„é‚£ä½å°å§å§ï¼Œäº¤å·äº†ï¼Ÿï¼ï¼ ä¼¼ä¹ä¸åˆ°ä¸€ä¸ªåŠå°æ—¶ï¼Œç›´æ¥å–Šäº†è€å¸ˆäº¤å·äº†ï¼Œç„¶åæˆ‘å¿ƒæ€å°±æœ‰ç‚¹å´©äº†,è¿™é‡Œæƒ³æ‰¾æ‰¾é‚£ä½å°å§å§(è¥¿å®‰äº¤å¤§ 402è€ƒåœºçš„ 41å· è¿˜æ˜¯ 39 å·çš„å°å§å§)ï¼Œå°å§å§ ä½ çœŸçš„å‰å®³...è¿™ä¸ªæ—¶å€™ç”±äºå¿ƒæ€æœ‰ç‚¹ç‚¸ï¼Œè§‰å¾—å¼ºè¡Œå¼€è¿™é“é¢˜ä¸å¤ªå¯èƒ½äºæ˜¯è½¬åˆ°ç¬¬ä¸‰é¢˜å»äº†ã€‚ç¬¬ä¸‰é¢˜è·Ÿä¹‹å‰ç”²çº§æœ‰é“é¢˜å¾ˆåƒï¼Œè‡ªå·±è½»æ¾å†™å®Œä»£ç ä¹‹åï¼Œä»¥ä¸ºæ˜¯ååºéå†ï¼Œä½†æ˜¯ï¼Œå½“æ²¡æœ‰å·¦å­æ ‘çš„æ—¶å€™ï¼Œå°±å˜æˆå‰ç¼€è¡¨è¾¾å¼äº†ï¼Œå…ˆå¼€å§‹æ²¡æœ‰æ³¨æ„åˆ°ï¼Œå„ç§åœ°æ–¹å»è°ƒè¯•åŠ hello worldï¼Œå»æ‰¾è¿è¡Œä½ç½®ï¼Œç„¶åï¼Œç­”æ¡ˆè·Ÿæ ·ä¾‹ä¸€æ¨¡ä¸€æ ·çš„æ—¶å€™å»æäº¤ç»“æœå…¨é”™ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å‘ç°ï¼Œä¸‡æ¶çš„hello world è¿˜åœ¨æˆ‘çš„è¾“å‡ºç­”æ¡ˆä¸­ï¼ï¼ï¼æ•´ä¸ªæ—¶é—´èŠ±äº†30å¤šåˆ†é’Ÿå§ æ„Ÿè°¢hello world æ•™ä¼šæˆ‘äººç”Ÿå“²ç†....ç¬¬å››é“é¢˜ ä¸€çœ‹å°±è§‰å¾—æ˜¯é“æ¿å­é¢˜ï¼Œç›´æ¥å»å†™ dijkstra çš„æ¿å­ï¼Œå†™å®Œä¹‹åå†çœ‹é¢˜ç›®ï¼Œä¸çŸ¥é“æ˜¯è‹±æ–‡çš„é—®é¢˜ï¼Œè§‰å¾—è¡¨è¿°ä¸Šæœ‰ç‚¹å¥‡æ€ªï¼Œå…ˆå¼€å§‹è§‰å¾—åªéœ€è¦åˆ¤æ–­æ˜¯ä¸æ˜¯åœ¨æœ€çŸ­è·¯åºåˆ—ä¸Šï¼Œåæ¥æ‰å‘ç°åªéœ€è¦å»åˆ¤æ–­è·ç¦»å°±è¡Œäº†ï¼Œæ„Ÿè§‰åˆå˜æˆæš´åŠ›æ¯ä¸­çš„æ‰¾è§„å¾‹ï¼Œæ‰€ä»¥å°±ç›´æ¥è¿‡äº†ã€‚è¿™ä¸ªæ—¶å€™è¿˜æœ‰ä¸€ä¸ªå°æ—¶å·¦å³çš„æ—¶é—´ï¼Œäºæ˜¯è¿™ä¸ªæ—¶å€™è¿”å›ç¬¬äºŒé¢˜ï¼Œåˆ æ‰å…¨éƒ¨ä»£ç ï¼Œé‡æ–°å†™ï¼Œè®¤è®¤çœŸçœŸé™ä¸‹æ¥è¯»å®Œé¢˜ç›®ï¼Œæ‰å‘ç°è´¼ç®€å•ï¼Œè‡ªå·±æƒ³å¤æ‚äº†ï¼Œå› ä¸ºä¸å¯èƒ½å‡ºç°ï¼Œå¤§åºåˆ—ç»“æŸï¼Œå°åºåˆ—ä¸ç»“æŸçš„æƒ…å†µï¼Œæƒ³é€šè¿™ä¸ªå°±ç›´æ¥å¼€å§‹å†™ï¼Œæœç„¶ç›´æ¥å°±ä¸€å‘acäº†ï¼Œè¿˜æ˜¯å¿ƒç†æš—ç¤ºæœ€é‡è¦ï¼Œåªèƒ½è¯´å°å§å§å¤ªå‰å®³äº†ã€‚è¿˜æœ‰40åˆ†é’Ÿå·¦å³ï¼Œåªå‰©ä¸‹ç¬¬ä¸€é¢˜çš„8åˆ†æ²¡æ‹¿åˆ°æ‰‹äº†ï¼Œäºæ˜¯å›å»å„ç§æ‰¾è§„å¾‹ï¼Œé‡æ–°ä»”ç»†æ‰£é¢˜ç›®ï¼Œç„¶åå½“æˆ‘å†æ¬¡äº¤çš„æ—¶å€™ï¼Œè¿˜æ˜¯æœ‰é—®é¢˜ ï¼Œå½“æ—¶å°±å¾ˆæ‡µé€¼ï¼Œè„‘æµ·é‡Œé¢å„ç§ç®—æ³•å¼€å§‹äº¤æ‚ï¼ŒäºŒåˆ†ï¼Œçº¿æ®µæ ‘ï¼Œæ ‘çŠ¶æ•°ç»„ï¼Ÿï¼Ÿï¼Ÿç„¶åå†æ¬¡å†·é™ä¸‹æ¥å»å†™çš„æ—¶å€™ï¼Œæˆ‘è®°å¾—æ˜¯è¿˜æœ‰äºŒåå¤šåˆ†é’Ÿçš„æ—¶å€™ æœåŠ¡å™¨ç‚¸äº†ï¼Œæˆ‘è¿™ä¸ªäººè¿˜æ˜¯æŒºè¿·ä¿¡çš„ï¼Œè§‰å¾—å¤©æ„å¦‚æ­¤ï¼ˆå¥½åƒæäº¤çš„æ—¶é—´ä¹Ÿå æ’åï¼‰å°±ç›´æ¥äº¤äº†èµ°äººäº†ã€‚ä¸è¿‡ä»Šå¹´åˆšå¤§ä¸‰ï¼Œå¾—æ˜å¹´è€ƒçš„patæˆç»©æ‰ç®—ï¼Œæ‰€ä»¥è¿™æ¬¡å°±å½“æ‰“æ€ªå‡çº§ç»ƒæ‰‹å’¯ï¼Œä¸è¿‡ å¬è¯´è¿˜ä¼šè€ƒå¾ˆå¤šé¡¶çº§ç±»ä¼¼çš„é¢˜ç›®ï¼Œä¸‹æ¬¡å¾—æŠŠé¡¶çº§çš„é¢˜ç›®åˆ·ä¸€éå†æ¥è€ƒã€‚çœ‹åˆ°çŸ¥ä¹é‡Œé¢éƒ½æ˜¯æ»¡åˆ†çš„å¤§ä½¬ï¼Œä¸å¼€å¿ƒã€‚ sad face...</code></pre><h2 id="è€ƒåæ€»ç»“"><a href="#è€ƒåæ€»ç»“" class="headerlink" title="è€ƒåæ€»ç»“"></a>è€ƒåæ€»ç»“</h2><p>ç¬¬ä¸€æ¬¡è€ƒç”²çº§ è€ƒäº†92ï¼Œåˆ†æ•°ä¸Šè¿˜ä¸é”™ï¼Œä½†æ˜¯æ’åä¹Ÿå¤ªå¼±é¸¡äº†ï¼Œæ‰è´¹äº†æˆ‘æå‰äº†20å¤šåˆ†é’Ÿäº¤å·ï¼Œæ—©çŸ¥é“è¿™ä¸ªæ’åä¸æ˜¯çœ‹æäº¤é€Ÿåº¦çš„è¯ï¼Œæˆ‘åº”è¯¥åšæŒåˆ°æœ€åä¸€åˆ»çš„ï¼Œå½“æ—¶çš„æƒ³æ³•å°±æ˜¯è§‰å¾— 92åˆ†å¤Ÿäº†ï¼Œå› ä¸ºçŸ¥é“è‡ªå·±æ˜å¹´è¿˜ä¼šå†å»è€ƒä¸€æ¬¡å¼ï¼Œå½“æ—¶ä¼¼ä¹æœ‰ç‚¹è½»æ¾ï¼Œæ‰€æœ‰æœ‰ç‚¹æ¾æ‡ˆï¼Œå¸Œæœ›ä¸‹æ¬¡èƒ½ä¸€æ­¥ç™»å¤©ï¼Œæœ‰çœ‹è¿™é‡Œçš„æœ‹å‹ï¼Œå¯ä»¥ä¸€èµ·çº¦ç€å¤‡è€ƒæ˜å¹´çš„patï¼Œ</p><p>ä¸è¿‡æœ€è¿‘ä¹Ÿä¸èƒ½æ¾æ‡ˆï¼Œå†è¡¥å‰é¢çš„å‘çš„åŒæ—¶ï¼Œè¿˜è¦å¥½å¥½å‡†å¤‡åé¢çš„å…¶ä»–è€ƒè¯•äº†ã€‚  åŠ æ²¹ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="æµ™å¤§pat" scheme="http://wsx1128.xyz/tags/%E6%B5%99%E5%A4%A7pat/"/>
    
  </entry>
  
  <entry>
    <title>7.27çº¿æ€§dpä¸åŒºé—´dpé¢˜ç›®è§£æ</title>
    <link href="http://wsx1128.xyz/2019/07/27/7-27%E7%BA%BF%E6%80%A7dp%E4%B8%8E%E5%8C%BA%E9%97%B4dp/"/>
    <id>http://wsx1128.xyz/2019/07/27/7-27çº¿æ€§dpä¸åŒºé—´dp/</id>
    <published>2019-07-27T09:12:52.000Z</published>
    <updated>2019-08-07T17:49:56.826Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="A-å¯¼å¼¹è¢­å‡»"><a href="#A-å¯¼å¼¹è¢­å‡»" class="headerlink" title="A.å¯¼å¼¹è¢­å‡»"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1055&amp;pid=0" target="_blank" rel="noopener">A.å¯¼å¼¹è¢­å‡»</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("test1.in", "r", stdin);   </span></span><br><span class="line">    <span class="comment">//freopen("test1.out", "w", stdout); </span></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T))</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> dp[T + <span class="number">5</span>];</span><br><span class="line">        <span class="keyword">int</span> data[T + <span class="number">5</span>];</span><br><span class="line">        data[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= T; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; data[i];</span><br><span class="line">            dp[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= T; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i - <span class="number">1</span>; j &gt;= <span class="number">1</span>; j--)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (data[i] &gt; data[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    dp[i] = max(dp[i], dp[j] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                num = max(num, dp[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; num &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="B-Common-Subsequence"><a href="#B-Common-Subsequence" class="headerlink" title="B.Common Subsequence"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1055&amp;pid=1" target="_blank" rel="noopener">B.Common Subsequence</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> s1, s2, tmp;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("test1.in", "r", stdin); </span></span><br><span class="line">    <span class="comment">//freopen("test1.out", "w", stdout); </span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; s1 &gt;&gt; s2)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (s1.size() &lt; s2.size())</span><br><span class="line">        &#123;</span><br><span class="line">            tmp = s1;</span><br><span class="line">            s1 = s2;</span><br><span class="line">            s2 = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> dp[s1.size() + <span class="number">10</span>][s1.size() + <span class="number">10</span>];</span><br><span class="line">        <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span> dp);</span><br><span class="line">        <span class="keyword">int</span> Max = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s2.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> k = i + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; s1.size(); j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> l = j + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (s1[j] == s2[i])</span><br><span class="line">                &#123;</span><br><span class="line">                    dp[k][l] = dp[k - <span class="number">1</span>][l - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    dp[k][l] = max(dp[k - <span class="number">1</span>][l], dp[k][l - <span class="number">1</span>]);</span><br><span class="line">                Max = max(Max, dp[k][l]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; dp[s2.size()][s1.size()] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-æ»‘é›ª"><a href="#C-æ»‘é›ª" class="headerlink" title="C.æ»‘é›ª"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1055&amp;pid=2" target="_blank" rel="noopener">C.æ»‘é›ª</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 110</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> dis[<span class="number">4</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;, &#123;<span class="number">-1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">int</span> len[N][N], a[N][N];</span><br><span class="line"><span class="keyword">int</span> m, n;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dp</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tx, ty, k, s, ms;</span><br><span class="line">    ms = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (len[x][y] != <span class="number">0</span>) <span class="comment">//é€’å½’å‡ºå£ï¼›</span></span><br><span class="line">        <span class="keyword">return</span> len[x][y];</span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt;= <span class="number">3</span>; k++)</span><br><span class="line">    &#123;</span><br><span class="line">        tx = dis[k][<span class="number">0</span>] + x;</span><br><span class="line">        ty = dis[k][<span class="number">1</span>] + y;</span><br><span class="line">        <span class="keyword">if</span> (tx &lt; <span class="number">0</span> || ty &lt; <span class="number">0</span> || tx &gt; m - <span class="number">1</span> || ty &gt; n - <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (a[tx][ty] &lt; a[x][y])</span><br><span class="line">        &#123;</span><br><span class="line">            s = dp(tx, ty);</span><br><span class="line">            ms = max(ms, s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    len[x][y] = ms + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> len[x][y];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("test1.in", "r", stdin); </span></span><br><span class="line">    <span class="comment">//freopen("test1.out", "w", stdout); </span></span><br><span class="line">    <span class="keyword">int</span> i, j, Max;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;m, &amp;n))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="keyword">sizeof</span>(a));</span><br><span class="line">        <span class="built_in">memset</span>(len, <span class="number">0</span>, <span class="keyword">sizeof</span>(len));</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">            <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i][j]);</span><br><span class="line">        Max = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">            <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">                Max = max(Max, dp(i, j));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, Max);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="D-å°çº¢çº¢ç›Šæ™ºæ¸¸æˆ"><a href="#D-å°çº¢çº¢ç›Šæ™ºæ¸¸æˆ" class="headerlink" title="D.å°çº¢çº¢ç›Šæ™ºæ¸¸æˆ"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1055&amp;pid=3" target="_blank" rel="noopener">D.å°çº¢çº¢ç›Šæ™ºæ¸¸æˆ</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">-0x3f3f3f3f</span>; <span class="comment">//å®šä¹‰ä¸€ä¸ªæ— ç©·å¤§çš„å€¼</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">205</span>;</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> sum[maxn][maxn], n, x;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>; <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">            sum[i][i] = x;</span><br><span class="line">            fill(dp[i], dp[i] + maxn, INF); <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">            dp[i][i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åŒºé—´dp</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> len = <span class="number">2</span>; len &lt;= n; len++) <span class="comment">//æšä¸¾åŒºé—´é•¿åº¦</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; (i + len - <span class="number">1</span>) &lt;= n; i++) <span class="comment">//æšä¸¾åŒºé—´èµ·ç‚¹</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> j = i + len - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = i; k &lt; j; k++) <span class="comment">//æšä¸¾ä¸­æ–­ç‚¹</span></span><br><span class="line">                &#123;</span><br><span class="line">                    sum[i][j] = sum[i][k] + sum[k + <span class="number">1</span>][j];</span><br><span class="line">                    dp[i][j] = max(dp[i][j], dp[i][k] + </span><br><span class="line">                        dp[k + <span class="number">1</span>][j] + sum[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, dp[<span class="number">1</span>][n]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="E-æœ€å¤§æ‹¬å·åŒ¹é…æ•°"><a href="#E-æœ€å¤§æ‹¬å·åŒ¹é…æ•°" class="headerlink" title="E.æœ€å¤§æ‹¬å·åŒ¹é…æ•°"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1055&amp;pid=4" target="_blank" rel="noopener">E.æœ€å¤§æ‹¬å·åŒ¹é…æ•°</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn];</span><br><span class="line"><span class="built_in">string</span> V;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; V, V[<span class="number">0</span>] != <span class="string">'0'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n = V.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">memset</span>(dp[i], <span class="number">0</span>, <span class="keyword">sizeof</span>(dp[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> len = <span class="number">2</span>; len &lt;= n; len++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i + len - <span class="number">1</span> &lt; n; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> j = i + len - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (V[i] == <span class="string">'('</span> &amp;&amp; V[j] == <span class="string">')'</span> || </span><br><span class="line">                V[i] == <span class="string">'['</span> &amp;&amp; V[j] == <span class="string">']'</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i + <span class="number">1</span> &gt; j - <span class="number">1</span>)</span><br><span class="line">                        dp[i][j] = <span class="number">2</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        dp[i][j] = dp[i + <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = i; k &lt; j; k++) &#123;</span><br><span class="line">                    dp[i][j] = max(dp[i][j], </span><br><span class="line">                    dp[i][k] + dp[k + <span class="number">1</span>][j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; dp[<span class="number">0</span>][n - <span class="number">1</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        V.clear();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="F-çº¢çº¢è·³æ ¼å­"><a href="#F-çº¢çº¢è·³æ ¼å­" class="headerlink" title="F.çº¢çº¢è·³æ ¼å­"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1055&amp;pid=5" target="_blank" rel="noopener">F.çº¢çº¢è·³æ ¼å­</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1005</span>;</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="keyword">int</span> num[maxn];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ€»ç»“ä¸€ä¸‹è¿™ç±»çš„çº¿æ€§DPã€‚</span></span><br><span class="line"><span class="comment">//è¿™é‡Œdpæ•°ç»„ä¿å­˜çš„æ˜¯æ¯ä¸€ä¸ªç‚¹ä¸ºæ­¢è¿™ä¸ªä½ç½®ä¸Šçš„é€’å¢å­åºåˆ—ä¹‹å’Œ</span></span><br><span class="line"><span class="comment">//ç„¶åè¿™ä¸ªåœ°æ–¹çš„æ¯ä¸€ä¸ªç¡®å®šçš„å€¼å†ä¸ä¹‹å‰çš„å»æ¯”è¾ƒï¼Œæœ€ååŠ ä¸Šç›¸åº”çš„å€¼å³å¯ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("test1.in", "r", stdin); </span></span><br><span class="line">    <span class="comment">//freopen("test1.out", "w", stdout); </span></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; T &amp;&amp; T)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= T; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span> dp);</span><br><span class="line">        dp[<span class="number">1</span>] = num[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= T; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i] = num[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i - <span class="number">1</span>; j &gt;= <span class="number">1</span>; j--)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (num[i] &gt; num[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    dp[i] = max(dp[i], dp[j] + num[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> Max = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= T; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Max = max(Max, dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; Max &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="G-è¯·å®¢çš„çº¢çº¢"><a href="#G-è¯·å®¢çš„çº¢çº¢" class="headerlink" title="G.è¯·å®¢çš„çº¢çº¢"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1055&amp;pid=6" target="_blank" rel="noopener">G.è¯·å®¢çš„çº¢çº¢</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜å°±æ˜¯è¢«å‰é¢çš„æ€æƒ³æ‰€å½±å“ï¼Œå…¶å®è¿™é“é¢˜ä¸åƒå‰é¢å‰é¢å‡ ä¸ªçŠ¶æ€ä¸€å®šä¼šå½±å“åˆ°åé¢çš„çŠ¶æ€ï¼Œ</span></span><br><span class="line"><span class="comment">    ä»…ä»…åªæ˜¯ä¸€ä¸ªä¸€ç»´çš„çº¿æ€§dpï¼Œè€ƒè™‘åˆ°å‰é¢çš„è¿™äº›æƒ…å†µï¼Œä»–æ˜¯å¦å¤–çš„ä¸¤ä¸ªdpæ–¹ç¨‹ç»„è¿›è¡Œæ”¾ä¸ä¸æ”¾çš„æ“ä½œ</span></span><br><span class="line"><span class="comment">    æ‰€ä»¥ä¸ä¼šæ¶‰åŠåˆ°å¤šä¸ªå¾ªç¯åå¤åˆ°å‰é¢ä¹‹å‰çš„çŠ¶æ€å»å¯»æ‰¾ï¼Œ</span></span><br><span class="line"><span class="comment">    åªéœ€è¦åœ¨ä¸€æ¬¡éå†çš„è¿‡ç¨‹ä¸­å»å®ç°ç©¶ç«Ÿæ˜¯ä¸€æ¬¡è¿˜æ˜¯ä¸¤æ¬¡çš„æ“ä½œã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    è·Ÿç€æ¯ä¸€ä¸ªçŠ¶æ€å¾€ä¸‹é¢æ‰¾å‡ºæ¯ä¸€ä¸ªä½ç½®çš„å±€éƒ¨æœ€ä¼˜è§£ æœ€åå¾—åˆ°ç»“æœã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2005</span>;</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="keyword">int</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> d[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("test1.in", "r", stdin); </span></span><br><span class="line">    <span class="comment">//freopen("test1.out", "w", stdout); </span></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; s[i];</span><br><span class="line">            dp[i] = s[i];</span><br><span class="line">        &#125;</span><br><span class="line">        d[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        d[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; d[i];</span><br><span class="line">        &#125;</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">1</span>] = s[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i] = min(dp[i - <span class="number">1</span>] + s[i], dp[i - <span class="number">2</span>] + d[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> h = dp[n] / <span class="number">3600</span> + <span class="number">8</span>;</span><br><span class="line">        <span class="keyword">int</span> m = dp[n] / <span class="number">60</span> % <span class="number">60</span>;</span><br><span class="line">        <span class="keyword">int</span> s = dp[n] % <span class="number">60</span>;</span><br><span class="line">        <span class="keyword">if</span> (h &lt;= <span class="number">12</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%02d:%02d:%02d am\n"</span>, h, m, s);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%02d:%02d:%02d pm\n"</span>, h, m, s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="H-çº¢çº¢ä¸ç³–æœ"><a href="#H-çº¢çº¢ä¸ç³–æœ" class="headerlink" title="H.çº¢çº¢ä¸ç³–æœ"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1055&amp;pid=7" target="_blank" rel="noopener">H.çº¢çº¢ä¸ç³–æœ</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100005</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> dp[maxn][<span class="number">11</span>];</span><br><span class="line"><span class="keyword">int</span> date[maxn][<span class="number">11</span>];</span><br><span class="line"><span class="keyword">int</span> _time, pie;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("test1.in", "r", stdin);</span></span><br><span class="line">    <span class="comment">//freopen("test1.out", "w", stdout);</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) &amp;&amp; n != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(date, <span class="number">0</span>, <span class="keyword">sizeof</span> date);</span><br><span class="line">        <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span> dp);</span><br><span class="line">        <span class="keyword">int</span> maxTime = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;pie, &amp;_time);</span><br><span class="line">            date[_time][pie]++;</span><br><span class="line">            maxTime = max(maxTime, _time);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç¬¬ä¸€ç§’çš„è¿è¡Œæ—¶é—´ï¼Œé‡Œé¢æ‰€æœ‰çš„è¿è¡Œæƒ…å†µ</span></span><br><span class="line">        dp[<span class="number">1</span>][<span class="number">4</span>] = date[<span class="number">1</span>][<span class="number">4</span>];</span><br><span class="line">        dp[<span class="number">1</span>][<span class="number">5</span>] = date[<span class="number">1</span>][<span class="number">5</span>];</span><br><span class="line">        dp[<span class="number">1</span>][<span class="number">6</span>] = date[<span class="number">1</span>][<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¿™é‡Œå…¶å®æ˜¯ç”±ç¬¬äºŒæ¬¡è¿è½¬çš„æ—¶é—´æ¥çœ‹ï¼Œå› ä¸ºç¬¬ä¸€ç§’çš„æ—¶é—´æˆ‘å·²ç»å…¨éƒ¨æ ‡è®°ä¸‹æ¥äº†ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= maxTime; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">11</span>; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">                <span class="comment">//ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ è¿™äº›å…¨éƒ¨éƒ½æ˜¯å‰å‡ ç§’çš„åŠ¨ä½œï¼Œä¸Šä¸€ç§’æ›´æ–°çš„çŠ¶æ€ï¼Œåˆ°ä¸‹ä¸€ç§’åæ‰§è¡Œçš„çŠ¶æ€</span></span><br><span class="line">                <span class="comment">//ä¸‹é¢è¿™ä¸ªåœ°æ–¹å°±æ˜¯å¾ˆå¥‡å¹»çš„åœ°æ–¹äº†ï¼Œä¸€å…±ä¸‰ä¸ªçŠ¶æ€ï¼Œå–å‡ºæ¥è¿˜æ˜¯ä¸å–å‡ºæ¥ï¼Œå°±æ˜¯è¿™ä¸‰ç§çŠ¶æ€</span></span><br><span class="line">                <span class="comment">//å·¦è¾¹ä¸€ä¸ªä½ç½®å–ï¼Œè¿˜æ˜¯å³è¾¹ä¸€ä¸ªä½ç½®å–ï¼Œè¿˜æ˜¯åŸæœ¬çš„ä½ç½®å»å‡ºæ¥ã€‚</span></span><br><span class="line">                <span class="keyword">if</span> (j &gt; <span class="number">0</span>)</span><br><span class="line">                    dp[i][j] = max(dp[i][j], dp[i - <span class="number">1</span>][j - <span class="number">1</span>]);</span><br><span class="line">                <span class="keyword">if</span> (j &lt; <span class="number">10</span>)</span><br><span class="line">                    dp[i][j] = max(dp[i][j], dp[i - <span class="number">1</span>][j + <span class="number">1</span>]);</span><br><span class="line">                dp[i][j] += date[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> Max = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Max = max(Max, dp[maxTime][i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; Max &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="I-è€å·¦çš„çŸ©é˜µ"><a href="#I-è€å·¦çš„çŸ©é˜µ" class="headerlink" title="I.è€å·¦çš„çŸ©é˜µ"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1055&amp;pid=8" target="_blank" rel="noopener">I.è€å·¦çš„çŸ©é˜µ</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™ä¸ªåœ°æ–¹å°±ç›´æ¥å°±æ˜¯ç­”æ¡ˆçš„æ€è·¯äº†ï¼Œç”±ä¸€ç§å€’å™çš„æ–¹æ³•å¾€å‰é¢æ¨ï¼Œå°†å¯¹è§’çº¿å­˜å‚¨çš„æ•°ï¼Œ</span></span><br><span class="line"><span class="comment">    å°±æ˜¯å½“å‰èƒ½å­˜å‚¨åˆ°çš„æœ€å¤§çš„çŸ©é˜µã€‚</span></span><br><span class="line"><span class="comment">    çŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±æ˜¯ dp[i][j] ç”± dp[i - k][j]ä¸ dp[i][j - k] æ˜¯å¦ç›¸ç­‰ç„¶åå†æ¥å­˜å‚¨</span></span><br><span class="line"><span class="comment">    ä¸è¿‡è¿™é‡Œæœ‰ä¸€ä¸ªæŠ€å·§å°±æ˜¯ æ¯ä¸€ä¸ªä»…ä»…åªæ˜¯å­˜å‚¨è¿™ä¸ªæ•°ç»„èƒ½å¤Ÿæ‰¿å—çš„æœ€å¤§å€¼ã€</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    è‡ªå·±æƒ³çš„åŠæ³•æ²¡æœ‰è€ƒè™‘åˆ°çŠ¶æ€çš„è¿ç§»ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰è€ƒè™‘åˆ°çŠ¶æ€ä¸çŠ¶æ€ä¹‹é—´çš„è”ç³»ï¼Œè¿™é‡Œå°±å±•ç°å‡ºæ¥äº†ã€‚</span></span><br><span class="line"><span class="comment">    å°†æ¯ä¸€ä¸ªå€¼å­˜å‚¨åˆ°dp[i - 1][j + 1] ä¸Šï¼Œç„¶åå†ä¸€æ¬¡å¯¹å…¶è¿›è¡ŒéªŒè¯ã€‚</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1005</span>;</span><br><span class="line"><span class="keyword">char</span> ch[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("test2.in", "r", stdin);</span></span><br><span class="line">    <span class="comment">//freopen("test2.out", "w", stdout);</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; n &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cin</span> &gt;&gt; ch[i][j];</span><br><span class="line">                dp[i][j] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            getchar();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> Max = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = n; j &gt;= <span class="number">1</span>; j--)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">1</span> || j == n)</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">int</span> tmp = dp[i - <span class="number">1</span>][j + <span class="number">1</span>];</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= tmp; k++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (ch[i - k][j] == ch[i][j + k])</span><br><span class="line">                        dp[i][j]++;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                Max = max(Max, dp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, Max);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="J-é˜¿æ˜¥å–æ•°å­—"><a href="#J-é˜¿æ˜¥å–æ•°å­—" class="headerlink" title="J.é˜¿æ˜¥å–æ•°å­—"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1055&amp;pid=9" target="_blank" rel="noopener">J.é˜¿æ˜¥å–æ•°å­—</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜ç›®å°±æ˜¯å…¸å‹çš„åŒºé—´DPçš„é¢˜ç›®äº†ï¼Œå¯¹ä¸€ä¸ªåŒºé—´é‡Œé¢çš„å€¼è¿›è¡ŒåŠ¨æ€è§„åˆ’çš„æ±‚è§£ï¼Œå°±åƒä¸‹é¢çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹</span></span><br><span class="line"><span class="comment">    dp[i][j] = max(dp[i + 1][j] + num[i] *(n + i - j),</span></span><br><span class="line"><span class="comment">    dp[i][j - 1] + num[j] * (n + i - j));</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    è¿™é“é¢˜å”¯ä¸€ç‰¹åˆ«éš¾æƒ³åˆ°çš„æ˜¯ï¼Œè¿™é“é¢˜ç›®æ˜¯ä¸€é“é€†åºæ±‚è§£çš„é—®é¢˜ï¼Œ</span></span><br><span class="line"><span class="comment">    æ„æ€å°±æ˜¯ä»åé¢çš„çŠ¶æ€å¾€å‰é¢æ¨ï¼Œè¿™å½“æ—¶çš„æˆ‘å°±å®Œå…¨æ²¡æœ‰æƒ³åˆ°äº†ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2005</span>;</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> num[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("test3.in", "r", stdin);</span></span><br><span class="line">    <span class="comment">//freopen("test3.out", "w", stdout);</span></span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span> dp);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;num[i]);</span><br><span class="line">            dp[i][i] = num[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt;= n; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//è¿™é‡Œä¹˜ä»¥ n + i - j å…¶å®ä¸€å¼€å§‹çš„å˜å½¢å°±æ˜¯ n - (j - i + 1) + 1</span></span><br><span class="line">                dp[i][j] = max(dp[i + <span class="number">1</span>][j] + num[i] * (n + i - j), dp[i][j - <span class="number">1</span>] + num[j] * (n + i - j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, dp[<span class="number">1</span>][n]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="ä¹ é¢˜è§£æ" scheme="http://wsx1128.xyz/tags/%E4%B9%A0%E9%A2%98%E8%A7%A3%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>7.26_è®°å¿†åŒ–æœç´¢å’ŒèƒŒåŒ…ä¹ é¢˜è§£æ</title>
    <link href="http://wsx1128.xyz/2019/07/26/7-26-%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2%E5%92%8C%E8%83%8C%E5%8C%85%E4%B9%A0%E9%A2%98%E8%A7%A3%E6%9E%90/"/>
    <id>http://wsx1128.xyz/2019/07/26/7-26-è®°å¿†åŒ–æœç´¢å’ŒèƒŒåŒ…ä¹ é¢˜è§£æ/</id>
    <published>2019-07-26T09:19:12.000Z</published>
    <updated>2019-07-26T13:52:09.004Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="A-å°è¾‰è¾‰ç©ç§¯æœ¨"><a href="#A-å°è¾‰è¾‰ç©ç§¯æœ¨" class="headerlink" title="A.å°è¾‰è¾‰ç©ç§¯æœ¨"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1054&amp;pid=0" target="_blank" rel="noopener">A.å°è¾‰è¾‰ç©ç§¯æœ¨</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> a[<span class="number">60</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a[n])</span><br><span class="line">        <span class="keyword">return</span> a[n];</span><br><span class="line">    <span class="keyword">return</span> a[n] = f(n - <span class="number">2</span>) + f(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> N;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; N) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; f(N - <span class="number">1</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™é“é¢˜å°±ä»…ä»…åªæ˜¯ç”¨åˆ°äº†ä¸€ä¸ªé€’å½’å’Œè®°å¿†åŒ–æœç´¢ï¼Œå±äºåŸºç¡€ç®€å•çš„é¢˜ç›®ã€‚</p><h2 id="B-å…¥ä¾µå’Œåå‡»"><a href="#B-å…¥ä¾µå’Œåå‡»" class="headerlink" title="B.å…¥ä¾µå’Œåå‡»"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1054&amp;pid=1" target="_blank" rel="noopener">B.å…¥ä¾µå’Œåå‡»</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span> (T--) &#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">        <span class="keyword">int</span> dp[n + <span class="number">5</span>];</span><br><span class="line">        <span class="keyword">int</span> num[n + <span class="number">5</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n;i ++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//memset(dp,1,sizeof dp);</span></span><br><span class="line">        <span class="comment">//fill (num,num+n,1);</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; n; i++) &#123;</span><br><span class="line">            dp[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="comment">//è¿™ä¸ªåœ°æ–¹çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œéœ€è¦å»ç»†æƒ³æ¯”è¾ƒä¸€ä¸‹ã€‚</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (num[i] &lt;= num[j]) &#123;</span><br><span class="line">                    dp[i] = max(dp[i],dp[j] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> Max = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            Max = max(Max,dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; n - Max &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// 9 17 8 19 3</span></span><br><span class="line">        <span class="comment">// 1  1 2 1  3</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="C-çº¢çº¢æ•°é’ç¥¨"><a href="#C-çº¢çº¢æ•°é’ç¥¨" class="headerlink" title="C.çº¢çº¢æ•°é’ç¥¨"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1054&amp;pid=2" target="_blank" rel="noopener">C.çº¢çº¢æ•°é’ç¥¨</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å…¶å®è¿™é“é¢˜ä¹Ÿç®—æ˜¯ä¸€é“ç‰¹åˆ«ç®€å•çš„é¢˜ç›®ï¼Œè¿˜æ˜¯åŠ¨æ€è§„åˆ’é‡Œé¢æœ€åŸºç¡€çš„é—®é¢˜ï¼Œä½†æ˜¯æ€»æ˜¯å®¹æ˜“å»å¼„æ··ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    è®°å¾—è‡ªå·±å½“æ—¶çš„é—®é¢˜å°±åœ¨äº è¿™é‡Œæ¯ä¸€æ¬¡ç›¸åŠ çš„å’Œï¼Œå¦‚ä½•ä¿è¯åé¢åŠ äº†è´Ÿæ•°ä¹‹åï¼Œå†æ¬¡åŠ ä¸Šä¸€ä¸ªæ­£æ•°ä¸è¢«å½±å“å‘¢ï¼Œ</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    ä¸‹é¢çš„æ³¨é‡Šé‡Œé¢æœ‰å†™ï¼Œ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    å› ä¸ºé¢˜ç›®ä¸­é™åˆ¶äº†ï¼Œå¦‚æœè¿™é“é¢˜æœ‰å¤šä¸ªç­”æ¡ˆï¼Œæ¯”å¦‚è¯´ å‰é¢ä¸åé¢ç›¸åŠ ä¸ºé›¶ï¼Œä½†æ˜¯åé¢çš„é‚£ä¸ªæ­£æ•°æ­£å¥½ä½œä¸ºæœ€åçš„æ­£ç¡®ç­”æ¡ˆçš„è¯</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    æ¯”å¦‚ 1 2 -3 8 10 -1 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    1 2 -3 æ­£å¥½ç›¸åŠ ä¸º0  ä½†æ˜¯é¢˜ç›®ä¸­è¦æ±‚çš„ åºåˆ— 1 2 -3 8 ä½œä¸ºæœ€åçš„ç»“æœåºåˆ—ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    è‡ªå·±å½“æ—¶ä¹Ÿåœ¨è¿™ä¸€å—ä¸Šé¢çº ç»“ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">std</span>::ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">int</span> m;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; m;</span><br><span class="line">    <span class="keyword">int</span> num[m + <span class="number">5</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tmpleft = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = m - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> tmp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> Max = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i ++) &#123;</span><br><span class="line">        tmp += num[i];</span><br><span class="line">        <span class="keyword">if</span> (tmp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            tmp = <span class="number">0</span>;</span><br><span class="line">            tmpleft = i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (tmp &gt; Max) &#123;</span><br><span class="line">            Max = tmp;</span><br><span class="line">            right = i;</span><br><span class="line">            left = tmpleft;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (Max &gt;= <span class="number">0</span>) <span class="built_in">cout</span> &lt;&lt; Max &lt;&lt; <span class="string">" "</span> &lt;&lt; num[left] &lt;&lt; <span class="string">" "</span> &lt;&lt; num[right] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; num[<span class="number">0</span>] &lt;&lt; <span class="string">" "</span> &lt;&lt; num[m - <span class="number">1</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="D-Charm-Bracelet"><a href="#D-Charm-Bracelet" class="headerlink" title="D.Charm Bracelet"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1054&amp;pid=3" target="_blank" rel="noopener">D.Charm Bracelet</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç¬¬ä¸€é“é¢˜å±äºä¸€ä¸ªç®€å•çš„01èƒŒåŒ…æ¨¡æ¿é¢˜ç›®ï¼Œè¿™é‡Œä¸å¤šè¯´ å¯ä»¥ç›´æ¥å¥—æ¨¡æ¿ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">13000</span>];</span><br><span class="line"><span class="keyword">int</span> w[<span class="number">3500</span>],v[<span class="number">3500</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; w[i] &gt;&gt; v[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = m; j &gt;= w[i]; j--) &#123;</span><br><span class="line">                dp[j] = max(dp[j],dp[j - w[i]] + v[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; dp[m] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="E-çº¢çº¢ç»åœ°æ±‚ç”Ÿ"><a href="#E-çº¢çº¢ç»åœ°æ±‚ç”Ÿ" class="headerlink" title="E.çº¢çº¢ç»åœ°æ±‚ç”Ÿ"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1054&amp;pid=4" target="_blank" rel="noopener">E.çº¢çº¢ç»åœ°æ±‚ç”Ÿ</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ä¸€æ®µç®€å•çš„æ¨¡æ¿é¢˜ç›®ï¼Œä¸è¿‡éœ€è¦å¼„æ¸…æ¥šçš„ ä¸€ç»´æ•°ç»„ä¸äºŒç»´æ•°ç»„åœ¨è¿™é‡Œç›¸åº”çš„åŒºåˆ«ï¼Œå¾€å¾€è¿™é‡Œä¼šäº§ç”Ÿå¾ˆå¤§çš„åŒºåˆ«ï¼Œ</span></span><br><span class="line"><span class="comment">    æ¯”å¦‚ç¬¬äºŒä¸ªå¾ªç¯çš„å¼€å§‹æ¡ä»¶ï¼Œå› ä¸ºè¿™é‡Œæ˜¯ç”±å­é—®é¢˜çš„å †ç§¯ï¼Œç„¶åä¸€ç‚¹ä¸€ç‚¹å‘ä¸Šå‡æœ€ç»ˆå¾—åˆ°çš„é—®é¢˜ï¼Œæ‰€ä»¥è¿™ææœ€å¥½æ§åˆ¶èƒŒåŒ…çš„æ”¾ä¸ä¸æ”¾çš„é—®é¢˜ã€</span></span><br><span class="line"><span class="comment">    å°±æ¯”å¦‚æˆ‘åœ¨è¿™é“é¢˜ç›®çš„ç¬¬äºŒä¸ªé—®é¢˜ä¸­å‡ºç°çš„é”™è¯¯ï¼Œå°±æ˜¯å°†j=0è¿™ä¸ªæ¡ä»¶ç›´æ¥æ è¿‡å»äº†ï¼Œå…¶å®è¿™é‡Œæ˜¯ä¸å¯¹çš„ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> weight[maxn],value[maxn],dp[maxn][maxn];</span><br><span class="line"><span class="keyword">long</span> v,w;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; w &gt;&gt; v;</span><br><span class="line">        value[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        weight[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= w; i++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; value[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= w; i++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; weight[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span> dp);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= w; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= v; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j &gt;= weight[i]) &#123;</span><br><span class="line">                    dp[i][j] = max(dp[i - <span class="number">1</span>][j],dp[i - <span class="number">1</span>][j - weight[i]] + value[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; dp[w][v] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="F-ä¸€å¡é€š"><a href="#F-ä¸€å¡é€š" class="headerlink" title="F.ä¸€å¡é€š"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1054&amp;pid=5" target="_blank" rel="noopener">F.ä¸€å¡é€š</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ä¸€ç»´æ»šåŠ¨æ•°ç»„çš„åšæ³•ï¼Œç”±äºæ˜¯01èƒŒåŒ…ï¼Œæ‰€ä»¥ç›´æ¥å¥—æ¨¡æ¿</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">int</span> d[<span class="number">1010</span>];</span><br><span class="line">    <span class="keyword">int</span> dp[<span class="number">1010</span>];</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; n &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(d, <span class="number">0</span>, <span class="keyword">sizeof</span>(d));</span><br><span class="line">        <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span>(dp));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; d[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> p;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; p;</span><br><span class="line">        sort(d + <span class="number">1</span>, d + n + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (p &lt; <span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = p - <span class="number">5</span>; j &gt;= d[i]; j--)</span><br><span class="line">                &#123;</span><br><span class="line">                    dp[j] = max(dp[j], dp[j - d[i]] + d[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; p - dp[p - <span class="number">5</span>] - d[n] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¬¬äºŒç§æ–¹æ³•ï¼š</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">äºŒç»´æ•°ç»„ç›´æ¥å¥—æ¨¡æ¿</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜ç¥å¥‡çš„åœ°æ–¹å°±åœ¨äº å…¶çš„é‡é‡é™åˆ¶äºä»·å€¼é‡åˆåœ¨äº†ä¸€èµ·ï¼Œæ‰€ä»¥å¯¹äºè¿™é“é¢˜è€Œè¨€å°±æ˜¯åªèƒ½é‡åˆçš„å»å†™çŠ¶æ€è½¬ç§»æ–¹ç¨‹äº†</span></span><br><span class="line"><span class="comment">    å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯æœ€åè¾“å‡ºç»“æœçš„åŠæ³•ï¼Œæ˜¯å°†æœ€åä¸€ä¸ªç‰©å“äº¤ç»™å‰©ä¸‹çš„æœ€å¤§çš„é’±å»è´­ä¹°ï¼Œè¿™æ ·èƒ½å½»åº•ç”¨å…‰æœ€åçš„é’±è´¢</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">int</span> num[maxn],dp[maxn][maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; n &amp;&amp; n) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; m;</span><br><span class="line">        sort(num + <span class="number">1</span>, num + <span class="number">1</span> + n);</span><br><span class="line">        <span class="keyword">if</span> (m &lt; <span class="number">5</span>) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; m &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">        <span class="comment">//è¿™é‡Œä¸ä¸Šé¢ä¸€ç»´æ»šåŠ¨æ•°ç»„ä¸å¤ªä¸€æ ·çš„æ˜¯ï¼Œä¸€ç»´æ»šåŠ¨æ•°ç»„æ˜¯ä¸èƒ½æœ‰å¯¹ç‰©å“é™åˆ¶çš„æ“ä½œã€‚</span></span><br><span class="line">        <span class="comment">//æ„æ€å°±æ˜¯ æˆ‘äºŒç»´æ•°ç»„å¯ä»¥ç®—å‡ºn-1ä¸ªæ•°ï¼Œç„¶åç®—å‡ºæœ€åä¸€ä¸ªæ•°ç»™å‡ºçš„é’±æ•°dp[i - 1][j]</span></span><br><span class="line">        <span class="comment">//è€Œä¸€ç»´æ•°ç»„ç”±äºåªæœ‰ä¸€ä¸ªå‚æ•°å°±æ˜¯ä½“ç§¯å®¹é‡çš„å‚æ•°dp[i]</span></span><br><span class="line">        <span class="comment">//æ‰€ä»¥ä¸‹é¢å¤šç®—äº†ä¸€ä¸ªï¼Œæœ€åå†é€šè¿‡è®¡ç®—å‡ºn-1ä¸ªç‰©å“çš„ä½“ç§¯ï¼Œå†å‡å»ç›¸åº”çš„é’±æ•°ï¼Œå¾—åˆ°æœ€ç»ˆç­”æ¡ˆã€‚</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= m - <span class="number">5</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j &gt;= num[i]) &#123;</span><br><span class="line">                    dp[i][j] = max(dp[i - <span class="number">1</span>][j],dp[i - <span class="number">1</span>][j - num[i]] + num[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; m - dp[n - <span class="number">1</span>][m - <span class="number">5</span>] - num[n] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="G-çº¢çº¢å‡è‚¥è®°"><a href="#G-çº¢çº¢å‡è‚¥è®°" class="headerlink" title="G.çº¢çº¢å‡è‚¥è®°"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1054&amp;pid=6" target="_blank" rel="noopener">G.çº¢çº¢å‡è‚¥è®°</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜ä½¿ç”¨äºŒç»´æ•°ç»„å°±ä¸€ç›´å°±ä¼šè¶…æ—¶ å…·ä½“çš„æˆ‘ä¹Ÿä¸å¤ªæ¸…æ¥šï¼Œä½†æ˜¯ æ²¡æœ‰åŠæ³• åªèƒ½ä½¿ç”¨ä¸€ç»´æ»šåŠ¨æ•°ç»„ï¼Œè¿›è¡Œäº†ç›¸åº”çš„ç©ºé—´ä¼˜åŒ– ä¸è¿‡è¿™é‡Œéœ€è¦è¡¥å……å‡ ä¸ªçŸ¥è¯†ç‚¹</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    ç¬¬ä¸€ å…³äºäºŒç»´æ•°ç»„çš„å®Œå…¨èƒŒåŒ…çŠ¶æ€è½¬ç§»æ–¹ç¨‹ dp[i][j] = max (dp[i - 1][j],dp[i - 1][j - k * c[i]] + k * v[i]);</span></span><br><span class="line"><span class="comment">    ç”±ä¸Šé¢è¿™ä¸ªå¼å­å°±å¯ä»¥å¾—å‡ºï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹  äºæ˜¯ ä¸€ç§ç©ºé—´ä¼˜åŒ–çš„å†™æ³• æ˜¯ç›´æ¥å†™æˆ max(dp[i - 1][j]ï¼Œdp[i][j - w[i]] + v[i])</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    ç¬¬äºŒ å¦‚æœæ¢æˆæ»šåŠ¨æ•°ç»„çš„è¯ è®°ä½ ç¬¬äºŒä¸ªå¾ªç¯çš„ä¸¤ä¸ªé¡ºåºï¼Œå¦‚æœæ˜¯å€’å™çš„è¯ åˆ™å°±æ˜¯è¦ä¿è¯æ¯ä¸€ä¸ªç‰©å“åªä¼šå–ä¸€æ¬¡ï¼Œä½†æ˜¯å¦‚æœæ˜¯æ­£åºçš„è¯ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦ä¿è¯ä¸Šé¢æ‰€è¯´çš„é¡ºåºäº†ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    è€Œè¿™é‡Œå®˜æ–¹çš„è§£é‡Š å°±åœ¨è¿™é‡Œ ï¼š</span></span><br><span class="line"><span class="comment">    è®© v é€’å‡æ˜¯ä¸ºäº†ä¿è¯ç¬¬iæ¬¡å¾ªç¯ä¸­çš„çŠ¶æ€F[i;v]æ˜¯ç”±çŠ¶æ€F[i-1;v-Ci]é€’æ¨è€Œæ¥ã€‚</span></span><br><span class="line"><span class="comment">    æ¢å¥è¯è¯´ï¼Œè¿™æ­£æ˜¯ä¸ºäº†ä¿è¯æ¯ä»¶ç‰©å“åªé€‰ä¸€æ¬¡ï¼Œä¿è¯åœ¨è€ƒè™‘â€œé€‰å…¥ç¬¬ i ä»¶ç‰©å“â€è¿™ä»¶ç­–</span></span><br><span class="line"><span class="comment">    ç•¥æ—¶ï¼Œä¾æ®çš„æ˜¯ä¸€ä¸ªç»æ— å·²ç»é€‰å…¥ç¬¬ i ä»¶ç‰©å“çš„å­ç»“æœF[i-1;v-Ci]ã€‚è€Œç°åœ¨å®Œå…¨èƒŒ</span></span><br><span class="line"><span class="comment">    åŒ…çš„ç‰¹ç‚¹æ°æ˜¯æ¯ç§ç‰©å“å¯é€‰æ— é™ä»¶ï¼Œæ‰€ä»¥åœ¨è€ƒè™‘â€œåŠ é€‰ä¸€ä»¶ç¬¬ i ç§ç‰©å“â€è¿™ç§ç­–ç•¥æ—¶ï¼Œ</span></span><br><span class="line"><span class="comment">    å´æ­£éœ€è¦ä¸€ä¸ªå¯èƒ½å·²é€‰å…¥ç¬¬ i ç§ç‰©å“çš„å­ç»“æœF[i;v-Ci]ï¼Œæ‰€ä»¥å°±å¯ä»¥å¹¶ä¸”å¿…é¡»é‡‡ç”¨v</span></span><br><span class="line"><span class="comment">    é€’å¢çš„é¡ºåºå¾ªç¯ã€‚è¿™å°±æ˜¯è¿™ä¸ªç®€å•çš„ç¨‹åºä¸ºä½•æˆç«‹çš„é“ç†ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, a, b, m;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">110</span>;</span><br><span class="line"><span class="keyword">int</span> happiness[maxn], kaluli[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">110000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n))</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;happiness[i],&amp;kaluli[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = kaluli[i]; j &lt;= m; j++) &#123;</span><br><span class="line">                dp[j] = max(dp[j],dp[j - kaluli[i]] + happiness[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[m]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="H-Piggy-Bank"><a href="#H-Piggy-Bank" class="headerlink" title="H.Piggy-Bank"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1054&amp;pid=7" target="_blank" rel="noopener">H.Piggy-Bank</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜æ˜¯ä¸€ä¸ªå®Œå…¨èƒŒåŒ…çš„è£¸é¢˜ï¼Œå¯¹äºè¿™é“é¢˜è€Œè¨€æ›´åŠ ç¥å¥‡çš„åœ°æ–¹å°±åœ¨äºå…¶å®æ±‚æœ€å°å€¼è€Œä¸æ˜¯æ±‚æœ€å¤§å€¼</span></span><br><span class="line"><span class="comment">    æ‰€ä»¥åœ¨æœ€å…ˆå¼€å§‹åˆå§‹åŒ–çš„æ—¶å€™ä¸åº”è¯¥å»åˆå§‹åŒ–ä¸º0ï¼Œè€Œåº”è¯¥åˆå§‹åŒ–ä¸ºæ— ç©·å¤§</span></span><br><span class="line"><span class="comment">    è€Œåƒä¸‡ä¸è¦å¿˜è®°äº†å†åˆå§‹åŒ–çš„æ—¶å€™ä¸€å®šè¦å¯¹ç¬¬ä¸€ä¸ªçŠ¶æ€è¿›è¡Œä¸€ä¸ªå•ç‹¬èµ‹å€¼æ˜¯ç­‰äº0ï¼Œè¿˜æ˜¯ç­‰äºæ— ç©·å¤§ï¼Œè¿™ä¸ªç­‰åˆ°æ—¶å€™å†çœ‹ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> _beg,_end;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">505</span>;</span><br><span class="line"><span class="keyword">int</span> v[maxn],w[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">10010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span> (T--) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;_beg,&amp;_end);</span><br><span class="line">        <span class="keyword">int</span> bottle = _end - _beg;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;v[i],&amp;w[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0x3f3f3f3f</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n;i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = w[i]; j &lt;= bottle; j++) &#123;</span><br><span class="line">                dp[j] = min(dp[j],dp[j - w[i]] + v[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (dp[bottle] != <span class="number">0x3f3f3f3f</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"The minimum amount of money in the piggy-bank is "</span> &lt;&lt; dp[bottle] &lt;&lt; <span class="string">"."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"This is impossible."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="I-ç¾å…ƒçš„å›°æƒ‘"><a href="#I-ç¾å…ƒçš„å›°æƒ‘" class="headerlink" title="I.ç¾å…ƒçš„å›°æƒ‘"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1054&amp;pid=8" target="_blank" rel="noopener">I.ç¾å…ƒçš„å›°æƒ‘</a></h2><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> n,k;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) &#123;</span><br><span class="line">            BigInteger[] dp = <span class="keyword">new</span> BigInteger[<span class="number">1005</span>];</span><br><span class="line">            n = in.nextInt();</span><br><span class="line">            k = in.nextInt();</span><br><span class="line">            dp[<span class="number">0</span>] = <span class="keyword">new</span> BigInteger(<span class="string">"1"</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">                dp[i] = <span class="keyword">new</span> BigInteger(<span class="string">"0"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt;= n; j++) &#123;</span><br><span class="line">                    dp[j] = dp[j].add(dp[j - i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">           System.out.println(dp[n]); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="J-Coins"><a href="#J-Coins" class="headerlink" title="J.Coins"></a><a href="http://sustoj.com/JudgeOnline/problem.php?cid=1054&amp;pid=9" target="_blank" rel="noopener">J.Coins</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜ç¥å¥‡çš„åœ°æ–¹å°±æ˜¯å°†å¤šé‡èƒŒåŒ…çš„è£¸é¢˜è¿›è¡Œäº†æ”¹å˜ï¼Œ</span></span><br><span class="line"><span class="comment">    ä¸»è¦å°±æ˜¯æ¯ä¸€æ¬¡å¢åŠ çš„ä»·å€¼ä¼šå‘ç”Ÿæ”¹å˜ï¼Œè¿™æ‰æ˜¯æœ€å…³é”®çš„åœ°æ–¹ã€‚</span></span><br><span class="line"><span class="comment">    è¿™é‡Œçš„ä»·å€¼å°±ä¸å†æ˜¯ä¸ªæ•°ï¼Œè€Œæ˜¯è¿›è¡Œä¸€ä¸ªæ‰“è¡¨ï¼Œé€šè¿‡è¿™ä¸ªæ‰“è¡¨æ¥åˆ¤æ–­è¿™ä¸ªé‡é‡æ˜¯å¦èƒ½å¤Ÿè¾¾åˆ°ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> bag;</span><br><span class="line"><span class="keyword">bool</span> dp[<span class="number">100040</span>];</span><br><span class="line"><span class="keyword">int</span> value[<span class="number">105</span>],number[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zeroonepack</span><span class="params">(<span class="keyword">int</span> weight, <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = bag; j &gt;= weight; j--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!dp[j] &amp;&amp; dp[j - weight])&#123;</span><br><span class="line">            dp[j] = <span class="literal">true</span>;</span><br><span class="line">            cnt ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®Œå…¨èƒŒåŒ…</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">completepack</span><span class="params">(<span class="keyword">int</span> weight, <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = weight; j &lt;= bag; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!dp[j] &amp;&amp; dp[j - weight]) &#123;</span><br><span class="line">            dp[j] = <span class="literal">true</span>;</span><br><span class="line">            cnt ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¤šé‡èƒŒåŒ…</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">multilpack</span><span class="params">(<span class="keyword">int</span> weight, <span class="keyword">int</span> number, <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ç¬¬ä¸€ç§æƒ…å†µå°±æ˜¯ å¦‚æœè¿™ä»¶ç‰©å“æ‰€æœ‰çš„é‡é‡æ˜¯å°äºèƒŒåŒ…çš„é‡é‡çš„è¯</span></span><br><span class="line">    <span class="comment">//é‚£ä¹ˆå¯¹äºèƒŒåŒ…è€Œè¨€ è¿™ä¸ªç‰©å“æ˜¯å¯ä»¥å–æ— é™å¤§ã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (bag &lt;= number * weight)</span><br><span class="line">    &#123;</span><br><span class="line">        completepack(weight, value);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è€Œè¶…è¿‡çš„è¿™ä¸ªèŒƒå›´çš„å°±åªèƒ½ä½¿ç”¨01èƒŒåŒ… ç„¶åä½¿ç”¨äºŒè¿›åˆ¶çš„æ–¹æ³•</span></span><br><span class="line">    <span class="comment">//å°†æ¯ä¸€ç±»å‹çš„èƒŒåŒ…è¿›è¡Œä¸€ä¸ªåˆ†ç»„</span></span><br><span class="line">    <span class="comment">//åé¢å†ä¾æ¬¡åˆ†åˆ«ä½¿ç”¨å¤šé‡èƒŒåŒ…ã€‚</span></span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (k &lt; number)</span><br><span class="line">    &#123;</span><br><span class="line">        zeroonepack(k * weight, k * value);</span><br><span class="line">        number = number - k;</span><br><span class="line">        k = k * <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    zeroonepack(number * weight, number * value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; bag &amp;&amp; n &amp;&amp; bag) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; value[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n;i ++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; number[i];</span><br><span class="line">        &#125;</span><br><span class="line">        cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ;i ++) &#123;</span><br><span class="line">            multilpack(value[i],number[i],value[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; cnt &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="ä¹ é¢˜è§£æ" scheme="http://wsx1128.xyz/tags/%E4%B9%A0%E9%A2%98%E8%A7%A3%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>PTA 1013 ä¸¤ç§æ–¹æ³•è§£å†³ç‚¹ä¸è·¯å¾„çš„å…³ç³»</title>
    <link href="http://wsx1128.xyz/2019/07/24/PTA-1013-%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95%E8%A7%A3%E5%86%B3%E7%82%B9%E4%B8%8E%E8%B7%AF%E5%BE%84%E7%9A%84%E5%85%B3%E7%B3%BB/"/>
    <id>http://wsx1128.xyz/2019/07/24/PTA-1013-ä¸¤ç§æ–¹æ³•è§£å†³ç‚¹ä¸è·¯å¾„çš„å…³ç³»/</id>
    <published>2019-07-24T13:09:05.000Z</published>
    <updated>2019-07-24T13:47:22.791Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è¿™é“é¢˜å¾ˆæœ‰è¶£ï¼Œè¿™é‡Œç›´æ¥è´´å‡ºé¢˜ç›®ã€‚</p><p><img src="/2019/07/24/PTA-1013-ä¸¤ç§æ–¹æ³•è§£å†³ç‚¹ä¸è·¯å¾„çš„å…³ç³»/12.png" alt="PTA-1013-ä¸¤ç§æ–¹æ³•è§£å†³ç‚¹ä¸è·¯å¾„çš„å…³ç³»/12.png"></p><p>è¿™é“é¢˜çº¯ç²¹å°±æ˜¯ç»™å‡ºä¸€ç³»åˆ—è¾¹ä¸ç‚¹çš„å…³ç³»ï¼Œç„¶åå†å»æ‰ä¸€ä¸ªç‚¹ï¼Œçœ‹çœ‹å‰©ä½™éœ€è¦å¤šå°‘ä¸ªç‚¹æ‰èƒ½è¿æ¥æˆä¸€ä¸ªå®Œæ•´çš„å›¾ã€‚</p><h4 id="ç¬¬ä¸€ç§æ–¹æ³•å¹¶æŸ¥é›†"><a href="#ç¬¬ä¸€ç§æ–¹æ³•å¹¶æŸ¥é›†" class="headerlink" title="ç¬¬ä¸€ç§æ–¹æ³•å¹¶æŸ¥é›†"></a>ç¬¬ä¸€ç§æ–¹æ³•å¹¶æŸ¥é›†</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜æœ€å…ˆå¼€å§‹çœŸçš„æ˜¯ä¸çŸ¥é“ä½•ä»å…¥æ‰‹ï¼Œå› ä¸ºæœ¬èº«å¯¹äºå›¾è®ºçš„ç›¸å…³çŸ¥è¯†å¹¶ä¸æ˜¯ç‰¹åˆ«åœ¨è¡Œ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    è¿™é“é¢˜çš„ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸€å°±æ˜¯å¹¶æŸ¥é›†ï¼Œç¬¬äºŒå°±æ˜¯åˆ©ç”¨dfséå†å®Œæ‰€æœ‰éœ€è¦éå†çš„ç‚¹ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N,M,K;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1005</span>;</span><br><span class="line"><span class="keyword">int</span> fa[maxn];</span><br><span class="line"><span class="comment">//å†æ¬¡é”™åœ¨äº†è¿™ç§åœ°æ–¹ï¼ŒèŒƒå›´å°äº†ï¼Œè¿™é‡Œé¢˜ç›®è™½ç„¶å¹¶æ²¡æœ‰ç»™å‡ºç›¸åº”çš„èŒƒå›´</span></span><br><span class="line"><span class="comment">//ä½†æ˜¯æŒ‰ç…§æ¯ä¸€æ¡è¾¹ä¹‹é—´çš„é“¾æ¥æ¥çœ‹ï¼Œè¿™é‡Œéœ€è¦åŠ å¤§å…¶çš„èŒƒå›´ã€‚</span></span><br><span class="line">pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; pp[maxn * maxn];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= N; i++) &#123;</span><br><span class="line">        fa[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (fa[x] != x) fa[x] = find(fa[x]);</span><br><span class="line">    <span class="keyword">return</span>  fa[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> fx = find(x);</span><br><span class="line">    <span class="keyword">int</span> fy = find(y);</span><br><span class="line">    <span class="keyword">if</span> (fx != fy) &#123;</span><br><span class="line">        fa[fx] = fy;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">std</span>::ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M &gt;&gt; K;</span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        pp[i].first = a;</span><br><span class="line">        pp[i].second = b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> tmp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; K; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; tmp;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (pp[j].first != tmp &amp;&amp; pp[j].second != tmp) &#123;</span><br><span class="line">                merge(pp[j].first,pp[j].second);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (fa[i] == i) cnt++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (N == <span class="number">1</span>) <span class="built_in">cout</span> &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (N == <span class="number">2</span>) <span class="built_in">cout</span> &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; cnt - <span class="number">2</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¬¬äºŒç§æ–¹æ³•-é€šè¿‡dfsæ·±æœåè¿›è¡Œæ ‡è®°"><a href="#ç¬¬äºŒç§æ–¹æ³•-é€šè¿‡dfsæ·±æœåè¿›è¡Œæ ‡è®°" class="headerlink" title="ç¬¬äºŒç§æ–¹æ³• é€šè¿‡dfsæ·±æœåè¿›è¡Œæ ‡è®°"></a>ç¬¬äºŒç§æ–¹æ³• é€šè¿‡dfsæ·±æœåè¿›è¡Œæ ‡è®°</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1008</span>;</span><br><span class="line"><span class="keyword">int</span> N,M,K;</span><br><span class="line"><span class="keyword">bool</span> dis[maxn][maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    vis[x] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (vis[i] == <span class="literal">false</span> &amp;&amp; dis[x][i] == <span class="literal">true</span>) &#123;</span><br><span class="line">            dfs(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M &gt;&gt; K;</span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">    <span class="built_in">memset</span>(dis,<span class="literal">false</span>,<span class="keyword">sizeof</span> dis);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        dis[a][b] = dis[b][a] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> tmp;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; K; i++) &#123;</span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="literal">false</span>,<span class="keyword">sizeof</span> vis);</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; tmp;</span><br><span class="line">        vis[tmp] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (vis[i] == <span class="literal">false</span>) &#123;</span><br><span class="line">                dfs(i);</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; cnt - <span class="number">1</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="PAT" scheme="http://wsx1128.xyz/tags/PAT/"/>
    
  </entry>
  
  <entry>
    <title>PTA 1010 äºŒåˆ†çš„åŸºæœ¬åº”ç”¨</title>
    <link href="http://wsx1128.xyz/2019/07/14/PTA-1010-%E4%BA%8C%E5%88%86%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%BA%94%E7%94%A8/"/>
    <id>http://wsx1128.xyz/2019/07/14/PTA-1010-äºŒåˆ†çš„åŸºæœ¬åº”ç”¨/</id>
    <published>2019-07-14T11:09:08.000Z</published>
    <updated>2019-07-24T13:52:16.997Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/2019/07/14/PTA-1010-äºŒåˆ†çš„åŸºæœ¬åº”ç”¨/1.png" alt="1"></p><p>è¿™é“é¢˜ç›®æ˜¯ä¸€ä¸ªè¾¹ç•Œçš„äºŒåˆ†é—®é¢˜ï¼Œå¯ä»¥æŒ‰ç…§é¡ºåºè¿›è¡Œæ±‚è§£ï¼Œä½†æ˜¯åé¢æœ‰é—®é¢˜ä¼šå‡ºé”™ï¼Œç„¶åæ›´åŠ å‘çˆ¹çš„æ˜¯ï¼Œæœ€å‰é¢çš„å‰ç½®æ¡ä»¶éœ€è¦å¼„æ¸…æ¥š</p><p>ç›´æ¥è´´å‡ºä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">to_num</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;b,<span class="keyword">long</span> <span class="keyword">long</span> radix)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> lenb = b.size() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; b.size();i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (b[i] &gt;= <span class="string">'0'</span> &amp;&amp; b[i] &lt;=<span class="string">'9'</span>) &#123;</span><br><span class="line">            res += (b[i] - <span class="string">'0'</span>) * <span class="built_in">pow</span>(radix,lenb--);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>  &#123;</span><br><span class="line">            res += (b[i] - <span class="string">'a'</span> + <span class="number">10</span>) * <span class="built_in">pow</span>(radix,lenb--);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (res &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>  res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">std</span>::ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">string</span> a,b;</span><br><span class="line">    <span class="keyword">int</span> tag;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> radix;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b &gt;&gt; tag &gt;&gt; radix;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (a == b) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; radix &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (tag == <span class="number">2</span>) &#123;</span><br><span class="line">        swap(a,b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> tmp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> len = a.size() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a[i] &gt;= <span class="string">'0'</span> &amp;&amp; a[i] &lt;=<span class="string">'9'</span>) &#123;</span><br><span class="line">            tmp += (a[i] - <span class="string">'0'</span>) * <span class="built_in">pow</span>(radix,len--);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            tmp += (a[i] - <span class="string">'a'</span> + <span class="number">10</span>) * <span class="built_in">pow</span>(radix,len--);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> Max = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> mm;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; b.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (b[i] &gt;= <span class="string">'0'</span> &amp;&amp; b[i] &lt;=<span class="string">'9'</span>) &#123;</span><br><span class="line">            mm = b[i] - <span class="string">'0'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            mm = b[i] - <span class="string">'a'</span> + <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Max = max(Max,mm);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> lenb = b.size() - <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">//å°±æ˜¯è¿™é‡Œå…³äºè¾¹ç•Œçš„é—®é¢˜ï¼ŒçœŸçš„è¦æŠŠæˆ‘ææ­»äº†</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œçš„ç¬¬ä¸€ä¸ªæ ·ä¾‹å°±æ˜¯ å°±åº”è¯¥æ˜¯ä»–çš„å€¼å°äºå…¶çš„è¾¹ç•Œï¼Œæ­£å¥½å°±æ˜¯ Max ç­‰äº2çš„æ—¶å€™ã€‚</span></span><br><span class="line">    <span class="comment">//å°†ä¸¤ä¸ªè¾¹ç•Œå€¼ç»™å¼„æ¸…æ¥šã€‚</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> low = Max + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> high = max(tmp,low);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> mid = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">        mid = (low + high) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> tp = to_num(b,mid);</span><br><span class="line">        <span class="keyword">if</span> (tp == <span class="number">-1</span> || tp &gt; tmp) &#123;</span><br><span class="line">            high = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (tp &lt; tmp)</span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (tp == tmp) &#123;</span><br><span class="line">            flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">    è¿™é‡Œå…¶å®æ˜¯ä¸€ä¸ªé¡ºåºæŸ¥æ‰¾çš„è¿‡ç¨‹ï¼Œä½†æ˜¯ç”±äºå¾ªç¯æ¬¡æ•°å¤ªå¤šï¼Œæ‰€ä»¥å¿…é¡»è¿›è¡ŒäºŒåˆ†ä¼˜åŒ–ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    for (ans = Max; ans &lt;= tmp; ans++) &#123;</span></span><br><span class="line"><span class="comment">        res = 0;</span></span><br><span class="line"><span class="comment">        for (int i = 0; i &lt; b.size();i++) &#123;</span></span><br><span class="line"><span class="comment">            if (b[i] &gt;= '0' &amp;&amp; b[i] &lt;='9') &#123;</span></span><br><span class="line"><span class="comment">                res += (b[i] - '0') * pow(ans,lenb--);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            else &#123;</span></span><br><span class="line"><span class="comment">                res += (b[i] - 'a' + 10) * pow(ans,lenb--);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        if (tmp == res) &#123;</span></span><br><span class="line"><span class="comment">            flag = true;</span></span><br><span class="line"><span class="comment">            break;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="literal">true</span> &amp;&amp; mid &gt;= <span class="number">1</span>) <span class="built_in">cout</span> &lt;&lt; mid &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"Impossible"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="PAT" scheme="http://wsx1128.xyz/tags/PAT/"/>
    
  </entry>
  
  <entry>
    <title>PTA 1007 æœ€å¤§åºåˆ—å’Œé—®é¢˜</title>
    <link href="http://wsx1128.xyz/2019/07/13/PTA-1007-%E6%9C%80%E5%A4%A7%E5%BA%8F%E5%88%97%E5%92%8C%E9%97%AE%E9%A2%98/"/>
    <id>http://wsx1128.xyz/2019/07/13/PTA-1007-æœ€å¤§åºåˆ—å’Œé—®é¢˜/</id>
    <published>2019-07-13T13:02:19.000Z</published>
    <updated>2019-07-13T13:07:12.860Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/2019/07/13/PTA-1007-æœ€å¤§åºåˆ—å’Œé—®é¢˜/1.png" alt="1"></p><p><strong>è¿™é“é¢˜æ˜¯ä¸€é“ç®€å•çš„åŠ¨æ€è§„åˆ’ï¼Œå¯èƒ½æ˜¯å¤ªä¹…æ²¡æœ‰åšè¿™æ–¹é¢çš„é¢˜ç›®äº†ï¼Œæ€»æ˜¯å¯¹è¿™ä¸€éƒ¨åˆ†å¿˜è®°ï¼Œå…¶å®æœ€ç»ˆç»“æœå°±æ˜¯ä¸€ä¸ªè´ªå¿ƒè§£å†³é—®é¢˜ã€‚</strong></p><p>è´´å‡ºä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å…¶å®è¿™é“é¢˜ä¹Ÿç®—æ˜¯ä¸€é“ç‰¹åˆ«ç®€å•çš„é¢˜ç›®ï¼Œè¿˜æ˜¯åŠ¨æ€è§„åˆ’é‡Œé¢æœ€åŸºç¡€çš„é—®é¢˜ï¼Œä½†æ˜¯æ€»æ˜¯å®¹æ˜“å»å¼„æ··ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    è®°å¾—è‡ªå·±å½“æ—¶çš„é—®é¢˜å°±åœ¨äº è¿™é‡Œæ¯ä¸€æ¬¡ç›¸åŠ çš„å’Œï¼Œå¦‚ä½•ä¿è¯åé¢åŠ äº†è´Ÿæ•°ä¹‹åï¼Œå†æ¬¡åŠ ä¸Šä¸€ä¸ªæ­£æ•°ä¸è¢«å½±å“å‘¢ï¼Œ</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    ä¸‹é¢çš„æ³¨é‡Šé‡Œé¢æœ‰å†™ï¼Œ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    å› ä¸ºé¢˜ç›®ä¸­é™åˆ¶äº†ï¼Œå¦‚æœè¿™é“é¢˜æœ‰å¤šä¸ªç­”æ¡ˆï¼Œæ¯”å¦‚è¯´ å‰é¢ä¸åé¢ç›¸åŠ ä¸ºé›¶ï¼Œä½†æ˜¯åé¢çš„é‚£ä¸ªæ­£æ•°æ­£å¥½ä½œä¸ºæœ€åçš„æ­£ç¡®ç­”æ¡ˆçš„è¯</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    æ¯”å¦‚ 1 2 -3 8</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    1 2 -3 æ­£å¥½ç›¸åŠ ä¸º0  ä½†æ˜¯é¢˜ç›®ä¸­è¦æ±‚çš„ åºåˆ— 1 2 -3 8 ä½œä¸ºæœ€åçš„ç»“æœåºåˆ—ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    è‡ªå·±å½“æ—¶ä¹Ÿåœ¨è¿™ä¸€å—ä¸Šé¢çº ç»“ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">std</span>::ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">int</span> m;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; m;</span><br><span class="line">    <span class="keyword">int</span> num[m + <span class="number">5</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tmpleft = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = m - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> tmp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> Max = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i ++) &#123;</span><br><span class="line">        tmp += num[i];</span><br><span class="line">        <span class="comment">//In case that the maximum subsequence is not unique, </span></span><br><span class="line">        <span class="comment">//output the one with the smallest indices i and j (as shown by the sample case).</span></span><br><span class="line">        <span class="keyword">if</span> (tmp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            tmp = <span class="number">0</span>;</span><br><span class="line">            tmpleft = i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (tmp &gt; Max) &#123;</span><br><span class="line">            Max = tmp;</span><br><span class="line">            right = i;</span><br><span class="line">            left = tmpleft;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//If all the K numbers are negative, then its maximum sum is defined to be 0, </span></span><br><span class="line">    <span class="comment">//and you are supposed to output the first and the last numbers of the whole sequence.</span></span><br><span class="line">    <span class="keyword">if</span> (Max &gt;= <span class="number">0</span>) <span class="built_in">cout</span> &lt;&lt; Max &lt;&lt; <span class="string">" "</span> &lt;&lt; num[left] &lt;&lt; <span class="string">" "</span> &lt;&lt; num[right] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; num[<span class="number">0</span>] &lt;&lt; <span class="string">" "</span> &lt;&lt; num[m - <span class="number">1</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="PAT" scheme="http://wsx1128.xyz/tags/PAT/"/>
    
  </entry>
  
  <entry>
    <title>PTA 1004 ç®€å•çš„dfs</title>
    <link href="http://wsx1128.xyz/2019/06/27/PTA-1004-%E7%AE%80%E5%8D%95%E7%9A%84dfs/"/>
    <id>http://wsx1128.xyz/2019/06/27/PTA-1004-ç®€å•çš„dfs/</id>
    <published>2019-06-27T04:22:45.000Z</published>
    <updated>2019-06-27T04:58:01.884Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è¿™é‡Œç›´æ¥è´´å‡ºé¢˜ç›®ï¼š</p><p><img src="/2019/06/27/PTA-1004-ç®€å•çš„dfs/111.png" alt="PTA-1004-ç®€å•çš„dfs"></p><p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; kids[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> maxlever = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> nums[<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> root,<span class="keyword">int</span> depth)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (kids[root].size() == <span class="number">0</span>) &#123;</span><br><span class="line">        maxlever = max(depth,maxlever);</span><br><span class="line">        nums[depth]++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; kids[root].size() ; i++) &#123;</span><br><span class="line">        dfs(kids[root][i],depth + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">int</span> fa,num;</span><br><span class="line">    <span class="keyword">int</span> tmp;</span><br><span class="line">    <span class="built_in">memset</span>(nums,<span class="number">0</span>,<span class="keyword">sizeof</span> nums);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; fa &gt;&gt; num;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; num; i ++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; tmp;</span><br><span class="line">            kids[fa].push_back(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dfs(<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; nums[<span class="number">0</span>] ;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= maxlever; i++ ) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æˆ‘å¯èƒ½æ˜¯å¤ªä¹…æ²¡æœ‰å†™ä»£ç äº†ï¼Œä¸Šé¢è¿™æ ·ä¸€é“æ°´é¢˜ï¼Œæˆ‘å…ˆå¼€å§‹å°±è¢«å®Œå®Œå…¨å…¨çš„å¼„ç³Šæ¶‚äº†ï¼Œè¿™é“é¢˜å°±æ˜¯ä¸€ä¸ªç®€å•çš„dfsï¼Œé¦–å…ˆå…ˆæŠŠæ•°ä¹‹é—´çš„å¯¹åº”å…³ç³»ä¸€ç‚¹ä¸€ç‚¹çš„æ‰“é€šï¼Œç„¶åå†æ ¹æ®åé¢dfsçš„é€’å½’å¯ä»¥å¾—å‡ºæ¥ï¼Œå°±æ˜¯ä¸€ä¸ªç®€å•çš„æ ¹æ®æ ¹èŠ‚ç‚¹ä¸€ç‚¹ä¸€ç‚¹çš„å¾€åé¢é€’å½’æœç´¢ï¼Œç„¶åè¾¾åˆ°ç»ˆç‚¹ä¹‹åï¼Œè®°å¾—æŠŠè¿™ä¸€ä¸ªå±‚çš„å¶å­ç»“ç‚¹æ•°åŠ ä¸€ï¼Œè¿™é‡Œæ³¨æ„ä¸¤ç‚¹ï¼Œå¯ä»¥å‘ç° åœ¨cinçš„å¤„ç†é‡Œé¢ï¼Œå¯ä»¥ç›´æ¥å°†00ï¼Œ01ï¼Œ02ï¼Œç›´æ¥å˜æˆç›¸åº”çš„0ï¼Œ1ï¼Œ2ï¼›</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="PAT" scheme="http://wsx1128.xyz/tags/PAT/"/>
    
  </entry>
  
  <entry>
    <title>PTA 1003 Dijkstra ---- å…³äºDijkstraå•æºæœ€çŸ­è·¯çš„ç›¸åº”æ€»ç»“</title>
    <link href="http://wsx1128.xyz/2019/06/25/PTA-1003-Dijkstra-%E5%85%B3%E4%BA%8EDijkstra%E5%8D%95%E6%BA%90%E6%9C%80%E7%9F%AD%E8%B7%AF%E7%9A%84%E7%9B%B8%E5%BA%94%E6%80%BB%E7%BB%93/"/>
    <id>http://wsx1128.xyz/2019/06/25/PTA-1003-Dijkstra-å…³äºDijkstraå•æºæœ€çŸ­è·¯çš„ç›¸åº”æ€»ç»“/</id>
    <published>2019-06-25T06:07:26.000Z</published>
    <updated>2019-06-25T07:07:25.188Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="é¦–å…ˆ-è¿™é‡Œå…ˆè´´å‡ºé¢˜ç›®"><a href="#é¦–å…ˆ-è¿™é‡Œå…ˆè´´å‡ºé¢˜ç›®" class="headerlink" title="é¦–å…ˆ è¿™é‡Œå…ˆè´´å‡ºé¢˜ç›®"></a>é¦–å…ˆ è¿™é‡Œå…ˆè´´å‡ºé¢˜ç›®</h2><p><img src="/2019/06/25/PTA-1003-Dijkstra-å…³äºDijkstraå•æºæœ€çŸ­è·¯çš„ç›¸åº”æ€»ç»“/12.png" alt="PTA-1003-Dijkstra-å…³äºDijkstraå•æºæœ€çŸ­è·¯çš„ç›¸åº”æ€»ç»“"></p><p>è§£é¢˜ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">505</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> n,m,_beg,_end;</span><br><span class="line"><span class="keyword">int</span> people[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> _map[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">int</span> paths[maxn];</span><br><span class="line"><span class="keyword">int</span> Maxvalue[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">(<span class="keyword">int</span> beg)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dis,inf,<span class="keyword">sizeof</span> dis);</span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="literal">false</span>,<span class="keyword">sizeof</span> vis);</span><br><span class="line">    dis[beg] = <span class="number">0</span>;</span><br><span class="line">    paths[beg] = <span class="number">1</span>;</span><br><span class="line">    Maxvalue[beg] = people[beg];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> Min = <span class="number">0x3f3f3f</span>, index = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!vis[j] &amp;&amp; dis[j] &lt; Min) &#123;</span><br><span class="line">                Min = dis[j];</span><br><span class="line">                index = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        vis[index] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!vis[j] &amp;&amp; _map[index][j] != inf) &#123;</span><br><span class="line">                <span class="keyword">if</span> (dis[index] + _map[index][j] &lt; dis[j]) &#123;</span><br><span class="line">                    dis[j] = dis[index] + _map[index][j];</span><br><span class="line">                    paths[j] = paths[index];</span><br><span class="line">                    Maxvalue[j] = Maxvalue[index] + people[j];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (dis[index] + _map[index][j] == dis[j]) &#123;</span><br><span class="line">                    paths[j] += paths[index];</span><br><span class="line">                    Maxvalue[j] = max(Maxvalue[j],Maxvalue[index] + people[j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; _beg &gt;&gt; _end;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; people[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> x,y,val;</span><br><span class="line">    <span class="built_in">memset</span>(_map,inf,<span class="keyword">sizeof</span> _map);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y &gt;&gt; val;</span><br><span class="line">        _map[x][y] = val;</span><br><span class="line">        _map[y][x] = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Dijkstra(_beg);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; paths[_end] &lt;&lt; <span class="string">" "</span> &lt;&lt; Maxvalue[_end] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜æ˜¾å°±æ˜¯å…³äºDijkstraçš„è£¸é¢˜ï¼Œå˜åŒ–çš„åœ°æ–¹å°±æ˜¯åŠ äº†ä¸€ä¸¤ä¸ªå†…ç½®æ•°ç»„ï¼Œä½œä¸ºçŠ¶æ€çš„å˜åŒ–ï¼Œç±»ä¼¼äºåŠ¨æ€è§„åˆ’ï¼Œåˆ°åé¢å°±å¯ä»¥è§£é¢˜è§£å‡ºæ¥äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="PAT" scheme="http://wsx1128.xyz/tags/PAT/"/>
    
  </entry>
  
  <entry>
    <title>æ•°è®ºæ€»ç»“</title>
    <link href="http://wsx1128.xyz/2019/05/06/%E6%95%B0%E8%AE%BA%E6%80%BB%E7%BB%93/"/>
    <id>http://wsx1128.xyz/2019/05/06/æ•°è®ºæ€»ç»“/</id>
    <published>2019-05-06T09:48:39.000Z</published>
    <updated>2019-09-10T13:29:19.282Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="æ•°è®ºæ€»ç»“"><a href="#æ•°è®ºæ€»ç»“" class="headerlink" title="æ•°è®ºæ€»ç»“"></a>æ•°è®ºæ€»ç»“</h1><pre><code>æ¥è‡ªè¥¿åŒ—å·¥ä¸šå¤§å­¦çš„è®²ä¹‰ä»¥åŠé¢˜ç›®çš„æ€»ç»“</code></pre><h2 id="ç´ æ•°è¿ç®—å®éªŒèŒƒä¾‹"><a href="#ç´ æ•°è¿ç®—å®éªŒèŒƒä¾‹" class="headerlink" title="ç´ æ•°è¿ç®—å®éªŒèŒƒä¾‹"></a>ç´ æ•°è¿ç®—å®éªŒèŒƒä¾‹</h2><pre><code>è¿™é‡Œå°†çš„å°±æ˜¯ä¸ç´ æ•°ç›¸å…³çš„ç­›æ³•ï¼Œè¿™é‡Œä»‹ç»ä¸¤ç§ç­›æ³•ã€‚</code></pre><h3 id="ç´ æ•°çš„çº¿æ€§ç­›æ³•"><a href="#ç´ æ•°çš„çº¿æ€§ç­›æ³•" class="headerlink" title="ç´ æ•°çš„çº¿æ€§ç­›æ³•"></a>ç´ æ•°çš„çº¿æ€§ç­›æ³•</h3><p><em>åŸƒå¼ç­›æ³•</em><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æœ€æ™®é€šçš„åŸƒå¼ç­›æ³•</span></span><br><span class="line"><span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));</span><br><span class="line"><span class="keyword">int</span> tot = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++i)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!check[i])</span><br><span class="line">    &#123;</span><br><span class="line">        prime[tot++] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸‹é¢å…¶å®ç”¨ä¹˜æ³•å’Œç”¨åŠ æ³•éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè€Œè¿™é‡Œå°±æ˜¯ä¹˜æ³•çš„åŸå› å°±åœ¨äºï¼Œå‡å°‘äº†å¾ªç¯æ¬¡æ•°</span></span><br><span class="line">    <span class="comment">// å”¯ä¸€æ²¡æœ‰è¢«ä¼˜åŒ–çš„åœ°æ–¹å°±åœ¨äº æ¯ä¸€ä¸ªæ•°å­—è¢«é‡å¤æ ‡è®°äº†å¾ˆå¤šæ¬¡ï¼Œè€Œåé¢çš„æ¬§æ‹‰ç­›å°±ä¼šé™åˆ¶æ ‡è®°æ¬¡æ•°ä¸ºä¸€æ¬¡</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = i * i; j &lt;= n; j *= i)</span><br><span class="line">    &#123;</span><br><span class="line">        check[j] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><em>æ¬§æ‹‰ç­›æ³•</em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿›é˜¶ç‰ˆçš„çº¿æ€§ç­›æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è´¨æ•°æ•°ç»„</span></span><br><span class="line"><span class="keyword">int</span> prime[MAXN];</span><br><span class="line"><span class="comment">//åˆ¤æ–­æ¯ä¸€ä¸ªæ•° æ•°ç»„</span></span><br><span class="line"><span class="keyword">int</span> check[MAXL];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> tot = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; MAXL; ++i)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!check[i])</span><br><span class="line">    &#123;</span><br><span class="line">        prime[tot++] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; tot; ++j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å¤§è‡´æ„æ€å°±åœ¨äº å°†æ¯ä¸€ä¸ªæ•°çš„ä¸è´¨æ•°æ•°ç»„é‡Œé¢çš„æ•°è¿›è¡Œç›¸ä¹˜ï¼Œæœ€åå¾—åˆ°çš„ç»“æœå­˜åœ¨checkä¸­å»</span></span><br><span class="line">        <span class="comment">//éœ€è¦æ³¨æ„çš„å°±æ˜¯ ä¸€æ—¦å½“å‰çš„æ•°èƒ½è¢«æ•´é™¤çš„æ—¶å€™ å°±ç«‹é©¬é€€å‡ºï¼Œè¿™æ ·ä»£è¡¨æ¯ä¸€ä¸ªæ•°å­—éƒ½ä¼šè¢«è‡ªå·±çš„æœ€å°è´¨å› æ•°ç»™æ•´é™¤å‡ºæ¥ã€‚</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (i * prime[j] &gt; MAXL)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        check[i * prime[j]] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åä¸‹é¢å°±ç”±ä¸Šé¢ä¸¤ç§çº¿æ€§ç­›æ³•å¼•ç”³å‡ºæ¥ä¸‹é¢ä¸¤ä¸ªç»“è®º</p><p><em>æ¯ä¸€ä¸ªå¤§äº4çš„å¶æ•°å¯ä»¥å†™æˆä¸¤ä¸ªå¥‡ç´ æ•°çš„å’Œã€‚(poj 2262)</em></p><p><em>æ¯ä¸€ä¸ªå¤§äº8çš„æ•°å­—å¯ä»¥åˆ†ä¸º4ä¸ªç´ æ•°çš„å’Œã€‚(uva 10168)</em></p><h3 id="å¤§ç´ æ•°çš„å®éªŒèŒƒä¾‹"><a href="#å¤§ç´ æ•°çš„å®éªŒèŒƒä¾‹" class="headerlink" title="å¤§ç´ æ•°çš„å®éªŒèŒƒä¾‹"></a>å¤§ç´ æ•°çš„å®éªŒèŒƒä¾‹</h3><pre><code>ä¸€èˆ¬è¿™é‡Œè¿˜å­˜åœ¨ä¸€äº›è¶…è¿‡ç»™å‡ºçš„ç´ æ•°è¡¨çš„èŒƒå›´ï¼Œæˆ–è€…æ˜¯æ‰“è¡¨åˆ°é‚£ä¸ªåœ°æ–¹ä¸€å®šä¼šåè¶…ä¹‹ç±»çš„é¢˜ç›®ï¼Œè¿™é‡Œéƒ½ä½¿ç”¨ä¸€ç§ç±»ä¼¼äºåŒºé—´ç­›æ³•çš„åŠæ³•å»è§£å†³é—®é¢˜ã€‚</code></pre><p>æ¯”å¦‚ uva 10871:</p><p>æ‰“å‡º 2 åˆ° æ ¹å·nèŒƒå›´çš„è¡¨ï¼Œç„¶åè¶…è¿‡è¿™ä¸ªèŒƒå›´çš„æ•°ï¼Œå¯¹äºè¿™ä¸ªæ•°é‡Œé¢çš„æ•°å…¨éƒ¨å»é™¤ä»¥å‰é¢æ‰“è¡¨äº§ç”Ÿçš„ç´ æ•°è¡¨ï¼Œçœ‹èƒ½ä¸èƒ½é™¤å°½ï¼Œæ¥åˆ¤æ–­è¿™ä¸ªå¤§æ•´æ•°æ˜¯å¦æ˜¯ç´ æ•°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜ å…¶å®åˆ©ç”¨äº†ç´ æ•°è¡¨ä¹‹åï¼Œå°±æ˜¯ä¸€ä¸ªä¸€æ¬¡éå†çš„è¿‡ç¨‹äº† ä¸è¿‡æˆ‘æ²¡æœ‰æƒ³åˆ°çš„æ˜¯ï¼Œ</span></span><br><span class="line"><span class="comment">    è¿™é“é¢˜å…¶å®å·²ç»æå‰å°†æ¯ä¸€ä¸ªsumç»™è®°å½•ä¸‹æ¥äº†ï¼Œå°±ç›¸å½“äºä¸€ä¸ªæ‰“è¡¨çš„æ–¹å¼ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    å¦å¤–è¿™é“é¢˜ç¬¬äºŒä¸ªçˆ†ç‚¹å°±åœ¨äº å½“è¶…å‡ºäº†è¡¨èŒƒå›´å†…çš„å¤§æ•°æ€ä¹ˆåŠï¼Œè¿™é‡Œå°±å¯ä»¥ç”¨åˆ†ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯åœ¨è¿™ç§æƒ…å†µçš„ç›´æ¥çœ‹è¡¨ï¼Œ</span></span><br><span class="line"><span class="comment">    å¦å¤–ä¸€ç§å°±æ˜¯ç”¨ è¿™ä¸ªæ•°å»mod è¡¨å†…çš„æ¯ä¸€ä¸ªè´¨æ•°ï¼Œè¿™æ ·å¯ä»¥åŠ å¿«æ—¶é—´ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10011</span>;</span><br><span class="line"><span class="keyword">bool</span> u[maxn];</span><br><span class="line"><span class="keyword">int</span> su[maxn];</span><br><span class="line"><span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prepare</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    <span class="built_in">memset</span>(u, <span class="literal">true</span>, <span class="keyword">sizeof</span>(u));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">2</span>; i &lt; maxn; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (u[i])</span><br><span class="line">        &#123;</span><br><span class="line">            su[++num] = i;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= num; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (i * su[j] &gt; maxn)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            u[i * su[j]] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (i % su[j] == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">pri</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x &lt;= <span class="number">10010</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> u[x];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= num; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (x % su[i] == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    prepare();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> i, j;</span><br><span class="line">        <span class="keyword">int</span> s[n + <span class="number">1</span>];</span><br><span class="line">        s[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;s[i]);</span><br><span class="line">            s[i] += s[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">bool</span> ok = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">2</span>; i &lt;= n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (j = <span class="number">1</span>; j + i - <span class="number">1</span> &lt;= n; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> k = s[i + j - <span class="number">1</span>] - s[j - <span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (pri(k))</span><br><span class="line">                &#123;</span><br><span class="line">                    ok = <span class="literal">true</span>;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"Shortest primed subsequence is length %d:"</span>, i);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">for</span> (k = <span class="number">1</span>; k &lt;= i; ++k)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">" %d"</span>, s[j + k - <span class="number">1</span>] - s[j + k - <span class="number">2</span>]);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (ok)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!ok)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"This sequence is anti-primed.\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ±‚è§£ä¸å®šæ–¹ç¨‹å’ŒåŒä½™çš„å®éªŒèŒƒä¾‹"><a href="#æ±‚è§£ä¸å®šæ–¹ç¨‹å’ŒåŒä½™çš„å®éªŒèŒƒä¾‹" class="headerlink" title="æ±‚è§£ä¸å®šæ–¹ç¨‹å’ŒåŒä½™çš„å®éªŒèŒƒä¾‹"></a>æ±‚è§£ä¸å®šæ–¹ç¨‹å’ŒåŒä½™çš„å®éªŒèŒƒä¾‹</h2><pre><code>è¿™ä¸€ä¸ªç« èŠ‚çš„ä¸œè¥¿åŸºæœ¬ä¸Šå¯ä»¥è¯´æ˜¯å¥ å®šäº†æ•°è®ºçš„åŸºç¡€ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†çš„ä¸œè¥¿è¯·åŠ¡å¿…æŒæ¡ã€‚</code></pre><p>é¦–å…ˆè¿™é‡Œå…ˆè´´å‡º gcd å’Œ exgcdçš„ä»£ç </p><p><strong>æ¬§å‡ é‡Œå¾—ç®—æ³•</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) retuan a;</span><br><span class="line">    <span class="keyword">return</span> gcd(b,a % b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>exgcd æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exgcd</span> <span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b, <span class="keyword">int</span> &amp;x,<span class="keyword">int</span> &amp;y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> t = exgcd(b,a % b,x,y);</span><br><span class="line">    <span class="keyword">int</span> d = x;</span><br><span class="line">    x = y;</span><br><span class="line">    y = d - (a / b) * y;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>æ¬§å‡ é‡Œå¾—ç®—æ³•æ˜¯ç”¨æ¥æ±‚è§£æœ€å¤§å…¬çº¦æ•°çš„<br>ç”±æ¬§å‡ é‡Œå¾—å…¬å¼æ¨å‡º å¦‚æœ aä¸b äº’ç´ ï¼Œé‚£ä¹ˆb * t + a ä¸ b ä¹Ÿä¸€å®šäº’ç´ ã€‚</p></blockquote><p>è¿™é‡Œè´´å‡ºä¸€é“é¢˜ å°±æ˜¯å¯¹äºä¸Šé¢gcdå…¬å¼çš„å‘¨æœŸæ€§çš„åˆ©ç”¨</p><p><em>happy poj 2773</em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜ç›®å°±æ˜¯åœ¨äºå¯¹äºgcdçš„å‘¨æœŸæ€§çš„ä½¿ç”¨ã€‚</span></span><br><span class="line"><span class="comment">    è¿™é“é¢˜å°±åˆ©ç”¨äº†ä¸mäº’ç´ çš„æ•°å¯¹må»è†œå…·æœ‰å‘¨æœŸæ€§</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> s[<span class="number">1000005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> gcd(b, a % b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m, k;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;m, &amp;k) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (gcd(m, i) == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                s[num++] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¿™é‡Œå…¶å®è¿›è¡Œäº†ä¸¤ç§æƒ…å†µï¼šä¸€ç§åˆšå¥½é™¤å°½çš„æƒ…å†µï¼Œ</span></span><br><span class="line">        <span class="comment">//å’Œå¦å¤–ä¸€ç§æ²¡æœ‰åˆšå¥½é™¤å°½çš„æƒ…å†µã€‚</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (k % num == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//è¿™é‡Œå‡ä¸€çš„ç›®çš„æ˜¯åˆšåˆšå¥½é™¤å°½ï¼Œå‡å»ä¸€ä¸ªåé¢å¥½åŠ ä¸Šä¸€ä¸ªai;</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, (k / num - <span class="number">1</span>) * m + s[num - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//åé¢çš„åˆ™å°±ä½“ç°åœ¨äº†ä½™æ•°è¿™ä¸ªåœ°æ–¹ã€‚ï¼Œä¹‹æ‰€ä»¥å‡å»1æ˜¯å› ä¸ºnumä¸å¯èƒ½ç®—ä¸Šçš„æœ€åä¸€ä¸ª</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, k / num * m + s[k % num - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•æ˜¯ç”¨æ¥æ±‚æœ€å¤§å…¬çº¦æ•°å’Œä¸å®šæ–¹ç¨‹çš„é€šè§£</p></blockquote><p>è¿™é‡ŒåŒæ ·ä¹Ÿè´´å‡ºä¸€é“æ¨¡æ¿æ ·é¢˜ä½œä¸ºç¤ºèŒƒ</p><p><em>The Balance poj 2142</em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜å°±åœ¨äºå…¶å¾ˆå‰å®³çš„æ˜¯ è§£é‡Šäº†ecgcdçš„çœŸæ­£çš„ç”¨é€”ã€‚</span></span><br><span class="line"><span class="comment">    è¿™é“é¢˜è¯´éš¾ä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼Œåªæ˜¯æ•™ä¼šäº†ä¸€äº›æ•°è®ºé¢˜ç›®å…¨éƒ¨çš„ä»£ç è¯¥å¦‚ä½•å»å†™ã€‚</span></span><br><span class="line"><span class="comment">    å…¸å‹çš„æ±‚ ä¸å®šæ–¹ç¨‹çš„åšæ³• ax + by = d;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    æ±‚è§£ ä¸€ä¸ª  xï¼Œy çš„æ»¡è¶³æ¡ä»¶çš„ç‰¹è§£ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    è¿™é‡Œå†™ä¸€ä¸‹æ±‚è§£æ­¥éª¤ ï¼š</span></span><br><span class="line"><span class="comment">    ç¬¬ä¸€æ­¥ é¦–å…ˆå…ˆå¾—å‡ºè¿™ä¸ªæ–¹ç¨‹ï¼Œç„¶åå¯¹æ–¹ç¨‹ä¸¤è¾¹åŒæ—¶é™¤ä»¥gcd(a,b);</span></span><br><span class="line"><span class="comment">    åœ¨æ­¥å…¥ç¬¬äºŒæ­¥çš„è¿‡ç¨‹ä¸­æœ‰ä¸€ä¸ªåˆ¤æ–­ å°±æ˜¯çœ‹d å¯¹äº gcd(a,b)çš„æ¯”è¾ƒæƒ…å†µï¼Œå†³å®šè¿™ä¸ªä¸å®šæ–¹ç¨‹æ˜¯å¦æœ‰è§£ï¼›</span></span><br><span class="line"><span class="comment">    ç¬¬äºŒæ­¥ å°±æ˜¯ç›´æ¥ç”¨æœªåˆå§‹åŒ–çš„ x,y å¸¦å…¥exgcdæ±‚è§£ å¯ä»¥å¾—åˆ°ä¸€ä¸ª x,yçš„å…¶ä¸­ä¸€ä¸ªç‰¹è§£ </span></span><br><span class="line"><span class="comment">    ç¬¬ä¸‰æ­¥ å°†å¾—åˆ°çš„ç‰¹è§£ä¹˜ä»¥ç›¸åº”çš„æ‰©å¤§çš„d_å€ï¼Œæœ€åæŒ‰ç…§é¢˜ç›®è§„å®šçš„æ¡ä»¶è¿›è¡Œæ•´æ”¹æœ€ç»ˆå¾—å‡ºç»“æœ</span></span><br><span class="line"><span class="comment">    å…¶ä¸­éœ€è¦æ³¨æ„çš„æ˜¯ ä¸Šé¢å¾—åˆ°çš„ç‰¹è§£ï¼Œåªæœ‰åœ¨ax + by æ­£å¥½ç­‰äºgcd(a,b)çš„æ—¶å€™ æ‰ä¼šåŒæ—¶æ»¡è¶³ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span>  gcd(b,a % b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> &amp;x,<span class="keyword">int</span> &amp;y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> t = exgcd(b,a % b,x,y);</span><br><span class="line">    <span class="keyword">int</span> _x = x;</span><br><span class="line">    <span class="keyword">int</span> _y = y;</span><br><span class="line">    x = _y;</span><br><span class="line">    y = _x - (a/b) * _y;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a,b,d;</span><br><span class="line"><span class="keyword">int</span> a_,b_,d_;</span><br><span class="line"><span class="keyword">int</span> x,y;<span class="comment">//é€šè§£</span></span><br><span class="line"><span class="keyword">int</span> q;</span><br><span class="line"><span class="keyword">int</span> x1,x2,y1,y2;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;a,&amp;b,&amp;d) &amp;&amp; a &amp;&amp; b &amp;&amp; d) &#123;</span><br><span class="line">        q = gcd(a,b);</span><br><span class="line">        a_ = a / q;</span><br><span class="line">        b_ = b / q;</span><br><span class="line">        d_ = d / q;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> k = exgcd(a_,b_,x,y);</span><br><span class="line">        x1 = x * d_;</span><br><span class="line">        x1 = (x1 % b_ + b_) % b_;</span><br><span class="line">        y1 = (d - x1 * a) / b;</span><br><span class="line">        <span class="keyword">if</span> (y1 &lt; <span class="number">0</span>) y1 = -y1;</span><br><span class="line"></span><br><span class="line">        y2 = y * d_;</span><br><span class="line">        y2 = (y2 % a_ + a_) % a_;</span><br><span class="line">        x2 = (d - y2 * b) / a;</span><br><span class="line">        <span class="keyword">if</span> (x2 &lt; <span class="number">0</span>) x2 = -x2;</span><br><span class="line">        <span class="keyword">if</span> (x1 + y1 &lt; x2 + y2) <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,x1,y1);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,x2,y2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¿˜æ˜¯è®²æ±‚è§£ä¸å®šæ–¹ç¨‹çš„æ­¥éª¤å†è¯¦ç»†çš„è¿‡ä¸€é</p><ol><li><p>å¾—åˆ°ä¸å®šæ–¹ç¨‹ax + by = mï¼Œå…ˆåˆ¤æ–­ m æ˜¯å¦æ˜¯gcd(a,b)çš„å€æ•°ï¼Œå¦‚æœæ˜¯è¯´æ˜æ–¹ç¨‹æœ‰è§£ï¼Œå¦‚æœä¸æ˜¯æ–¹ç¨‹åˆ™æ²¡æœ‰è§£</p></li><li><p>æœ‰è§£ä¹‹åï¼Œæ–¹ç¨‹ä¸¤è¾¹åŒæ—¶é™¤ä»¥gcd(a,b)ï¼Œç„¶åå°†é‡æ–°å¾—åˆ°çš„a,bå€¼å¸¦å…¥åˆ°æ‰©å±•æ¬§å‡ é‡Œå¾—çš„æ–¹ç¨‹å¼ä¸­å¾—åˆ°ä¸¤ä¸ªé€šè§£x,yï¼Œ</p></li><li><p>éœ€è¦å°†å¾—åˆ°çš„x æˆ–è€… y å€¼ æ‰©å¤§ ç»é™¤åçš„må€¼ï¼Œå› ä¸ºæ‰©å±•æ¬§å‡ é‡Œå¾—æ±‚çš„ä¸å®šæ–¹ç¨‹é»˜è®¤å°±æ˜¯ç­‰äº1çš„ã€‚å¯¹äºè¿™é“é¢˜è€Œè¨€ï¼Œæƒ³è¦æ±‚æœ€å°çš„æ­£æ•´æ•°çš„é€šè§£ï¼Œäºæ˜¯å°± (x % b + b) % b, è¿™é‡Œå°±æ˜¯é˜²æ­¢C++å–ä½™å¸¦æ¥çš„è´Ÿæ•°å½±å“ã€‚</p></li></ol><p>ä¸‹é¢è¿˜æœ‰ä¸€é“é¢˜ ä¹Ÿæ˜¯æ±‚å‡ºä¸å®šæ–¹ç¨‹çš„è§£ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ç‚¹ä¸åŒã€‚</p><p><em>One Person Game zoj3593</em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é‡Œçš„ä¸ä¸Šé¢ä¸€é“é¢˜ä¸ä¸€æ ·çš„åœ°æ–¹å°±åœ¨äº åé¢é™åˆ¶æ¡ä»¶ä¸å¤ªç›¸åŒã€‚</span></span><br><span class="line"><span class="comment">    å‰é¢ä¸€é“é¢˜ä¸Šé¢æ±‚å‡ºçš„ä¸€ä¸ªç‰¹è§£ï¼Œä½†æ˜¯ å–modä¹‹åå¾—åˆ°çš„ç»“æœï¼Œ</span></span><br><span class="line"><span class="comment">    æ‰€ä»¥ç”¨æ”¹å˜åçš„å˜é‡å€¼ï¼Œæ¥æ±‚å¦å¤–ä¸€ä¸ªã€‚</span></span><br><span class="line"><span class="comment">    è€Œè¿™é“é¢˜ä¸ä¸€æ ·çš„æ˜¯æ˜¯é€šè¿‡æ±‚è§£ç­”æ¡ˆ ç„¶å æ ¹æ®ç‰¹è§£æ¥ç®—ç»“æ„æ¥ç®—ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> _beg,_end,a,b;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">long</span> <span class="keyword">long</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b,<span class="keyword">long</span> <span class="keyword">long</span> &amp;x,<span class="keyword">long</span> <span class="keyword">long</span> &amp;y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> t = exgcd(b,a % b,x,y);</span><br><span class="line">    <span class="keyword">int</span> x_ = x;</span><br><span class="line">    <span class="keyword">int</span> y_ = y;</span><br><span class="line">    x = y_;</span><br><span class="line">    y = x_ - (a / b) * y_;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span> (T--) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; _beg &gt;&gt; _end &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> res = _end - _beg;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> d,x,y;</span><br><span class="line">        d = exgcd(a,b,x,y);</span><br><span class="line">        <span class="keyword">if</span> (res % d != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="number">-1</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        x *= res / d;</span><br><span class="line">        y *= res / d;</span><br><span class="line">        a = a / d;</span><br><span class="line">        b = b / d;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ans = inf * inf,tmp;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> mid = (y - x) / (a + b);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = mid - <span class="number">1</span>; i &lt;= mid + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">long</span> <span class="keyword">long</span> x1 = x + i * b;</span><br><span class="line">            <span class="keyword">long</span> <span class="keyword">long</span> y1 = y - i * a;</span><br><span class="line">            <span class="keyword">if</span> (x1 * y1 &gt;= <span class="number">0</span>) tmp = max(<span class="built_in">abs</span>(x1),<span class="built_in">abs</span>(y1));</span><br><span class="line">            <span class="keyword">else</span> tmp = <span class="built_in">abs</span>(x1 - y1);</span><br><span class="line">            ans = min(ans,tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é“é¢˜ä¸ä¸€æ ·çš„æ˜¯ ä»–ä¸æ˜¯åƒå‰é¢æ±‚å‡ºé€šè§£ä¹‹åæ±‚ä¸€ä¸ªæœ€å°æˆ–è€…æœ€å¤§ï¼Œæˆ‘çš„ç†è§£å°±æ˜¯ å› ä¸º å…¶ç®—å‡ºæ¥çš„é€šè§£ä¸º x = xo + k <em> b,y = yo - k </em> a ,å…¶å®å°†è¿™é‡Œä¸¤ä¸ªç‰¹è§£ ç›´æ¥å½“æˆ0æ¥ç®—ï¼Œå› ä¸ºé¢˜ç›®è¦æ±‚æœ€å°ï¼Œå¹¶ä¸” a , b çš„å·®è·è¿˜ä¸èƒ½å¤ªå¤§ï¼Œå°±ç›´æ¥æ±‚å‡º kçš„èŒƒå›´ ç„¶å å¯¹å…¶è¿›è¡ŒåŠ 1 å‡1çš„æ“ä½œå¾—å‡ºæœ€åç»“æœã€‚</p><h3 id="è®¡ç®—åŒä½™æ–¹ç¨‹ä¸åŒä½™æ–¹ç¨‹ç»„"><a href="#è®¡ç®—åŒä½™æ–¹ç¨‹ä¸åŒä½™æ–¹ç¨‹ç»„" class="headerlink" title="è®¡ç®—åŒä½™æ–¹ç¨‹ä¸åŒä½™æ–¹ç¨‹ç»„"></a>è®¡ç®—åŒä½™æ–¹ç¨‹ä¸åŒä½™æ–¹ç¨‹ç»„</h3><pre><code>å…³äºåŒä½™ç†è®ºï¼Œè‡ªå·±çš„å…¶ä»–ç›¸å…³åšå®¢å·²ç»å­˜åœ¨è®²è§£è¿™é‡Œå°±ä¸åœ¨è¿‡å¤šä»‹ç»äº†ï¼Œ</code></pre><p>è¿™é‡Œæœ‰ä¸€é“ç»å…¸çš„é¢˜ï¼Œä»¥åæœ‰æ—¶é—´æ’ä¸€ä¸‹ä»£ç ã€‚</p><p>è¿™é‡Œå†æ¬¡æ€»ç»“ä¸€ä¸‹ä¸€å…ƒçº¿æ€§åŒä½™æ–¹ç¨‹çš„è§£æ³•ã€‚</p><blockquote><ol><li>é¦–å…ˆé¦–å…ˆ çº¿æ€§åŒä½™æ–¹ç¨‹å¯ä»¥è¡¨ç¤ºä¸º ax =- b(mod m)  å°±è¿™æ ·å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªä¸å®šæ–¹ç¨‹å¼ ax = b + ym;</li><li>å…ˆæ±‚å‡º b % gcd(a,m)  åˆ¤æ–­å…¶æ˜¯å¦ä¸º0ï¼Œå¦‚æœä¸ä¸º0ï¼Œé‚£ä¹ˆä»¥ä¸Šçš„åŒä½™æ–¹ç¨‹å¼æˆ–è€…ä¸å®šæ–¹ç¨‹å¼æ— è§£ã€‚å¦‚æœ å¾—åˆ°çš„ç»“æœä¸ºjï¼Œé‚£ä¹ˆè¯´æ˜è¯¥æ–¹ç¨‹æœ‰ jä¸ª mod m ä¸åŒä½™çš„è§£ d = gcd(a,m);</li><li>å½“ç”¨æ¬§å‡ é‡Œå¾—ç®—æ³•æ±‚å‡ºä»¥ä¸Šçš„è§£ä¹‹å å¾—åˆ°å…¶å®æ˜¯  ax=- d(mod m) è¿™ä¸€åŒä½™æ–¹ç¨‹ä¸­ x çš„è§£ã€‚æ‰€ä»¥è¯´äººè¯å°±æ˜¯ å½“æ±‚å‡ºäº†é‚£ä¸ªç‰¹è§£ä¹‹å å†å»ä¹˜ä»¥ä¹‹å‰ çš„ B å€¼ æœ€åmod må¾—åˆ°æœ€ç»ˆåŒä½™æ–¹ç¨‹çš„è§£ã€‚<br>2</li></ol><p>å…³äºè®¡ç®—åŒä½™æ–¹ç¨‹ï¼Œå…¶å®ä¸æ±‚è§£æ‰©å±•æ¬§å‡ é‡Œå¾—é€šè§£çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œ</p></blockquote><p><em>C_Loop poj2115</em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜å…¶å®å†ä¸€æ¬¡æ¶‰åŠåˆ° exgcdçš„å¦å¤–ä¸€ä¸ªç”¨æ³• è¿™ä¸ªç”¨æ³•ä»ç„¶æ˜¯ä»å…¶ä¸­æ±‚è§£ä¸å®šæ–¹ç¨‹çš„ä½œç”¨ä¸­å»¶ä¼¸è¿‡æ¥çš„ã€‚</span></span><br><span class="line"><span class="comment">    è¿™é“é¢˜å°±æ˜¯ä¸€ä¸ªç®€å•çš„ä¸€ç»´çš„çº¿æ€§æ±‚ä½™è¿‡ç¨‹ï¼Œ</span></span><br><span class="line"><span class="comment">    å¯¹äºè¿™é“é¢˜å°±æ˜¾ç¤ºä¸€ä¸‹ çº¿æ€§åŒä½™çš„è¿‡ç¨‹</span></span><br><span class="line"><span class="comment">    é¦–å…ˆ çº¿æ€§åŒä½™æ–¹ç¨‹å¯ä»¥è¡¨ç¤ºä¸º ax =- b(mod m)  å°±è¿™æ ·å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªä¸å®šæ–¹ç¨‹å¼ ax = b + ym;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    æ‰€ä»¥ç¬¬ä¸€æ­¥ å…ˆæ±‚å‡º b % gcd(a,m)  åˆ¤æ–­å…¶æ˜¯å¦ä¸º0ï¼Œå¦‚æœä¸ä¸º0ï¼Œé‚£ä¹ˆä»¥ä¸Šçš„åŒä½™æ–¹ç¨‹å¼æˆ–è€…ä¸å®šæ–¹ç¨‹å¼æ— è§£ã€‚</span></span><br><span class="line"><span class="comment">    å¦‚æœ å¾—åˆ°çš„ç»“æœä¸ºjï¼Œé‚£ä¹ˆè¯´æ˜è¯¥æ–¹ç¨‹æœ‰ jä¸ª mod m ä¸åŒä½™çš„è§£</span></span><br><span class="line"><span class="comment">    d = gcd(a,m);</span></span><br><span class="line"><span class="comment">    å½“ç”¨æ¬§å‡ é‡Œå¾—ç®—æ³•æ±‚å‡ºä»¥ä¸Šçš„è§£ä¹‹å å¾—åˆ°å…¶å®æ˜¯  ax` =- d(mod m) è¿™ä¸€åŒä½™æ–¹ç¨‹ä¸­ x`çš„è§£ã€‚</span></span><br><span class="line"><span class="comment">    æ‰€ä»¥æ ¹æ®åˆ¤æ–­dæ˜¯å¦ç­‰äº0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    å¯ä»¥æ±‚å‡ºç¬¬ä¸€ä¸ªè§£é‡Šx0 = x` * (b / d) mod m; </span></span><br><span class="line"><span class="comment">    è€Œå…¶ä½™d - 1çš„è§£å°±æ˜¯ xi = (x0 + i *(m / d)) mod m;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    æ‰€ä»¥è¯´äººè¯å°±æ˜¯ å½“æ±‚å‡ºäº†é‚£ä¸ªç‰¹è§£ä¹‹å å†å»ä¹˜ä»¥ä¹‹å‰ çš„ B å€¼ æœ€åmod må¾—åˆ°æœ€ç»ˆåŒä½™æ–¹ç¨‹çš„è§£ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b,<span class="keyword">long</span> <span class="keyword">long</span> &amp;x,<span class="keyword">long</span> <span class="keyword">long</span> &amp;y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> t = exgcd(b,a % b,x,y);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> d = x;</span><br><span class="line">    x = y;</span><br><span class="line">    y = d - (a / b) * y;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">gcd</span> <span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> gcd(b,a % b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> a,b,c,k;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> x,y;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld %lld"</span>,&amp;a,&amp;b,&amp;c,&amp;k)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a == <span class="number">0</span> &amp;&amp; b == <span class="number">0</span> &amp; c == <span class="number">0</span> &amp;&amp; k ==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> gap = b - a;</span><br><span class="line">        k = ((<span class="keyword">long</span> <span class="keyword">long</span>)<span class="number">1</span> &lt;&lt; k);</span><br><span class="line">        gap = (gap % k + k) % k;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (gap == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"0\n"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> q = exgcd(c,k,x,y);</span><br><span class="line">        <span class="keyword">if</span> (gap % q) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"FOREVER\n"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å‰é¢å±äºåˆ¤æ–­è¿‡ç¨‹ï¼Œåé¢å°±æ˜¯æ­£å¸¸çš„ecgcdçš„ ä¸å®šæ–¹ç¨‹æ±‚è§£äº†</span></span><br><span class="line">        <span class="comment">//æ‰€ä»¥éœ€è¦åšçš„äº‹æƒ…å°±æ˜¯ æ–¹ç¨‹ä¸¤è¾¹åŒæ—¶é™¤ä»¥gcd</span></span><br><span class="line">        c = c / q;</span><br><span class="line">        gap = gap / q;</span><br><span class="line">        k = k / q;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> xx = exgcd(c,k,x,y);</span><br><span class="line">        x *= gap;</span><br><span class="line">        x = (x % k + k) % k;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±æ˜¯ä¸€é“æ±‚è§£é€†å…ƒçš„é—®é¢˜äº†ã€‚</p><p><strong>å®šç† åŒä½™æ–¹ç¨‹ ax =- 1(mod m)æœ‰è§£ å½“ä¸”ä»…ä»…å½“ gcd(a,m) = æ—¶å€™æˆç«‹ï¼Œä¸”å…¶çš„æ‰€æœ‰è§£éƒ½åŒä½™</strong></p><p><em>Modular Inverse zoj 3609</em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> &amp;x,<span class="keyword">int</span> &amp;y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> t = exgcd(b,a % b,x,y);</span><br><span class="line">    <span class="keyword">int</span> d = x;</span><br><span class="line">    x = y;</span><br><span class="line">    y = d - (a / b) * y;</span><br><span class="line">    <span class="keyword">return</span> t; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a,b,q,x,y;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; T) &#123;</span><br><span class="line">    <span class="keyword">while</span> (T--) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        q = exgcd(a,b,x,y);</span><br><span class="line">        <span class="comment">//å°±æ˜¯è¿™é‡Œå¤šäº†åˆ¤æ–­å…¶æ˜¯å¦ä¸º0çš„æ¡ä»¶ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (q != <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Not Exist\n"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è¿™é‡Œå°±æ˜¯å¤„ç†0çš„æƒ…å†µ</span></span><br><span class="line">        x = (x % b + b) % b;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">0</span>) <span class="built_in">cout</span> &lt;&lt; b &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŒä½™æ–¹ç¨‹ç»„-ï¼ˆä¸­å›½å‰©ä½™å®šç†ï¼‰"><a href="#åŒä½™æ–¹ç¨‹ç»„-ï¼ˆä¸­å›½å‰©ä½™å®šç†ï¼‰" class="headerlink" title="åŒä½™æ–¹ç¨‹ç»„ ï¼ˆä¸­å›½å‰©ä½™å®šç†ï¼‰"></a>åŒä½™æ–¹ç¨‹ç»„ ï¼ˆä¸­å›½å‰©ä½™å®šç†ï¼‰</h3><p>è¿™é‡Œè´´å‡º æ±‚è§£åŒä½™æ–¹ç¨‹ç»„çš„é˜¶æ¢¯æ­¥éª¤</p><blockquote><ol><li>å°†é¢˜ç›®ä¸­ç»™å‡ºçš„æ‰€æœ‰åŒä½™æ–¹ç¨‹ç»„åˆ—å‡ºæ¥ï¼Œå½¢å¦‚ a =- ai (mod ni),å¹¶ä¸”å°†æ¯ä¸€ä¸ªniç›¸ä¹˜èµ·æ¥ å¾—åˆ°ä¸€ä¸ª n ã€‚ï¼ˆæˆ–è€…æ˜¯æ±‚å…¶å…¨éƒ¨çš„æœ€å°å…¬å€æ•°ï¼‰</li><li>ç„¶åé€šè¿‡å…¬å¼ è®¡ç®—å‡º mi = n / niï¼Œç„¶åå†é€šè¿‡mi è®¡ç®—å‡ºmiæ¨¡ n çš„é€†  å°±æ˜¯é€šè¿‡ æ‰©å±•æ¬§å‡ é‡Œå¾—å…¬å¼å»æ±‚è§£æ¯ä¸€ä¸ªåŒä½™æ–¹ç¨‹ mi * x =- 1 (mod ni);</li><li>ç„¶åå†è®¡ç®—æ¯ä¸€ä¸ª ci = mi * miçš„é€†ã€‚</li><li>æœ€åé€šè¿‡å…¬å¼ a = ((å…¨éƒ¨ç›¸åŠ )ai * ci ) mod nâ€¦</li></ol></blockquote><p><em>Biorhythms poj 1006</em> </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜ç›®å…¶å®æ˜¯ä¸¥æ ¼æŒ‰ç…§ä¸­å›½å‰©ä½™å®šç†æ¥è®¡ç®—çš„ï¼Œæœ€åæ±‚è§£çš„ç»“æœå®é™…ä¸Šæ˜¯è®¡ç®—å‡ºæ¥çš„ä¸‰ä¸ªåŒä½™çš„ç»“æœï¼ŒåŒæ—¶æ»¡è¶³å¤šä¸ªåŒä½™æ–¹ç¨‹çš„ä¸€ä¸ªå…±åŒçš„ç»“æœ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    ä¸è¿‡ä¸‹é¢çš„æ­¥éª¤éœ€è¦å¼„æ¸…æ¥šï¼Œç¬¬ä¸€æ­¥æ˜¯å…ˆæ±‚å‡ºæ¯ä¸€ä¸ªåŒä½™çš„ må€¼ï¼Œç„¶åå†é€šè¿‡æ±‚mé€†ï¼Œç„¶åå°†å…¶ç›¸ä¹˜å¾—åˆ°ci æœ€åä¹˜ä»¥æ¯ä¸€é¡¹çš„ci</span></span><br><span class="line"><span class="comment">    æœ€åæ±‚è§£çš„ç»“æœå»modä¸Šä¸€ä¸ªæœ€ç»ˆçš„mod nå°±è¡Œäº†</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> p,e,i,d;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exgcd</span> <span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b, <span class="keyword">int</span> &amp;x,<span class="keyword">int</span> &amp;y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> t = exgcd(b,a % b,x,y);</span><br><span class="line">    <span class="keyword">int</span> d = x;</span><br><span class="line">    x = y;</span><br><span class="line">    y = d - (a / b) * y;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> m1,m2,m3;</span><br><span class="line"><span class="keyword">int</span> n1,n2,n3;</span><br><span class="line"><span class="keyword">int</span> n = <span class="number">21252</span>;</span><br><span class="line"><span class="keyword">int</span> x,x2,x3;</span><br><span class="line"><span class="keyword">int</span> y,y2,y3;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤„ç†C++ ä¸­ % å‡ºè´Ÿæ•°çš„æƒ…å†µ</span></span><br><span class="line"><span class="keyword">int</span> _mod(<span class="keyword">int</span> x,<span class="keyword">int</span> b) &#123;</span><br><span class="line">    <span class="keyword">return</span> (x % b + b) % b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> Case = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d %d %d %d"</span>,&amp;p,&amp;e,&amp;i,&amp;d)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (p == <span class="number">-1</span> &amp;&amp; e == <span class="number">-1</span> &amp;&amp; i == <span class="number">-1</span> &amp;&amp; d== <span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        m1 = n / <span class="number">23</span>;</span><br><span class="line">        m2 = n / <span class="number">28</span>;</span><br><span class="line">        m3 = n / <span class="number">33</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> q1 = exgcd(m1,<span class="number">23</span>,x,y);</span><br><span class="line">        <span class="keyword">int</span> q2 = exgcd(m2,<span class="number">28</span>,x2,y2);</span><br><span class="line">        <span class="keyword">int</span> q3 = exgcd(m3,<span class="number">33</span>,x3,y3);</span><br><span class="line"></span><br><span class="line">        x = _mod(x,<span class="number">23</span>) * m1;</span><br><span class="line">        x2 = _mod(x2,<span class="number">28</span>) * m2;</span><br><span class="line">        x3 = _mod(x3,<span class="number">33</span>) * m3;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> res = x * p + x2 * e + x3 * i - d;</span><br><span class="line">        res = res % n;</span><br><span class="line">        <span class="keyword">if</span> (res &lt;= <span class="number">0</span>) res += n;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Case "</span>&lt;&lt; Case++ &lt;&lt;<span class="string">": the next triple peak occurs in "</span>&lt;&lt;res &lt;&lt;<span class="string">" days."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç‰¹æ®Šçš„åŒä½™å¼"><a href="#ç‰¹æ®Šçš„åŒä½™å¼" class="headerlink" title="ç‰¹æ®Šçš„åŒä½™å¼"></a>ç‰¹æ®Šçš„åŒä½™å¼</h3><h4 id="å¨å°”é€Šå®šç†"><a href="#å¨å°”é€Šå®šç†" class="headerlink" title="å¨å°”é€Šå®šç†"></a>å¨å°”é€Šå®šç†</h4><p><strong>å¦‚æœ p æ˜¯ç´ æ•°ï¼Œ(p - 1)! =- -1 (mod p)æˆç«‹</strong></p><pre><code>æ„æ€å°±æ˜¯ å¦‚æœ pæ˜¯ç´ æ•°çš„æƒ…å†µï¼Œ(p - 1)! + 1 mod p æ­£å¥½å¯ä»¥ç­‰äº0.</code></pre><p><em>YAPTCHA uva 4382</em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MOD 2018</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ULL unsigned long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Pair pair<span class="meta-string">&lt;int, int&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mem(a, b) memset(a, b, sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _ ios_base::sync_with_stdio(0), cin.tie(0)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">3e6</span> + <span class="number">10</span>, INF = <span class="number">0x7fffffff</span>;</span><br><span class="line"><span class="keyword">int</span> vis[maxn], ans[maxn];</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿™é‡Œæ˜¯ä¸€ç§ç®€å•çš„ç­›æ³•,ç›¸å½“äºä¸€ä¸ªç®€å•çš„åŸƒå¼ç­›æ³•ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mem(vis, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= <span class="built_in">sqrt</span>(maxn + <span class="number">0.5</span>); i++)</span><br><span class="line">        <span class="keyword">if</span> (!vis[i])</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i * i; j &lt; maxn; j += i)</span><br><span class="line">                vis[j] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mem(ans, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">1e6</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> temp = <span class="number">3</span> * i + <span class="number">7</span>;</span><br><span class="line">        ans[i] = ans[i - <span class="number">1</span>] + (<span class="number">1</span> - vis[temp]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    f();</span><br><span class="line">    <span class="keyword">int</span> T, n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans[n] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è´¹é©¬å°å®šç†"><a href="#è´¹é©¬å°å®šç†" class="headerlink" title="è´¹é©¬å°å®šç†"></a>è´¹é©¬å°å®šç†</h4><blockquote><p>å¦‚æœpæ˜¯ç´ æ•°ï¼Œaæ˜¯æ­£æ•´æ•°ï¼Œgcd(a,p) = 1,åˆ™ açš„p - 1 æ¬¡å¹‚ åŒä½™ 1 mod p.</p></blockquote><p><em>what day is that day zoj 3785</em><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜è®²è¿°çš„å°±æ˜¯è´¹é©¬å°å®šç†ï¼Œè¿™é“é¢˜ç›®å…³é”®ç‚¹å°±æ˜¯åœ¨ï¼Œå‰é¢å¯¹äºå‘¨æœŸmodçš„æ±‚å–ï¼Œåº”ç”¨äº†è´¹é©¬å°å®šç†ï¼Œæœ€åå¾—å‡ºçš„ç»“è®ºã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> num[<span class="number">1000</span>];</span><br><span class="line"><span class="keyword">char</span> day[<span class="number">10</span>][<span class="number">10</span>] = &#123;<span class="string">"Saturday"</span>, <span class="string">"Sunday"</span>, <span class="string">"Monday"</span>, <span class="string">"Tuesday"</span>, <span class="string">"Wednesday"</span>, <span class="string">"Thursday"</span>, <span class="string">"Friday"</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pow</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= x; i++)</span><br><span class="line">        ans = (ans * x) % <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">300</span>; i++)</span><br><span class="line">        num[i] = (<span class="built_in">pow</span>(i) + num[i - <span class="number">1</span>]) % <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, day[num[n % <span class="number">294</span>]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="ä¼ªç´ æ•°"><a href="#ä¼ªç´ æ•°" class="headerlink" title="ä¼ªç´ æ•°"></a>ä¼ªç´ æ•°</h4><pre><code>å…¶äº§ç”Ÿçš„åŸå› å°±åœ¨äºè´¹é©¬å°å®šç†çš„é€†ä¸æˆç«‹ï¼Œå¦‚æœaæ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå¦‚æœnæ˜¯ä¸€ä¸ªæ­£åˆæ•°ï¼Œå¹¶ä¸”açš„næ¬¡å¹‚  åŒä½™ a (mod n) åˆ™ç§°nä¸ºä»¥aä¸ºåŸºçš„ä¼ªç´ æ•°ã€‚</code></pre><p><em>Pseudoprime numbers poj 3641</em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜ä¸æ–­çš„å‡ºç°runtime error ç”¨java çš„æ—¶å€™ è¿™ä¸ªæ—¶å€™æˆ‘å°±ä¸å¤ªæ¸…æ¥šæ˜¯ä¸ºä»€ä¹ˆäº†ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    åé¢è¿˜éœ€è¦å¼„æ¸…æ¥šä¸€ä»¶äº‹æƒ…å°±æ˜¯ ç©¶ç«Ÿä»€ä¹ˆæ—¶å€™æ‰èƒ½å¤Ÿç”¨æ¬§æ‹‰èµ›çš„æ—¶é—´å»æ‰“è¡¨ï¼Œè¿™é‡Œå°±ä¸å¤ªæ¸…æ¥š æœ‰çš„æ—¶å€™ç”¨æ¬§æ‹‰ç­›æ‰“è¡¨åè€Œå‡ºç°é”™è¯¯çš„ç­”æ¡ˆã€‚</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> _mod(<span class="keyword">long</span> <span class="keyword">long</span> x,<span class="keyword">long</span> <span class="keyword">long</span> y,<span class="keyword">long</span> <span class="keyword">long</span> mod) &#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (y) &#123;</span><br><span class="line">        <span class="keyword">if</span> (y &amp; <span class="number">1</span>)  ans = ans * x % mod;</span><br><span class="line">        y &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        x = x * x % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_prime</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= <span class="built_in">sqrt</span>(x) + <span class="number">0.5</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> q,a;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>,&amp;q,&amp;a) &amp;&amp; q &amp;&amp; a) &#123;</span><br><span class="line">        <span class="keyword">if</span> (is_prime(q)) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"no\n"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ans = _mod(a,q,q);</span><br><span class="line">        <span class="keyword">if</span> (ans == a) <span class="built_in">printf</span>(<span class="string">"yes\n"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"no\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è¿˜æœ‰ä¸€é“é¢˜ï¼Œå¯ä»¥æ ¹æ®javaçš„ä¸€ä¸ªå‡½æ•°ç›´æ¥å¾—å‡ºç»“æœï¼Œä½†æ˜¯åŒæ ·ä¹Ÿå¯ä»¥é€šè¿‡C++ çš„å¤§ç´ æ•°çš„æ£€æµ‹æ–¹æ³•ä»è€Œå¾—å‡ºç»“æœã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        BigInteger a;</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) &#123;</span><br><span class="line">            n = in.nextInt();</span><br><span class="line">            <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                a = in.nextBigInteger();</span><br><span class="line">                <span class="keyword">if</span> (a.isProbablePrime(<span class="number">3</span>)) cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(cnt);</span><br><span class="line">        &#125;</span><br><span class="line">        in.close();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>C++ å‰é¢æœ‰è®²çš„è¶…å‡ºåŒºé—´çš„æµ‹å®šæ–¹æ³•ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_prime</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tp = (<span class="keyword">int</span>)<span class="built_in">sqrt</span>(x * <span class="number">1.0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= tp; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>, tp;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;tp);</span><br><span class="line">            <span class="keyword">if</span> (tp == <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ++ans;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (tp &amp; <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ans += is_prime(tp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ¬§æ‹‰å®šç†"><a href="#æ¬§æ‹‰å®šç†" class="headerlink" title="æ¬§æ‹‰å®šç†"></a>æ¬§æ‹‰å®šç†</h4><p>æ¬§æ‹‰å‡½æ•°è¡¨ç¤ºçš„æ˜¯åˆ°nä¹‹å‰ä¸näº’ç´ çš„ä¸”ä¸è¶…è¿‡nçš„æ­£æ•´æ•°çš„ä¸ªæ•°ã€‚</p><p>å¦‚æœ nå’Œaæ˜¯äº’ç´ çš„æ­£æ•´æ•°ï¼Œåˆ™ açš„ æ¬§æ‹‰å‡½æ•°n åŒä½™1 mod n</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="acm" scheme="http://wsx1128.xyz/tags/acm/"/>
    
      <category term="æ•°è®º" scheme="http://wsx1128.xyz/tags/%E6%95%B0%E8%AE%BA/"/>
    
  </entry>
  
  <entry>
    <title>èƒŒåŒ…åˆçº§åŠç›¸åº”é¢˜ç›®æ€»ç»“</title>
    <link href="http://wsx1128.xyz/2019/05/01/%E8%83%8C%E5%8C%85%E5%88%9D%E7%BA%A7%E5%8F%8A%E7%9B%B8%E5%BA%94%E9%A2%98%E7%9B%AE%E6%80%BB%E7%BB%93/"/>
    <id>http://wsx1128.xyz/2019/05/01/èƒŒåŒ…åˆçº§åŠç›¸åº”é¢˜ç›®æ€»ç»“/</id>
    <published>2019-05-01T00:47:30.000Z</published>
    <updated>2019-05-01T02:48:38.667Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="èƒŒåŒ…åˆçº§è®²è§£"><a href="#èƒŒåŒ…åˆçº§è®²è§£" class="headerlink" title="èƒŒåŒ…åˆçº§è®²è§£"></a>èƒŒåŒ…åˆçº§è®²è§£</h2><p>è¿™é‡Œå¯¹äºåŠ¨æ€è§„åˆ’é‡Œé¢ä¸€ä¸ªç®€å•åŸºç¡€çš„é—®é¢˜è¿›è¡Œæ€»ç»“ï¼ŒåŒ…æ‹¬ 01èƒŒåŒ…ï¼Œå®Œå…¨èƒŒåŒ…ï¼Œå¤šé‡èƒŒåŒ…ï¼Œæ··åˆèƒŒåŒ…â€¦</p><h3 id="01èƒŒåŒ…"><a href="#01èƒŒåŒ…" class="headerlink" title="01èƒŒåŒ…"></a>01èƒŒåŒ…</h3><p><strong>é¢˜ç›®</strong></p><p>æœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºV çš„èƒŒåŒ…ã€‚æ”¾å…¥ç¬¬iä»¶ç‰©å“è€—è´¹çš„è´¹ç”¨æ˜¯Ci1ï¼Œå¾—åˆ° çš„ä»·å€¼æ˜¯Wi ã€‚æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</p><p><strong>åŸºæœ¬æ€è·¯</strong></p><p>ç”¨å­é—®é¢˜å®šä¹‰çŠ¶æ€:å³F [i, v]è¡¨ç¤ºå‰iä»¶ç‰©å“æ°æ”¾å…¥ä¸€ä¸ªå®¹é‡ä¸ºvçš„èƒŒåŒ…å¯ ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼ã€‚åˆ™å…¶çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¾¿æ˜¯:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**å¯¹äºäºŒç»´dpæ•°ç»„çš„ä¼ªä»£ç å¦‚ä¸‹**</span><br><span class="line"></span><br><span class="line">F[0,0..V] â†0 fori â†1toN</span><br><span class="line">forv â†Ci toV</span><br><span class="line">F[i,v] â† max&#123;F[i âˆ’ 1,v],F[i âˆ’ 1,v âˆ’ Ci] + Wi&#125;</span><br><span class="line"></span><br><span class="line">**ä¼˜åŒ–ç©ºé—´çš„å¤æ‚åº¦**</span><br><span class="line">ä½¿ç”¨æ»šåŠ¨æ•°ç»„ï¼Œä»¥åŠè¿›è¡Œå‹ç¼©ç©ºé—´ã€‚</span><br><span class="line">ä¼ªä»£ç å¦‚ä¸‹ï¼š</span><br><span class="line">F [0..V ] â†0 fori â†1toN</span><br><span class="line">forv â†V toCi</span><br><span class="line">F[v] â†max&#123;F[v],F[vâˆ’Ci]+Wi&#125;</span><br><span class="line"></span><br><span class="line">**åˆå§‹åŒ–çš„ç»†èŠ‚**</span><br><span class="line">&gt;æˆ‘ä»¬çœ‹åˆ°çš„æ±‚æœ€ä¼˜è§£çš„èƒŒåŒ…é—®é¢˜é¢˜ç›®ä¸­ï¼Œäº‹å®ä¸Šæœ‰ä¸¤ç§ä¸å¤ªç›¸åŒçš„é—®æ³•ã€‚ æœ‰çš„é¢˜ç›®è¦æ±‚â€œæ°å¥½è£…æ»¡èƒŒåŒ…â€æ—¶çš„æœ€ä¼˜è§£ï¼Œæœ‰çš„é¢˜ç›®åˆ™å¹¶æ²¡æœ‰è¦æ±‚å¿…é¡»æŠŠèƒŒ åŒ…è£…æ»¡ã€‚ä¸€ç§åŒºåˆ«è¿™ä¸¤ç§é—®æ³•çš„å®ç°æ–¹æ³•æ˜¯åœ¨åˆå§‹åŒ–çš„æ—¶å€™æœ‰æ‰€ä¸åŒã€‚</span><br><span class="line">&gt;å¦‚æœæ˜¯ç¬¬ä¸€ç§é—®æ³•ï¼Œè¦æ±‚æ°å¥½è£…æ»¡èƒŒåŒ…ï¼Œé‚£ä¹ˆåœ¨åˆå§‹åŒ–æ—¶é™¤äº†F [0]ä¸º0ï¼Œå…¶ å®ƒF [1..V ]å‡è®¾ä¸ºâˆ’âˆï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯æœ€ç»ˆå¾—åˆ°çš„F [V ]æ˜¯ä¸€ç§æ°å¥½è£…æ»¡èƒŒåŒ…çš„ æœ€ä¼˜è§£ã€‚</span><br><span class="line">&gt;å¦‚æœå¹¶æ²¡æœ‰è¦æ±‚å¿…é¡»æŠŠèƒŒåŒ…è£…æ»¡ï¼Œè€Œæ˜¯åªå¸Œæœ›ä»·æ ¼å°½é‡å¤§ï¼Œåˆå§‹åŒ–æ—¶åº”è¯¥ å°†F [0..V ]å…¨éƒ¨è®¾ä¸º0ã€‚</span><br><span class="line"></span><br><span class="line">#### é¢˜ç›®æ€»ç»“ </span><br><span class="line">##### 1.Charm Bracelet  (poj3624)</span><br><span class="line"></span><br><span class="line">```C++</span><br><span class="line">/*</span><br><span class="line">ç¬¬ä¸€é“é¢˜å±äºä¸€ä¸ªç®€å•çš„01èƒŒåŒ…æ¨¡æ¿é¢˜ç›®ï¼Œè¿™é‡Œä¸å¤šè¯´ å¯ä»¥ç›´æ¥å¥—æ¨¡æ¿ã€‚</span><br><span class="line">*/</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int n,m;</span><br><span class="line"></span><br><span class="line">int dp[13000];</span><br><span class="line">int w[3500],v[3500];</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    while (cin &gt;&gt; n &gt;&gt; m) &#123;</span><br><span class="line">        for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">            cin &gt;&gt; w[i] &gt;&gt; v[i];</span><br><span class="line">        &#125;</span><br><span class="line">        memset(dp,0,sizeof dp);</span><br><span class="line"></span><br><span class="line">        for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">            for (int j = m; j &gt;= w[i]; j--) &#123;</span><br><span class="line">                dp[j] = max(dp[j],dp[j - w[i]] + v[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; dp[m] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h5 id="2-Bone-Collector-hdu-2602"><a href="#2-Bone-Collector-hdu-2602" class="headerlink" title="2.Bone_Collector(hdu 2602)"></a>2.Bone_Collector(hdu 2602)</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ä¸€æ®µç®€å•çš„æ¨¡æ¿é¢˜ç›®ï¼Œä¸è¿‡éœ€è¦å¼„æ¸…æ¥šçš„ ä¸€ç»´æ•°ç»„ä¸äºŒç»´æ•°ç»„åœ¨è¿™é‡Œç›¸åº”çš„åŒºåˆ«ï¼Œå¾€å¾€è¿™é‡Œä¼šäº§ç”Ÿå¾ˆå¤§çš„åŒºåˆ«ï¼Œ</span></span><br><span class="line"><span class="comment">    æ¯”å¦‚ç¬¬äºŒä¸ªå¾ªç¯çš„å¼€å§‹æ¡ä»¶ï¼Œå› ä¸ºè¿™é‡Œæ˜¯ç”±å­é—®é¢˜çš„å †ç§¯ï¼Œç„¶åä¸€ç‚¹ä¸€ç‚¹å‘ä¸Šå‡æœ€ç»ˆå¾—åˆ°çš„é—®é¢˜ï¼Œæ‰€ä»¥è¿™ææœ€å¥½æ§åˆ¶èƒŒåŒ…çš„æ”¾ä¸ä¸æ”¾çš„é—®é¢˜ã€</span></span><br><span class="line"><span class="comment">    å°±æ¯”å¦‚æˆ‘åœ¨è¿™é“é¢˜ç›®çš„ç¬¬äºŒä¸ªé—®é¢˜ä¸­å‡ºç°çš„é”™è¯¯ï¼Œå°±æ˜¯å°†j=0è¿™ä¸ªæ¡ä»¶ç›´æ¥æ è¿‡å»äº†ï¼Œå…¶å®è¿™é‡Œæ˜¯ä¸å¯¹çš„ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> weight[maxn],value[maxn],dp[maxn][maxn];</span><br><span class="line"><span class="keyword">long</span> v,w;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; w &gt;&gt; v;</span><br><span class="line">        value[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        weight[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= w; i++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; value[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= w; i++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; weight[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span> dp);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= w; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= v; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j &gt;= weight[i]) &#123;</span><br><span class="line">                    dp[i][j] = max(dp[i - <span class="number">1</span>][j],dp[i - <span class="number">1</span>][j - weight[i]] + value[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; dp[w][v] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-é¥­å¡"><a href="#3-é¥­å¡" class="headerlink" title="3.é¥­å¡"></a>3.é¥­å¡</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜ç¥å¥‡çš„åœ°æ–¹å°±åœ¨äº å…¶çš„é‡é‡é™åˆ¶äºä»·å€¼é‡åˆåœ¨äº†ä¸€èµ·ï¼Œæ‰€ä»¥å¯¹äºè¿™é“é¢˜è€Œè¨€å°±æ˜¯åªèƒ½é‡åˆçš„å»å†™çŠ¶æ€è½¬ç§»æ–¹ç¨‹äº†</span></span><br><span class="line"><span class="comment">    å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯æœ€åè¾“å‡ºç»“æœçš„åŠæ³•ï¼Œæ˜¯å°†æœ€åä¸€ä¸ªç‰©å“äº¤ç»™å‰©ä¸‹çš„æœ€å¤§çš„é’±å»è´­ä¹°ï¼Œè¿™æ ·èƒ½å½»åº•ç”¨å…‰æœ€åçš„é’±è´¢</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">int</span> num[maxn],dp[maxn][maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; n &amp;&amp; n) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; m;</span><br><span class="line">        sort(num + <span class="number">1</span>, num + <span class="number">1</span> + n);</span><br><span class="line">        <span class="keyword">if</span> (m &lt; <span class="number">5</span>) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; m &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= m - <span class="number">5</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j &gt;= num[i]) &#123;</span><br><span class="line">                    dp[i][j] = max(dp[i - <span class="number">1</span>][j],dp[i - <span class="number">1</span>][j - num[i]] + num[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; m - dp[n - <span class="number">1</span>][m - <span class="number">5</span>] - num[n] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®Œå…¨èƒŒåŒ…"><a href="#å®Œå…¨èƒŒåŒ…" class="headerlink" title="å®Œå…¨èƒŒåŒ…"></a>å®Œå…¨èƒŒåŒ…</h3><p>å®Œå…¨èƒŒåŒ…è¿™é‡Œä¸01èƒŒåŒ…ç›¸ç±»ä¼¼ï¼Œä½†æ˜¯åŒºåˆ«å°±åœ¨äºæ¯ä¸€ä¸ªç§ç±»çš„èƒŒåŒ…å¯ä»¥å–æ— æ•°ä¸ª</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ä¸€èˆ¬éƒ½æ˜¯å°†å…¶è½¬åŒ–ä¸º01èƒŒåŒ…çš„æ–¹æ³•æ±‚è§£ï¼Œç”¨ä¸€ä¸ªæ»šåŠ¨æ•°ç»„æ¥è¿›è¡Œè¡¨ç¤ºï¼Œä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…¶ä¸01èƒŒåŒ…çš„ç¬¬äºŒä¸ªå¾ªç¯ä¸åŒåœ°æ–¹</span><br><span class="line"></span><br><span class="line">å®Œå…¨èƒŒåŒ…çš„ä¼ªä»£ç ï¼š</span><br><span class="line">```py</span><br><span class="line">def CompletePack(F, C, W ) forv â†CtoV</span><br><span class="line">F[v] â†max&#123;F[v],f[vâˆ’C]+W&#125;</span><br></pre></td></tr></table></figure><h4 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h4><p>ä¸‹é¢è´´å‡ºå…³äºå®Œå…¨èƒŒåŒ…çš„é¢˜ç›®</p><h5 id="1-å‡è‚¥"><a href="#1-å‡è‚¥" class="headerlink" title="1.å‡è‚¥"></a>1.å‡è‚¥</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜ä½¿ç”¨äºŒç»´æ•°ç»„å°±ä¸€ç›´å°±ä¼šè¶…æ—¶ å…·ä½“çš„æˆ‘ä¹Ÿä¸å¤ªæ¸…æ¥šï¼Œä½†æ˜¯ æ²¡æœ‰åŠæ³• åªèƒ½ä½¿ç”¨ä¸€ç»´æ»šåŠ¨æ•°ç»„ï¼Œè¿›è¡Œäº†ç›¸åº”çš„ç©ºé—´ä¼˜åŒ– ä¸è¿‡è¿™é‡Œéœ€è¦è¡¥å……å‡ ä¸ªçŸ¥è¯†ç‚¹</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    ç¬¬ä¸€ å…³äºäºŒç»´æ•°ç»„çš„å®Œå…¨èƒŒåŒ…çŠ¶æ€è½¬ç§»æ–¹ç¨‹ dp[i][j] = max (dp[i - 1][j],dp[i - 1][j - k * c[i]] + k * v[i]);</span></span><br><span class="line"><span class="comment">    ç”±ä¸Šé¢è¿™ä¸ªå¼å­å°±å¯ä»¥å¾—å‡ºï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹  äºæ˜¯ ä¸€ç§ç©ºé—´ä¼˜åŒ–çš„å†™æ³• æ˜¯ç›´æ¥å†™æˆ max(dp[i - 1][j]ï¼Œdp[i][j - w[i]] + v[i])</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    ç¬¬äºŒ å¦‚æœæ¢æˆæ»šåŠ¨æ•°ç»„çš„è¯ è®°ä½ ç¬¬äºŒä¸ªå¾ªç¯çš„ä¸¤ä¸ªé¡ºåºï¼Œå¦‚æœæ˜¯å€’å™çš„è¯ åˆ™å°±æ˜¯è¦ä¿è¯æ¯ä¸€ä¸ªç‰©å“åªä¼šå–ä¸€æ¬¡ï¼Œä½†æ˜¯å¦‚æœæ˜¯æ­£åºçš„è¯ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦ä¿è¯ä¸Šé¢æ‰€è¯´çš„é¡ºåºäº†ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    è€Œè¿™é‡Œå®˜æ–¹çš„è§£é‡Š å°±åœ¨è¿™é‡Œ ï¼š</span></span><br><span class="line"><span class="comment">    è®© v é€’å‡æ˜¯ä¸ºäº†ä¿è¯ç¬¬iæ¬¡å¾ªç¯ä¸­çš„çŠ¶æ€F[i;v]æ˜¯ç”±çŠ¶æ€F[i-1;v-Ci]é€’æ¨è€Œæ¥ã€‚</span></span><br><span class="line"><span class="comment">    æ¢å¥è¯è¯´ï¼Œè¿™æ­£æ˜¯ä¸ºäº†ä¿è¯æ¯ä»¶ç‰©å“åªé€‰ä¸€æ¬¡ï¼Œä¿è¯åœ¨è€ƒè™‘â€œé€‰å…¥ç¬¬ i ä»¶ç‰©å“â€è¿™ä»¶ç­–</span></span><br><span class="line"><span class="comment">    ç•¥æ—¶ï¼Œä¾æ®çš„æ˜¯ä¸€ä¸ªç»æ— å·²ç»é€‰å…¥ç¬¬ i ä»¶ç‰©å“çš„å­ç»“æœF[i-1;v-Ci]ã€‚è€Œç°åœ¨å®Œå…¨èƒŒ</span></span><br><span class="line"><span class="comment">    åŒ…çš„ç‰¹ç‚¹æ°æ˜¯æ¯ç§ç‰©å“å¯é€‰æ— é™ä»¶ï¼Œæ‰€ä»¥åœ¨è€ƒè™‘â€œåŠ é€‰ä¸€ä»¶ç¬¬ i ç§ç‰©å“â€è¿™ç§ç­–ç•¥æ—¶ï¼Œ</span></span><br><span class="line"><span class="comment">    å´æ­£éœ€è¦ä¸€ä¸ªå¯èƒ½å·²é€‰å…¥ç¬¬ i ç§ç‰©å“çš„å­ç»“æœF[i;v-Ci]ï¼Œæ‰€ä»¥å°±å¯ä»¥å¹¶ä¸”å¿…é¡»é‡‡ç”¨v</span></span><br><span class="line"><span class="comment">    é€’å¢çš„é¡ºåºå¾ªç¯ã€‚è¿™å°±æ˜¯è¿™ä¸ªç®€å•çš„ç¨‹åºä¸ºä½•æˆç«‹çš„é“ç†ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, a, b, m;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">110</span>;</span><br><span class="line"><span class="keyword">int</span> happiness[maxn], kaluli[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">110000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n))</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;happiness[i],&amp;kaluli[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = kaluli[i]; j &lt;= m; j++) &#123;</span><br><span class="line">                dp[j] = max(dp[j],dp[j - kaluli[i]] + happiness[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[m]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-Dollar-Dayz"><a href="#2-Dollar-Dayz" class="headerlink" title="2.Dollar Dayz"></a>2.Dollar Dayz</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> n,k;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) &#123;</span><br><span class="line">            BigInteger[] dp = <span class="keyword">new</span> BigInteger[<span class="number">1005</span>];</span><br><span class="line">            n = in.nextInt();</span><br><span class="line">            k = in.nextInt();</span><br><span class="line">            dp[<span class="number">0</span>] = <span class="keyword">new</span> BigInteger(<span class="string">"1"</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">                dp[i] = <span class="keyword">new</span> BigInteger(<span class="string">"0"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt;= n; j++) &#123;</span><br><span class="line">                    dp[j] = dp[j].add(dp[j - i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">           System.out.println(dp[n]); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-Piggy-Bank"><a href="#3-Piggy-Bank" class="headerlink" title="3.Piggy-Bank"></a>3.Piggy-Bank</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜æ˜¯ä¸€ä¸ªå®Œå…¨èƒŒåŒ…çš„è£¸é¢˜ï¼Œå¯¹äºè¿™é“é¢˜è€Œè¨€æ›´åŠ ç¥å¥‡çš„åœ°æ–¹å°±åœ¨äºå…¶å®æ±‚æœ€å°å€¼è€Œä¸æ˜¯æ±‚æœ€å¤§å€¼</span></span><br><span class="line"><span class="comment">    æ‰€ä»¥åœ¨æœ€å…ˆå¼€å§‹åˆå§‹åŒ–çš„æ—¶å€™ä¸åº”è¯¥å»åˆå§‹åŒ–ä¸º0ï¼Œè€Œåº”è¯¥åˆå§‹åŒ–ä¸ºæ— ç©·å¤§</span></span><br><span class="line"><span class="comment">    è€Œåƒä¸‡ä¸è¦å¿˜è®°äº†å†åˆå§‹åŒ–çš„æ—¶å€™ä¸€å®šè¦å¯¹ç¬¬ä¸€ä¸ªçŠ¶æ€è¿›è¡Œä¸€ä¸ªå•ç‹¬èµ‹å€¼æ˜¯ç­‰äº0ï¼Œè¿˜æ˜¯ç­‰äºæ— ç©·å¤§ï¼Œè¿™ä¸ªç­‰åˆ°æ—¶å€™å†çœ‹ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> _beg,_end;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">505</span>;</span><br><span class="line"><span class="keyword">int</span> v[maxn],w[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">10010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span> (T--) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;_beg,&amp;_end);</span><br><span class="line">        <span class="keyword">int</span> bottle = _end - _beg;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;v[i],&amp;w[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0x3f3f3f3f</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n;i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = w[i]; j &lt;= bottle; j++) &#123;</span><br><span class="line">                dp[j] = min(dp[j],dp[j - w[i]] + v[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (dp[bottle] != <span class="number">0x3f3f3f3f</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"The minimum amount of money in the piggy-bank is "</span> &lt;&lt; dp[bottle] &lt;&lt; <span class="string">"."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"This is impossible."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤šé‡èƒŒåŒ…"><a href="#å¤šé‡èƒŒåŒ…" class="headerlink" title="å¤šé‡èƒŒåŒ…"></a>å¤šé‡èƒŒåŒ…</h3><p>å¤šé‡èƒŒåŒ…ä¸å®Œå…¨èƒŒåŒ…æœ€å¤§çš„ä¸åŒå°±æ˜¯åœ¨äºï¼Œå®Œå…¨èƒŒåŒ…å…¶çš„æ¯ä¸€ä¸ªèƒŒåŒ…å–å€¼å¯ä»¥å–æ— æ•°ä¸ªï¼ˆç›¸å¯¹äºèƒŒåŒ…å®¹é‡è€Œè¨€ï¼‰<br>è€Œå¤šé‡èƒŒåŒ…çš„æ„æ€å°±æ˜¯ç›¸å¯¹äºèƒŒåŒ…å®¹é‡è€Œè¨€ å–ä¸æ»¡ï¼Œåœ¨å–ä¸æ»¡çš„åŒæ—¶è¿˜èƒ½å¤Ÿå†åŠ å…¥å…¶çš„èƒŒåŒ…ï¼Œæ•…ï¼Œè¿™é‡Œå°±ä¸ºå¤šé‡èƒŒåŒ…</p><h4 id="æ¨¡æ¿ä»£ç "><a href="#æ¨¡æ¿ä»£ç " class="headerlink" title="æ¨¡æ¿ä»£ç "></a>æ¨¡æ¿ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100005</span>;</span><br><span class="line"><span class="comment">//ä¸‰ä¸ªå±æ€§å€¼ ä¸€ä¸ªé‡é‡ æ•°é‡ ä»¥åŠä»·å€¼</span></span><br><span class="line"><span class="keyword">int</span> weight[maxn],number[maxn],value[maxn];</span><br><span class="line"><span class="comment">//çŠ¶æ€å­˜å‚¨</span></span><br><span class="line"><span class="keyword">int</span> dp[maxn &lt;&lt; <span class="number">4</span>];</span><br><span class="line"><span class="comment">//èƒŒåŒ…çš„å®¹é‡</span></span><br><span class="line"><span class="keyword">int</span> bag; </span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="comment">//01èƒŒåŒ… </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zeroonepack</span><span class="params">(<span class="keyword">int</span> weight,<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = bag; j &gt;= weight; j--) &#123;</span><br><span class="line">        dp[j] = max(dp[j],dp[j - weight] + value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®Œå…¨èƒŒåŒ…</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">completepack</span><span class="params">(<span class="keyword">int</span> weight,<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = weight; j &lt;= bag; j++) &#123;</span><br><span class="line">        dp[j] = max(dp[j],dp[j - weight] + value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¤šé‡èƒŒåŒ…</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">multilpack</span><span class="params">(<span class="keyword">int</span> weight,<span class="keyword">int</span> number,<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//ç¬¬ä¸€ç§æƒ…å†µå°±æ˜¯ å¦‚æœè¿™ä»¶ç‰©å“æ‰€æœ‰çš„é‡é‡æ˜¯å°äºèƒŒåŒ…çš„é‡é‡çš„è¯</span></span><br><span class="line">    <span class="comment">//é‚£ä¹ˆå¯¹äºèƒŒåŒ…è€Œè¨€ è¿™ä¸ªç‰©å“æ˜¯å¯ä»¥å–æ— é™å¤§ã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (bag &lt;= number * weight) &#123;</span><br><span class="line">        completepack(weight,value);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è€Œè¶…è¿‡çš„è¿™ä¸ªèŒƒå›´çš„å°±åªèƒ½ä½¿ç”¨01èƒŒåŒ… ç„¶åä½¿ç”¨äºŒè¿›åˆ¶çš„æ–¹æ³•</span></span><br><span class="line">    <span class="comment">//å°†æ¯ä¸€ç±»å‹çš„èƒŒåŒ…è¿›è¡Œä¸€ä¸ªåˆ†ç»„</span></span><br><span class="line">    <span class="comment">//åé¢å†ä¾æ¬¡åˆ†åˆ«ä½¿ç”¨å¤šé‡èƒŒåŒ…ã€‚</span></span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (k &lt;= number) &#123;</span><br><span class="line">        zeroonepack(k * weight,k * value);</span><br><span class="line">        number = number - k;</span><br><span class="line">        k = k * <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    zeroonepack(number * weight, number * value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; bag &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ;i ++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; weight[i] &gt;&gt; number[i] &gt;&gt; value[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ;i ++) &#123;</span><br><span class="line">        multilpack(weight[i],number[i],value[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; dp[bag] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç›¸åº”é¢˜ç›®æ€»ç»“"><a href="#ç›¸åº”é¢˜ç›®æ€»ç»“" class="headerlink" title="ç›¸åº”é¢˜ç›®æ€»ç»“"></a>ç›¸åº”é¢˜ç›®æ€»ç»“</h4><h5 id="1-Space-Elevator"><a href="#1-Space-Elevator" class="headerlink" title="1. Space Elevator"></a>1. Space Elevator</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ä¸€é“å¤šé‡èƒŒåŒ…çš„è£¸é¢˜ç›®ï¼Œè¿™é“é¢˜è™½ç„¶å¹¶æ²¡æœ‰å»å¥—ç”¨å¤šé‡èƒŒåŒ…çš„è£¸æ¨¡æ¿ï¼Œä½†æ˜¯è¿™é“é¢˜ç¥å¥‡çš„åœ°æ–¹å°±åœ¨äºå…¶å¯¹äº</span></span><br><span class="line"><span class="comment">    èƒŒåŒ…çš„æ•°é‡è¿›è¡Œäº†å†ä¸€æ¬¡çš„å¾ªç¯ï¼Œç„¶åå†æ¥çœ‹çœ‹æœ‰æ²¡æœ‰ç¬¦åˆçš„ç‰¹ç‚¹ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    ç„¶åå…¶çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¹Ÿæ˜¯ç‰¹åˆ«çš„æœ‰æ„æ€ï¼š</span></span><br><span class="line"><span class="comment">    dp[k] |= dp[k - node[i].h]</span></span><br><span class="line"><span class="comment">    ä¸è¿‡è¿™ä¸ª |= åˆ°åé¢å»å®˜ç½‘æŸ¥è¯¢ä¸€ä¸‹æœ€åçš„ç»“æœçš„æ„æ€.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> h,a,c;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> Node &amp;n) <span class="keyword">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a &lt; n.a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;node[<span class="number">450</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">40050</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> K;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; K) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= K; i++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; node[i].h &gt;&gt; node[i].a &gt;&gt; node[i].c;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        sort(node + <span class="number">1</span>, node + <span class="number">1</span> + K);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= K ;i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= node[i].c; j++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = node[i].a; k &gt;= node[i].h; k-- )&#123;</span><br><span class="line">                    dp[k] |= dp[k - node[i].h];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = node[K].a; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (dp[i]) &#123;</span><br><span class="line">                cnt = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; cnt &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-Coins"><a href="#2-Coins" class="headerlink" title="2. Coins"></a>2. Coins</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜ç¥å¥‡çš„åœ°æ–¹å°±æ˜¯å°†å¤šé‡èƒŒåŒ…çš„è£¸é¢˜è¿›è¡Œäº†æ”¹å˜ï¼Œ</span></span><br><span class="line"><span class="comment">    ä¸»è¦å°±æ˜¯æ¯ä¸€æ¬¡å¢åŠ çš„ä»·å€¼ä¼šå‘ç”Ÿæ”¹å˜ï¼Œè¿™æ‰æ˜¯æœ€å…³é”®çš„åœ°æ–¹ã€‚</span></span><br><span class="line"><span class="comment">    è¿™é‡Œçš„ä»·å€¼å°±ä¸å†æ˜¯ä¸ªæ•°ï¼Œè€Œæ˜¯è¿›è¡Œä¸€ä¸ªæ‰“è¡¨ï¼Œé€šè¿‡è¿™ä¸ªæ‰“è¡¨æ¥åˆ¤æ–­è¿™ä¸ªé‡é‡æ˜¯å¦èƒ½å¤Ÿè¾¾åˆ°ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> bag;</span><br><span class="line"><span class="keyword">bool</span> dp[<span class="number">100040</span>];</span><br><span class="line"><span class="keyword">int</span> value[<span class="number">105</span>],number[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zeroonepack</span><span class="params">(<span class="keyword">int</span> weight, <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = bag; j &gt;= weight; j--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!dp[j] &amp;&amp; dp[j - weight])&#123;</span><br><span class="line">            dp[j] = <span class="literal">true</span>;</span><br><span class="line">            cnt ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®Œå…¨èƒŒåŒ…</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">completepack</span><span class="params">(<span class="keyword">int</span> weight, <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = weight; j &lt;= bag; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!dp[j] &amp;&amp; dp[j - weight]) &#123;</span><br><span class="line">            dp[j] = <span class="literal">true</span>;</span><br><span class="line">            cnt ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¤šé‡èƒŒåŒ…</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">multilpack</span><span class="params">(<span class="keyword">int</span> weight, <span class="keyword">int</span> number, <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ç¬¬ä¸€ç§æƒ…å†µå°±æ˜¯ å¦‚æœè¿™ä»¶ç‰©å“æ‰€æœ‰çš„é‡é‡æ˜¯å°äºèƒŒåŒ…çš„é‡é‡çš„è¯</span></span><br><span class="line">    <span class="comment">//é‚£ä¹ˆå¯¹äºèƒŒåŒ…è€Œè¨€ è¿™ä¸ªç‰©å“æ˜¯å¯ä»¥å–æ— é™å¤§ã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (bag &lt;= number * weight)</span><br><span class="line">    &#123;</span><br><span class="line">        completepack(weight, value);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è€Œè¶…è¿‡çš„è¿™ä¸ªèŒƒå›´çš„å°±åªèƒ½ä½¿ç”¨01èƒŒåŒ… ç„¶åä½¿ç”¨äºŒè¿›åˆ¶çš„æ–¹æ³•</span></span><br><span class="line">    <span class="comment">//å°†æ¯ä¸€ç±»å‹çš„èƒŒåŒ…è¿›è¡Œä¸€ä¸ªåˆ†ç»„</span></span><br><span class="line">    <span class="comment">//åé¢å†ä¾æ¬¡åˆ†åˆ«ä½¿ç”¨å¤šé‡èƒŒåŒ…ã€‚</span></span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (k &lt; number)</span><br><span class="line">    &#123;</span><br><span class="line">        zeroonepack(k * weight, k * value);</span><br><span class="line">        number = number - k;</span><br><span class="line">        k = k * <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    zeroonepack(number * weight, number * value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; bag &amp;&amp; n &amp;&amp; bag) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; value[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n;i ++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; number[i];</span><br><span class="line">        &#125;</span><br><span class="line">        cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ;i ++) &#123;</span><br><span class="line">            multilpack(value[i],number[i],value[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; cnt &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ··åˆèƒŒåŒ…"><a href="#æ··åˆèƒŒåŒ…" class="headerlink" title="æ··åˆèƒŒåŒ…"></a>æ··åˆèƒŒåŒ…</h3><p>å°†01èƒŒåŒ… å®Œå…¨èƒŒåŒ… å¤šé‡èƒŒåŒ…çš„ä¸‰ç§èƒŒåŒ… è¿›è¡Œä¸€ä¸ªæ··åˆ<br>æœ€ç®€å•çš„è§£å†³æ–¹æ³•å°±æ˜¯å°†å…¶åˆ†å¼€è¿›è¡Œæ¥ç®—</p><p>ä¸¾ä¸ªä¾‹å­ å°±æ˜¯ ä¸€é“é¢˜å¯èƒ½æœ‰å¤šä¸ªèƒŒåŒ…ï¼Œé€šè¿‡è¿™å¤šä¸ªèƒŒåŒ…æ¥è¿›è¡Œåˆ¤æ–­é¢˜ç›®ä¸­æ‰€è¦æ±‚è§£çš„å€¼ã€‚</p><h4 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h4><h5 id="1-Fewest-coins"><a href="#1-Fewest-coins" class="headerlink" title="1.Fewest coins"></a>1.Fewest coins</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™é“é¢˜ç›®ç¥å¥‡çš„åœ°æ–¹ æ˜¯ä¸¤ä¸ªèƒŒåŒ…çš„é—®é¢˜ çš„æ€»å’Œï¼Œå…¶å®ä¹Ÿç®—ä½œæ˜¯ä¸€ä¸ªç®€å•çš„é¢˜ç›®ï¼Œä½†æ˜¯ è¿™é“é¢˜å”¯ä¸€å¤æ‚çš„åœ°æ–¹å°±åœ¨äºå¯¹äºèƒŒåŒ…é—®é¢˜çš„ç†è§£</span></span><br><span class="line"><span class="comment">    æ„æ€å°±æ˜¯å¦‚ä½•å°†ä¸€ä¸ªçœ‹ä¸Šå»ä¸æ˜¯èƒŒåŒ…çš„é—®é¢˜è½¬æ¢æˆä¸€ä¸ªèƒŒåŒ…é—®é¢˜ </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    é¦–å…ˆçš„æ€è·¯å°±æ˜¯æ¥åˆ¤æ–­æ˜¯ä¸€ä¸ªä»€ä¹ˆç±»å‹çš„èƒŒåŒ…</span></span><br><span class="line"><span class="comment">    æ˜ å°„åˆ°è¿™é“é¢˜ä¸Šé¢å¯ä»¥å‘ç° å‰é¢ä»˜é’±çš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªå¤šé‡èƒŒåŒ… åé¢ä»˜é’±çš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªå®Œå…¨èƒŒåŒ…</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    ä¸è¿‡æ·±å…¥ç†è§£äº†å¡å…¥ çŠ¶æ€æ–¹ç¨‹ </span></span><br><span class="line"><span class="comment">    ç¬¬ä¸€æ¬¡åœ¨ä»·å€¼é‚£ä¸ªåœ°æ–¹å‡ºç°äº†é”™è¯¯ã€‚ æœ€ç»ˆçš„ä»·å€¼ä¸åº”è¯¥æ˜¯ç›¸æ¯”æ€»æ˜¯çš„é’±æ•°ï¼Œè€Œåº”è¯¥æ˜¯æœ€å°èƒ½å¤Ÿè¾¾åˆ°çš„èƒŒåŒ…æ•°ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">30005</span>;</span><br><span class="line"><span class="keyword">int</span> dp[maxn],back[maxn];</span><br><span class="line"><span class="keyword">int</span> value[<span class="number">105</span>],number[<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> bag;</span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zeroonepack</span><span class="params">(<span class="keyword">int</span> weight,<span class="keyword">int</span> value)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = bag ; j &gt;= weight; j--) &#123;</span><br><span class="line">        dp[j] = min(dp[j],dp[j - weight] + value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">completepack</span><span class="params">(<span class="keyword">int</span> weight,<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = weight; j &lt;= bag; j++) &#123;</span><br><span class="line">        dp[j] = min(dp[j],dp[j - weight] + value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mutipack</span><span class="params">(<span class="keyword">int</span> weight,<span class="keyword">int</span> value,<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (number * weight &gt;= bag) &#123;</span><br><span class="line">        completepack(weight,value);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (k &lt; number) &#123;</span><br><span class="line">        zeroonepack(k * weight,k * value);</span><br><span class="line">        number = number - k;</span><br><span class="line">        k *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    zeroonepack(number * weight , number * value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; k) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; value[i] ;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; number[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0x3f3f3f3f</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">        <span class="built_in">memset</span>(back,<span class="number">0x3f3f3f3f</span>,<span class="keyword">sizeof</span> back);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        back[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        bag = k + <span class="number">20000</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = value[i]; j &lt;= bag; j++) &#123;</span><br><span class="line">                back[j] = min(back[j],back[j - value[i]] + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            mutipack(value[i],<span class="number">1</span>,number[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= bag; i++) &#123;</span><br><span class="line">            ans = min(ans,back[i - k] + dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (ans == <span class="number">0x3f3f3f3f</span>) <span class="built_in">cout</span> &lt;&lt; <span class="number">-1</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="acm" scheme="http://wsx1128.xyz/tags/acm/"/>
    
      <category term="èƒŒåŒ…ä¹è®²" scheme="http://wsx1128.xyz/tags/%E8%83%8C%E5%8C%85%E4%B9%9D%E8%AE%B2/"/>
    
      <category term="åŠ¨æ€è§„åˆ’" scheme="http://wsx1128.xyz/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>effective java item 6</title>
    <link href="http://wsx1128.xyz/2019/03/28/effective-java-item-6/"/>
    <id>http://wsx1128.xyz/2019/03/28/effective-java-item-6/</id>
    <published>2019-03-28T12:41:52.000Z</published>
    <updated>2019-03-28T13:43:08.059Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Item-6-Avoid-creating-unnecessary-objects"><a href="#Item-6-Avoid-creating-unnecessary-objects" class="headerlink" title="Item 6: Avoid creating unnecessary objects"></a>Item 6: Avoid creating unnecessary objects</h2><blockquote><p>It is often appropriate to reuse a single object instead of creating a new function- ally equivalent object each time it is needed. Reuse can be both faster and more stylish. An object can always be reused if it is immutable</p></blockquote><p>å»åå¤çš„ä½¿ç”¨ä¸€ä¸ªå•ä¸€çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å†æ¬¡åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡å†éœ€è¦çš„æ—¶å€™è¿™æ ·çš„åšæ³•æ˜¯éå¸¸åˆé€‚çš„ã€‚é‡å¤ä½¿ç”¨å¯ä»¥åŒæ—¶å¾ˆå¿«æœ‰ç¬¦åˆç°ä»£è§„åˆ™ã€‚ç„¶åä¸€ä¸ªå¯¹è±¡å¯ä»¥è¢«æ€»æ˜¯åå¤ä½¿ç”¨å¦‚æœå…¶æ˜¯ä¸å˜çš„è¯ã€‚</p><p>ä¸‹é¢æœ‰ä¸€ä¸ªåŸºæœ¬ç®€å•çš„ä¾‹å­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="keyword">new</span> String(<span class="string">"bikini"</span>);  <span class="comment">// DON'T DO THIS!</span></span><br><span class="line">String s = <span class="string">"bikini"</span>;</span><br></pre></td></tr></table></figure><p>å‰è€…æ˜¯ä¸å¯ä»¥é‡‡å–çš„ï¼Œå› ä¸ºå…¶æ–°å»ºäº†ä¸¤ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”ç¬¬äºŒä¸ªæ–°å»ºçš„å¯¹è±¡ç›´æ¥èµ‹å€¼ç»™ç¬¬ä¸€ä¸ªæ–°å»ºçš„å¯¹è±¡ï¼Œè€Œåè€…å¯å–çš„åœ°æ–¹å°±åœ¨äºå…¶ç›´æ¥èµ‹å€¼ç»™äº†ç¬¬ä¸€ä¸ªå¯¹è±¡ï¼Œä¸å­˜åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</p><blockquote><p>You can often avoid creating unnecessary objects by using static factory meth- ods (Item 1) in preference to constructors on immutable classes that provide both.</p></blockquote><p>ä½ å¯ä»¥ç»å¸¸é€šè¿‡ç”¨é™æ€çš„å·¥å‚æ–¹æ³•ç¦æ­¢åˆ›å»ºä¸€ä¸ªä¸å¿…è¦çš„å¯¹è±¡è€Œä¸æ˜¯ä½¿ç”¨ä¸ä¼šæ”¹å˜çš„ç±»æˆ–è€…æ˜¯ä¸€ä¸ªæ„é€ å™¨ã€‚</p><blockquote><p>For example, the factory method Boolean.valueOf(String) is preferable to the constructor Boolean(String), which was deprecated in Java 9. The constructor must create a new object each time itâ€™s called, while the factory method is never required to do so and wonâ€™t in practice.</p></blockquote><p>è¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼Œå·¥å‚æ–¹æ³•å°±åƒä¸Šé¢æä¾›çš„ç›¸æ¯”äºå…¶çš„æ„é€ å‡½æ•°è€Œè¨€ï¼Œä¸éœ€è¦å†æ¯æ¬¡è°ƒç”¨çš„æ—¶å€™æ„å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œä¸”å¦‚æœåå¤åˆ©ç”¨çš„æ˜¯ä¸€ä¸ªä¸å˜çš„å¯¹è±¡çš„è¯ï¼Œä½ å¯ä»¥ä¿è¯çš„æ˜¯ï¼Œæ‰¾ä¸ªå¯¹è±¡æ°¸è¿œéƒ½ä¸ä¼šæ”¹å˜ã€‚</p><blockquote><p>Unfortunately, itâ€™s not always obvious when youâ€™re creating such an object. Suppose you want to write a method to determine whether a string is a valid Roman numeral. Hereâ€™s the easiest way to do this using a regular expression</p></blockquote><p>ä¸å¹¸çš„æ˜¯ï¼Œå½“ä½ åˆ›å»ºä¸€ä¸ªè¿™æ ·çš„å¯¹è±¡çš„æ—¶å€™ä¸æ€»æ˜¯é‚£ä¹ˆçš„æ˜æ˜¾ï¼Œå‡è®¾ä½ æƒ³è¦å†™ä¸€ä¸ªæ–¹æ³•å»åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯ç½—é©¬æ•°å­—ï¼Œä¸‹é¢æœ‰ä¸€ä¸ªç®€å•çš„åŠæ³•æ¥è¿›è¡Œåˆ¤æ–­ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Performance can be greatly improved! </span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isRomanNumeral</span><span class="params">(String s)</span> </span>&#123; </span><br><span class="line">    <span class="keyword">return</span> s.matches(<span class="string">"^(?=.)M*(C[MD]|D?C&#123;0,3&#125;)"</span> + <span class="string">"(X[CL]|L?X&#123;0,3&#125;)(I[XV]|V?I&#123;0,3&#125;)$"</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>While String.matches is the easiest way to check if a string matches a regular expression, itâ€™s not suitable for repeated use in performance-critical situations.</p></blockquote><p>è¿™é€šå¸¸æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„æ–¹æ³•å»åˆ¤æ–­æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²å»åŒ…å«å¸¸è§„çš„è¯­æ³•æ“ä½œï¼Œç„¶è€Œå…¶å¹¶ä¸é€‚åˆå¤šæ¬¡ä½¿ç”¨å³å¤šæ¬¡è°ƒç”¨çš„åœºæ™¯ä¸‹é¢ã€‚</p><blockquote><p>The problem is that it internally creates a Pattern instance for the regular expression and uses it only once, after which it becomes eligible for garbage collection. Creating a Pattern instance is expensive because it requires compiling the regular expression into a finite state machine.</p></blockquote><p>è€Œè¿™ä¸ªçš„é—®é¢˜å°±åœ¨äºå…¶åˆ›å»ºäº†ä¸€ä¸ªPatternçš„å®ä¾‹ç»™ç›¸åº”çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè€Œä¸”ä»…ä»…åªæ˜¯ä½¿ç”¨äº†ä¸€æ¬¡ï¼Œç„¶åå°±ç›´æ¥è¢«javaåƒåœ¾å›æ”¶å™¨ç»™å›æ”¶äº†ï¼Œè€Œåˆ›å»ºä¸€ä¸ªPatternçš„å®ä¾‹çš„ä»£ä»·æ˜¯éå¸¸æ˜‚è´µçš„ï¼Œå› ä¸ºå…¶éœ€è¦compilingè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼åˆ°ç›¸åº”çš„æœºå™¨é‡Œé¢å»ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Reusing expensive object for improved performance </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RomanNumerals</span> </span>&#123; </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Pattern ROMAN = Pattern.compile( <span class="string">"^(?=.)M*(C[MD]|D?C&#123;0,3&#125;)"</span> + <span class="string">"(X[CL]|L?X&#123;0,3&#125;)(I[XV]|V?I&#123;0,3&#125;)$"</span>); </span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isRomanNumeral</span><span class="params">(String s)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> ROMAN.matcher(s).matches(); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>If the class containing the improved version of the isRomanNumeral method is initialized but the method is never invoked, the field ROMAN will be initialized needlessly. It would be possible to eliminate the initialization by lazily initializing the field (Item 83) the first time the isRomanNumeral method is invoked, but this is not recommended. As is often the case with lazy initialization, it would compli- cate the implementation with no measurable performance improvement (Item 67).</p></blockquote><p>è¿˜æœ‰ä¸€ç§ä¼˜åŒ–çš„æ–¹æ¡ˆå°±åœ¨äºï¼Œå¦‚æœä¸Šé¢è¿™ä¸ªç±»æ°¸è¿œéƒ½æ²¡æœ‰è¢«è°ƒç”¨çš„è¯ï¼Œé‚£ä¹ˆä¸Šé¢ç›´æ¥è®¾ç½®æˆé™æ€çš„æˆå‘˜å˜é‡å°±ä¼šå‡ºç°æ„é€ å¯¹è±¡çš„æµªè´¹ï¼Œæ„æ€å°±æ˜¯å¦‚æœæ²¡æœ‰è¢«è°ƒç”¨å°±ä¼šæœ‰æµªè´¹ï¼Œäºæ˜¯æœ‰ä¸€ç§æ–¹æ³•å°±æ˜¯æŒ‰ç…§ä¹‹å‰çš„å•å®ä¾‹åŒ–ç±»é‚£æ ·ï¼Œåœ¨æ„é€ å‡½æ•°é‡Œé¢åŠ ä¸Šï¼Œå¦‚æœè¢«è°ƒç”¨äº†ï¼Œé‚£ä¹ˆå°±ä¼šåˆ›å»ºä¸€ä¸ªfinalçš„å¯¹è±¡ã€‚</p><blockquote><p>Another way to create unnecessary objects is autoboxing, which allows the programmer to mix primitive and boxed primitive types, boxing and unboxing automatically as needed. Autoboxing blurs but does not erase the distinction between primitive and boxed primitive types.</p></blockquote><p>è¿˜å­˜åœ¨ä¸€ç§æ–¹å¼å»åˆ›å»ºä¸€äº›ä¸å¿…è¦çš„å¯¹è±¡ï¼Œå°±æ˜¯è‡ªåŠ¨æ‰“åŒ…è¡Œä¸ºï¼Œå°±æ˜¯å°†åŸç”Ÿçš„ç±»å‹ï¼Œè‡ªåŠ¨æ‰“åŒ…æˆäº†å°è£…ç±»å‹ï¼Œè¿™æ ·ä¹Ÿä¼šé€ æˆè®¸å¤šä¸éœ€è¦çš„å¯¹è±¡ï¼Œæœ‰äº›å¯¹è±¡ä»…ä»…åªæ˜¯ä½¿ç”¨äº†ä¸€æ¬¡ã€‚å°±åƒä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Hideously slow! Can you spot the object creation? </span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">sum</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    Long sum = <span class="number">0L</span>; </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">long</span> i = <span class="number">0</span>; i &lt;= Integer.MAX_VALUE; i++) </span><br><span class="line">        sum += i; </span><br><span class="line">    <span class="keyword">return</span> sum; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢çš„è¿™ä¸ªä¾‹å­å°±æ˜¯åœ¨åŠ æ³•çš„æ—¶å€™ä½¿longçš„ç±»å‹è‡ªåŠ¨åŒ…è£…æˆä¸€ä¸ªLongç±»å‹ï¼Œè¿™æ ·åˆ™é€ æˆäº†å¾ˆå¤šä¸å¿…è¦çš„å¼€é”€ã€‚</p><blockquote><p>The present item says, â€œDonâ€™t create a new object when you should reuse an existing one,â€while Item 50 says, â€œDonâ€™t reuse an existing object when you should create a new one.â€ Note that the penalty for reusing an object when defensive copying is called for is far greater than the penalty for needlessly creating a duplicate object. Failing to make defensive copies where required can lead to insidious bugs and security holes; creating objects unnecessarily merely affects style and performance.</p></blockquote><p>æ€»è€Œè¨€ä¹‹ï¼Œå½“ä½ å¯ä»¥å¹¶ä¸”åº”è¯¥é‡å¤åˆ©ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œä¸è¦é‡å¤åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œç¬¬äº”åæ¡æé†’çš„æ˜¯ å½“ä½ éœ€è¦ä¸€ä¸ªæ–°çš„å¯¹è±¡çš„æ—¶å€™ä¸è¦å»é‡å¤å¼•ç”¨ä¸€ä¸ªå­˜åœ¨çš„æ—§å¯¹è±¡ã€‚è®°ä½ä¸€äº›ä¿æŠ¤æ€§è´¨copyå®é™…ä¸Šæ˜¯å¹¶ä¸å¯å–çš„ï¼Œè¿™ä¸ªåœ¨åé¢ä¼šæ¶‰åŠåˆ°ï¼Œå…¶å®è¿™é‡Œä¸C++é‡Œé¢çš„çŸ¥è¯†æœ‰ç‚¹å»åˆï¼Œå…³äºå·¦å€¼å¼•ç”¨ä¸å³å€¼å¼•ç”¨çš„çŸ¥è¯†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="java" scheme="http://wsx1128.xyz/categories/java/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="java" scheme="http://wsx1128.xyz/tags/java/"/>
    
      <category term="effective_java" scheme="http://wsx1128.xyz/tags/effective-java/"/>
    
  </entry>
  
  <entry>
    <title>effective java item 5</title>
    <link href="http://wsx1128.xyz/2019/03/26/effective-java-item-5/"/>
    <id>http://wsx1128.xyz/2019/03/26/effective-java-item-5/</id>
    <published>2019-03-26T13:20:33.000Z</published>
    <updated>2019-03-26T13:45:50.467Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Item-5-Prefer-dependency-injection-to-hardwiring-resources"><a href="#Item-5-Prefer-dependency-injection-to-hardwiring-resources" class="headerlink" title="Item 5: Prefer dependency injection to hardwiring resources"></a>Item 5: Prefer dependency injection to hardwiring resources</h3><blockquote><p>Many classes depend on one or more underlying resources. For example, a spell checker depends on a dictionary. It is not uncommon to see such classes imple- mented as static utility classes (Item 4):</p></blockquote><p>æœ‰ä¸€äº›ç±»ä¾èµ–ä¸€äº›æ½œåœ¨çš„èµ„æºï¼Œå°±åƒä¸€ä¸ªå­—ç¬¦ä¸²æ£€æŸ¥å™¨ ä¾é å­—å…¸ï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸æ˜¯å¾ˆç‰¹æ®Šè§åˆ°ä¸€äº›ç±»è¢«ç¿»è¯‘æˆé™æ€çš„å·¥å…·ç±»ã€‚</p><blockquote><p>Similarly, itâ€™s not uncommon to see them implemented as singletons (Item 3):</p></blockquote><p>å°±åƒä¸€äº›ç±»ç›´æ¥è¢«ç¿»è¯‘æˆå•ä¸€å®ä¾‹ç±»ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Inappropriate use of singleton - inflexible &amp; untestable! </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpellChecker</span> </span>&#123; </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Lexicon dictionary = ...; </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">SpellChecker</span><span class="params">(...)</span> </span>&#123;&#125; </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> INSTANCE = <span class="keyword">new</span> SpellChecker(...); </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String word)</span> </span>&#123; ... &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">suggestions</span><span class="params">(String typo)</span> </span>&#123; ... &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Static utility classes and singletons are inappropriate for classes whose behavior is parameterized by an underlying resource.</p></blockquote><p>é™æ€çš„å·¥å…·ç±»å’Œå•ä¸€å®ä½“ç±»ï¼Œä¼šåœ¨å­˜åœ¨å¤šç§å‚æ•°æ›¿æ¢ç»™åŸºç¡€èµ„æºï¼Œï¼ˆå°±åƒä¸Šé¢çš„æ£€æŸ¥å™¨æœ‰å¤šç§ç‰ˆæœ¬çš„å­—å…¸èµ„æºä¸€æ ·ï¼‰ï¼Œé‚£ä¹ˆè¿™äº›ç±»å°±ä¼šå˜å¾—ç‰¹åˆ«ä¸åˆé€‚ã€‚</p><blockquote><p>A simple pattern that satisfies this requirement is to pass the resource into the constructor when creating a new instance. This is one form of dependency injection: the dictionary is a dependency of the spell checker and is injected into the spell checker when it is created.</p></blockquote><p>åªæœ‰ä¸€ç§åŠæ³•å°±æ˜¯åœ¨æ„å»ºçš„æ—¶å€™ æ„å»ºå‡½æ•°é‡Œé¢ç›´æ¥ç»™äºˆç›¸åº”çš„æ„é€ å™¨ï¼Œè¿™æ ·æ—¢ç»´æŠ¤äº†å•å®ä¾‹åŒ–ï¼Œåˆè§£å†³äº†ä¸Šé¢å¤šç‰ˆæœ¬çš„é—®é¢˜ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Dependency injection provides flexibility and testability </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpellChecker</span> </span>&#123; </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Lexicon dictionary; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SpellChecker</span><span class="params">(Lexicon dictionary)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.dictionary = Objects.requireNonNull(dictionary);</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String word)</span> </span>&#123; ... &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">suggestions</span><span class="params">(String typo)</span> </span>&#123; ... &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>In summary, do not use a singleton or static utility class to implement a class that depends on one or more underlying resources whose behavior affects that of the class, and do not have the class create these resources directly. Instead, pass the resources, or factories to create them, into the constructor (or static factory or builder). This practice, known as dependency injection, will greatly enhance the flexibility, reusability, and testability of a class.</p></blockquote><p>æ€»è€Œè¨€ä¹‹ï¼Œä¸è¦åœ¨å®ç°ä¸€ä¸ªé™æ€å·¥å…·ç±»æˆ–è€…ä¸€ä¸ªå•å®ä¾‹ç±»çš„æ—¶å€™çš„åŒæ—¶å»å®ç°ä¸€ä¸ªå¤šä¸ªèµ„æºæ›¿æ¢çš„ç±»ï¼Œè¿™æ ·ä¼šå½±å“å…¶ä»–çš„ç±»ï¼Œå¹¶ä¸”è¿èƒŒäº†è¿™ä¸ªç±»æœ€å…ˆå¼€å§‹çš„æœ¬æ„ï¼Œå¥½çš„è§£å†³åŠæ³•å°±æ˜¯åœ¨ç±»çš„æ„é€ å‡½æ•°é‡Œé¢åŠ ä¸Šè¯¥èµ„æºæˆ–è€…å¸¦ä¸Šè¯¥å·¥å‚æ–¹æ³•ã€‚</p><p>å¦å¤–å¯¹äºä¸Šé¢ä¸€ä¸ªå‡½æ•°è¿›è¡Œè®²è§£<br>Objects.requireNonNull;<br>å…¶çš„ä»£ç å½¢å¼å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">requireNonNull</span><span class="params">(T obj)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (obj == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">   <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="java" scheme="http://wsx1128.xyz/categories/java/"/>
    
    
      <category term="ç®—æ³•" scheme="http://wsx1128.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="java" scheme="http://wsx1128.xyz/tags/java/"/>
    
      <category term="effective_java" scheme="http://wsx1128.xyz/tags/effective-java/"/>
    
  </entry>
  
</feed>
